{%- layout none -%}{%- assign canonical_url = canonical_url | split: 'compare/' | last | split:'?q=' -%}{%- assign canonical_url_one = canonical_url[0] -%}{%- assign _canonical_url_current = canonical_url[1] | split: '+' -%}{%- assign canonical_url_current = _canonical_url_current[0] | plus: 0 -%}{%- assign collection_url_current = _canonical_url_current[1] -%}{%- if collection_url_current != blank -%}{%- assign collection = collections[collection_url_current] -%}{%- endif -%}{%- assign arr_canonical_url = canonical_url_one | replace: ' ,', ',' | replace: ', ', ',' | split: ',' -%}{%- assign num_limit_ = 0 -%}{%- capture min_html -%}<table class="table compare-list"> <tbody> <tr class="remove odd"> <th>&nbsp;</th>{%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%}<td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}"> <a href="javascript:void(0)" data-rev="{{product.handle}}_sp_{{product.id}}" class="product-remove">{{ 'products.compare.remove' | t }} <span class="remove">x</span></a> </td>{%- endif -%}{%- endfor -%} </tr> <tr class="image even"> <th>Image<div class="fixed-th"></div></th> {%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%}{%- assign current_variant = product.selected_or_first_available_variant -%} {%- assign image = current_variant.featured_image | default: product.featured_image -%} {%- assign image_size = '266x' -%}<td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}">{%- if image != blank -%}{%- assign image_size_first = image_size | split: 'x' | first -%}{%- assign image_width = image.width -%}{%- assign image_height = image_size_first | divided_by: image.aspect_ratio | round -%}{%- assign image_width_append = image_width | append:'x' -%}<div class="image-wrap"><img width="{{ image_size_first }}" height="{{ image_height }}" src="{%-include 'gl_image_format',src: image.src , size: image_size -%}" class="attachment-shop_catalog size-shop_catalog" alt="{{ image.alt | escape }}" srcset="{%-include 'gl_image_format',src: image.src , size: image_size %} {{image_size_first}}w {%- if image_width > 235 -%},{%-include 'gl_image_format',src: image.src , size: '235x' %} 235w{%- endif -%} {%- if image_width > 768 -%},{%-include 'gl_image_format',src: image.src , size: '768x' %} 768w{%- endif -%} {%- if image_width > 803 -%},{%-include 'gl_image_format',src: image.src , size: '803x' %} 803w{%- endif -%} {%- if image_width > 266 -%},{%-include 'gl_image_format',src: image.src , size: '266x' %} 266w{%- endif -%} {%- if image_width > 219 -%},{%-include 'gl_image_format',src: image.src , size: '219x' %} 219w{%- endif -%} {%- if image_width > 526 -%},{%-include 'gl_image_format',src: image.src , size: '526x' %} 526w{%- endif -%} ,{%-include 'gl_image_format',src: image.src , size: image_width_append %} {{image_width}}w" sizes="(max-width: {{ image_size_first }}px) 100vw, {{ image_height }}px"> </div> {%- endif -%} </td>{%- endif -%}{%- endfor -%} </tr> <tr class="title odd"> <th>Title</th>{%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%}<td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}">{{product.title}}</td>{%- endif -%}{%- endfor -%} </tr> <tr class="price even"> <th>Price</th> {%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%}{%- assign current_variant = product.selected_or_first_available_variant -%}{%- assign on_sale = false -%} {%- if current_variant.compare_at_price > current_variant.price -%} {%- unless product.tags contains 'notsale'-%} {%- assign on_sale = true -%} {%-endunless-%} {%- endif -%} <td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}"> {%- if linklists[product.handle] == empty or linklists[product.handle] == "" -%} {%- if product.price_varies -%} <span class="shopify-Price-amount amount">{{ product.price_min | money }}</span> – <span class="shopify-Price-amount amount">{{ product.price_max | money }}</span> {%- elsif on_sale -%}<del id="old-product-price"><span class="shopify-Price-amount amount">{{current_variant.compare_at_price | money }}</span></del> <ins id="product-price"><span class="shopify-Price-amount amount">{{ current_variant.price | money }}</span></ins> {%- else -%} <span class="shopify-Price-amount amount">{{ current_variant.price | money }}</span> {%- endif -%} {%- else -%} {%- if on_sale -%} <span class="shopify-Price-amount amount">{{ current_variant.price | money }}</span> – <span class="shopify-Price-amount amount">{{ current_variant.compare_at_price | money }}</span> {%- else -%} <span class="shopify-Price-amount amount">{{ current_variant.price | money }}</span> {%- endif -%} {%- endif -%} </td> {%- endif -%} {%- endfor -%} </tr> <tr class="add-to-cart odd"> <th>Add to cart</th> {%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%}{%- assign current_variant = product.selected_or_first_available_variant -%}{%- if product.metafields.external and settings.catalog_mode == false -%} {%- assign check = product.metafields.external | first | last -%} {%- if check contains 'https:' or check contains 'http:' -%}{%- assign check_external = true -%}{%-else-%}{%- assign check_external = false -%}{%-endif-%} {%-endif-%} {%- assign sold_out = true -%} {%- if current_variant.available -%} {%- assign sold_out = false -%} {%- endif -%} <td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}"> {%- if linklists[product.handle] == empty or linklists[product.handle] == "" -%} {%- if product.variants.size > 1-%} <a href="{{ product.url | within: product.collections.last }}" rel="nofollow" class="button add_to_cart button alt">{{'products.product.select_option'|t}}</a> {%- elsif check_external == true -%} <a href="{{ check }}" rel="nofollow" class="button add_to_cart button alt">{{ product.metafields.external | first | first }}</a> {%- else -%} {%- if sold_out -%} <a href="{{ product.url | within: product.collections.last }}" rel="nofollow" class="button add_to_cart button alt">{{'products.product.read_more'|t}}</a> {%- else -%} <a href="{{ product.url | within: product.collections.last }}" rel="nofollow" data-pid="{{ product.variants.first.id}}" class="add_compare button add_to_cart_button add_to_cart button alt ajax_add_to_cart">{{'products.product.add_to_cart'|t}}</a> {%- endif -%} {%- endif -%} {%- else -%} <a href="{{ product.url | within: product.collections.last }}" rel="nofollow" class="button add_to_cart button alt">{{'products.product.view'|t}}</a> {%- endif -%} </td> {%- endif -%} {%- endfor -%} </tr> <tr class="description even"> <th>{{ 'products.compare.description' | t }}</th> {%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%} <td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}"> <p> {%- if product.metafields.meta.description_excerpt -%} {{ product.metafields.meta.description_excerpt }} {% elsif product.description contains '[' %} {% assign pr_des = product.description | split: '[' %} {% assign pr_des = pr_des[1] | split: ']' | first | append:']' | prepend:'[' %} {{ product.description | remove: pr_des | strip_html | truncatewords: 31 }} {%-else-%} {{ product.description | strip_html | truncatewords: 31 }} {%-endif-%} </p> </td> {%- endif -%} {%- endfor -%} </tr> <tr class="stock odd"> <th>{{ 'products.compare.availability' | t }}</th> {%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%}{%- assign sold_out = true -%}{%- assign current_variant = product.selected_or_first_available_variant -%} {%- if current_variant.available -%} {%- assign sold_out = false -%} {%- endif -%} <td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}"> {%- if sold_out == false -%} <span class="in-stock">{{ 'products.product.in_stock' | t }}</span> {%- else -%} <span class="out-of-stock">{{ 'products.product.outofstock' | t }}</span> {%- endif -%} </td> {%- endif -%} {%- endfor -%} </tr> <tr class="pa_color even"> <th>{{ 'products.compare.color' | t }}</th> {%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%} <td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}"> {%- for option in product.options_with_values -%} {%- if settings.color_name_check != blank -%}{%- assign _gl_color_name = settings.color_name_check | replace: ' ,', ',' | replace: ', ', ',' | split: ',' -%}{%- assign gl_color_name = _gl_color_name | downcase -%}{%-else-%}{%- assign gl_color_name = '\nathan_dt\' -%}{%-endif-%} {%- assign downcased_option = option.name | downcase -%} {%- assign downcased_option_check = option.name | downcase | prepend: '"' | append: '"' | strip -%} {%- if downcased_option == 'color' or downcased_option == 'colour' or gl_color_name contains downcased_option_check -%} {%- for value in option.values -%} {{ value | capitalize }}{% if forloop.last == false %}, {% endif -%} {%- endfor -%} {%- endif -%} {%- endfor -%} </td> {%- endif -%} {%- endfor -%} </tr> <tr class="pa_size odd"> <th>{{ 'products.compare.size' | t }}</th>{%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%} <td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}"> {%- for option in product.options_with_values -%} {%- assign downcased_option = option.name | downcase -%} {%- assign lang_option = 'Größe'| downcase -%} {%- if downcased_option == 'size' or downcased_option == 'sizes' or downcased_option == 'taille' or downcased_option == lang_option -%} {%- for value in option.values -%} {{ value | upcase }}{% if forloop.last == false %}, {% endif -%} {%- endfor -%} {%- endif -%} {%- endfor -%} </td> {%- endif -%} {%- endfor -%} </tr>{% if page.content != blank %}{%- assign array_content = page.content | replace: ' ,', ',' | replace: ', ', ',' | split: ',' -%} {% for el_content in array_content %} <tr class="{%- cycle 'odd', 'even' %} pa_{{el_content | strip_html | handleize}}"> <th>{{el_content | strip_html | handleize }}</th> {%- assign downcased_content = el_content | strip_html | downcase -%} {%- for handle_product in arr_canonical_url limit:20 -%}{%- assign _handle_product = handle_product | split: '_sp_' | first -%}{%- assign product = all_products[_handle_product] -%}{%- if _handle_product != blank and product != blank -%} <td class="{%- cycle 'odd', 'even' %} gl_{{product.handle}}_sp_{{product.id}}"> {%- for option in product.options_with_values -%} {%- assign downcased_option = option.name | downcase -%} {%- if downcased_option == downcased_content-%} {%- for value in option.values -%} {{ value | capitalize }}{% if forloop.last == false %}, {% endif -%} {%- endfor -%} {%- endif -%} {%- endfor -%} </td> {%- endif -%} {%- endfor -%} </tr>{%- endfor -%} {%- endif -%} </tbody></table>{%- endcapture -%}{{min_html | strip_newlines | remove: "  "}} 