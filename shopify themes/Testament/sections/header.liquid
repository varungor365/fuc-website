<div class="header-section" data-section-id="{{ section.id }}" data-section-type="header-section">
<div id="dl-menu" class="dl-menuwrapper">
  <button class="dl-trigger"><i class="fa fa-bars" aria-hidden="true"></i></button>
  <ul class="dl-menu">
    {% for link in linklists[section.settings.main_nav].links %}
    {% if link.title == section.settings.megadropdown_link %}
    <li>{{ link.title | link_to: link.url }}
      <ul class="dl-submenu">
        {% for block in section.blocks %}      
        <li><a href="#">{{ block.settings.title }}</a>
           <ul class="dl-submenu" {{ block.shopify_attributes }}>
            {% for link in linklists[block.settings.mega-nav].links %}
            <li>{{ link.title | link_to: link.url }}</li>
            {% endfor %}
          </ul>
        </li>
        {% endfor %}         
      </ul>
      </li>
    {% else %}      
      <li {% capture child_list_handle %}{{ link.title | handleize }}{% endcapture %}{% if linklists[child_list_handle] and linklists[child_list_handle].links.size > 0 %}{% endif %}>
        {{ link.title | link_to: link.url }}
        {% capture child_list_handle %}{{ link.title | handleize }}{% endcapture %}
        {% if linklists[child_list_handle] and linklists[child_list_handle].links.size > 0 %}       
        <ul class="dl-submenu">
          {% for l in linklists[child_list_handle].links %}
          <li><a href="{{ l.url }}">{{ l.title }}</a>

            {% capture child_list_handle %}{{ l.title | handleize }}{% endcapture %}
            {% if linklists[child_list_handle] and linklists[child_list_handle].links.size > 0 %}       
            <ul class="dl-submenu">
              {% for l in linklists[child_list_handle].links %}
              <li><a href="{{ l.url }}">{{ l.title }}</a></li>
              {% endfor %}
            </ul>
            {% endif %}

          </li>
          {% endfor %}
        </ul>
        {% endif %}
      </li>
      {% endif %}
      {% endfor %}
    </ul>
  </div><!-- /dl-menuwrapper -->   

<header>
  <div class="row">
    <ul id="social-icons" class="{% if section.settings.hello != blank %}desktop-4{% else%}desktop-6{% endif %} tablet-6 mobile-3">
          {% if settings.facebook_url != blank %}<li><a href="{{ settings.facebook_url }}" target="_blank"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a></li>{% endif %}
          {% if settings.instagram-id != blank %}<li><a href="//instagram.com/{{ settings.instagram-id }}" target="_blank"><i class="fa fa-instagram fa-2x" aria-hidden="true"></i></a></li>{% endif %}      
          {% if settings.twittername != blank %}<li><a href="{{ settings.twittername }}" target="_blank"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a></li>{% endif %}
          {% if settings.pinterest_url != blank %}<li><a href="{{ settings.pinterest_url }}" target="_blank"><i class="fa fa-pinterest fa-2x" aria-hidden="true"></i></a></li>{% endif %}
          {% if settings.tumblr_url != blank %}<li><a href="{{ settings.tumblr_url }}" target="_blank"><i class="fa fa-tumblr fa-2x" aria-hidden="true"></i></a></li>{% endif %}
          {% if settings.youtube_url != blank %}<li><a href="{{ settings.youtube_url }}" target="_blank"><i class="fa fa-youtube fa-2x" aria-hidden="true"></i></a></li>{% endif %}
          {% if settings.googleplus_url != blank %}<li><a href="{{ settings.googleplus_url }}" target="_blank"><i class="fa fa-google-plus-official fa-2x" aria-hidden="true"></i></a></li>{% endif %}
          {% if settings.snapchat-id != blank %}<li><a href="//snapchat.com/add/{{ settings.snapchat-id }}" target="_blank"><i class="fa fa-snapchat-ghost fa-2x" aria-hidden="true"></i></a></li>{% endif %}
          {% if settings.weibo-id != blank %}<li><a href="//weibo.com/{{ settings.weibo-id }}" target="_blank"><i class="fa fa-weibo fa-2x" aria-hidden="true"></i></a></li>{% endif %}
    </ul>
    {% if section.settings.hello != blank %}
    <div id="hello" class="desktop-4 tablet-6 mobile-3">
      {{ section.settings.hello }}
    </div>
    {% endif %}        
    <ul id="cart" class="{% if section.settings.hello != blank %}desktop-4 {% else %}desktop-6{% endif %} tablet-6 mobile-3">
      <li><a href="{{ shop.url }}"><i class="fa fa-home fa-2x" aria-hidden="true"></i></a>
      <li class="seeks"><a id="inline" href="#search_popup" class="open_popup"><i class="fa fa-search fa-2x" aria-hidden="true"></i></a></li>
      <li class="seeks-mobile"><a href="/search"><i class="fa fa-search fa-2x" aria-hidden="true"></i></a></li>
      {% if shop.customer_accounts_enabled %}
      {% if customer  %}
      <li class="cust"><a href="/account"><i class="fa fa-user fa-2x" aria-hidden="true"></i></a></li>
      <li class="cust"><a href="/account/logout"><i class="fa fa-sign-out fa-2x" aria-hidden="true"></i></a></li>
      {% else %}
      <li class="cust"><a href="/account/login"><i class="fa fa-user fa-2x" aria-hidden="true"></i></a></li>
      {% endif %}
      {% endif %}
      {% if settings.show_multiple_currencies %}<li>{% include 'currency-change' %}</li>{% endif %}
      <li class="cart-overview"><a href="/cart">{{ 'layout.header.my_cart' | t }}&nbsp; {% if section.settings.cart_icon == 'cart' %}<i class="fa fa-shopping-cart fa-2x" aria-hidden="true">{% elsif section.settings.cart_icon == 'bag' %}<i class="fa fa-shopping-bag fa-2x" aria-hidden="true">{% endif %}</i>&nbsp; <span id="item_count">{{ cart.item_count }}</span></a>
        <div id="crt">
          {% include 'shopping-cart' %}
          {% if cart.item_count != 0 %}
          <a class="checkout-link" href="/cart">{{ 'cart.general.checkout' | t }}</a>
          {% endif %}
        </div>
      </li>         
    </ul>        
  </div>   
</header>
<div class="header-wrapper">
  <div class="row">
    <div id="logo" class="desktop-12 tablet-6 mobile-3">       
      {% if section.settings.logo != blank %}
      {%- assign image_size = '800x' -%}
      <a href="/">
        <img src="{{ section.settings.logo | img_url: image_size }}" alt="{{ section.settings.logo.alt | default: shop.name }}" itemprop="logo">        
      </a>
      {% else %}
      <a href="/">{{ shop.name }}</a>
      {% endif %}         
    </div> 
  </div>
  <div class="clear"></div>
  <nav>
    <ul id="main-nav" role="navigation" {% if template == 'index' and settings.display-wide %}style="margin-bottom: 0;"{% else %}{% endif %} class="row"> 
      {% for link in linklists[section.settings.main_nav].links %}
      {% include 'navigation' %}
      {% endfor %}
    </ul>
  </nav>
  <div class="clear"></div>
</div>
<style>
  {% if section.settings.logo != blank %}
    @media screen and ( min-width: 740px ) {
    #logo img { max-width: {{ section.settings.logo_max_width }}px; }
    }
  {% else %}
    #logo a { 
      font-size: {{ section.settings.logo-size }}; 
      text-transform: {{ section.settings.logo-transform }}; 
      font-weight: {{ section.settings.logo-weight }}; 
    }
  {% endif %}
  
  #hello p { font-size: {{ section.settings.hello-size }}; font-weight: {{ section.settings.hello-weight }}; }
  
  {% if section.settings.nav-style == 'full' %}
    @media screen and (min-width: 740px ) {
      .dl-menuwrapper { display: none; }
    }
  {% else %}
    nav { display: none; }
  {% endif %}
  ul#main-nav li { 
    line-height: {{ section.settings.nav-height }};
  }
  ul#main-nav li ul.submenu {
   top: {{ section.settings.nav-height }};
  }
  ul.megamenu {
    top: {{ section.settings.nav-height }};
  }
  nav { 
    border-top: {{ section.settings.nav-top-border-height }} solid {{ settings.nav-border-color }};
    border-bottom: {{ section.settings.nav-bottom-border-height }} solid {{ settings.nav-border-color }};  
  }
</style>
</div>

{% schema %}
{
    "name": "Header",
	"max_blocks": 4,
    "settings": [
      {
        "type": "header",
        "content": "Logo"
      },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "text",
      "id": "logo_max_width",
      "label": "Custom logo width (in pixels)",
      "default": "200"
     },
{
        "type": "select",
        "id": "logo-size",
        "label": "Logo text size",
        "options": [
          {
            "value": "12px",
            "label": "12px"
          },
          {
            "value": "13px",
            "label": "13px"
          },
          {
            "value": "14px",
            "label": "14px"
          },
          {
            "value": "15px",
            "label": "15px"
          },
          {
            "value": "16px",
            "label": "16px"
          },
          {
            "value": "17px",
            "label": "17px"
          },
          {
            "value": "18px",
            "label": "18px"
          },
          {
            "value": "19px",
            "label": "19px"
          },
          {
            "value": "20px",
            "label": "20px"
          },
          {
            "value": "21px",
            "label": "21px"
          },
          {
            "value": "22px",
            "label": "22px"
          },
          {
            "value": "23px",
            "label": "23px"
          },
          {
            "value": "24px",
            "label": "24px"
          },
          {
            "value": "25px",
            "label": "25px"
          },
          {
            "value": "26px",
            "label": "26px"
          },
          {
            "value": "27px",
            "label": "27px"
          },
          {
            "value": "28px",
            "label": "28px"
          },
          {
            "value": "29px",
            "label": "29px"
          },
          {
            "value": "30px",
            "label": "30px"
          },
          {
            "value": "31px",
            "label": "31px"
          },
          {
            "value": "32px",
            "label": "32px"
          },
          {
            "value": "33px",
            "label": "33px"
          },
          {
            "value": "34px",
            "label": "34px"
          },
          {
            "value": "35px",
            "label": "35px"
          },
          {
            "value": "36px",
            "label": "36px"
		  }
        ]
      },
      {
        "type": "select",
        "id": "logo-transform",
        "label": "Logo text case",
        "options": [
          {
            "value": "uppercase",
            "label": "Uppercase"
          },
          {
            "value": "none",
            "label": "Normal"
          }
        ]
      },
      {
        "type": "select",
        "id": "logo-weight",
        "label": "Logo text weight",
        "options": [
          {
            "value": "400",
            "label": "Normal"
          },
          {
            "value": "300",
            "label": "Light"
          },
          {
            "value": "700",
            "label": "Bold"
          }
        ]
      },
      {
        "type": "header",
        "content": "Promotional text"
      },
      {
        "type": "richtext",
        "id": "hello",
        "label": "Text",
        "info": "Use basic HTML to format text"
      },
		{
        "type": "select",
        "id": "cart_icon",
        "label": "Cart icon",
        "options": [
          {
            "value": "cart",
            "label": "Cart"
          },
          {
            "value": "bag",
            "label": "Bag"
          }
        ],
	  "info":"You can change the text in your edit language section"
      },
	  {
        "type": "select",
        "id": "hello-size",
        "label": "Size",
        "options": [
          {
            "value": "12px",
            "label": "12px"
          },
          {
            "value": "13px",
            "label": "13px"
          },
          {
            "value": "14px",
            "label": "14px"
          },
          {
            "value": "15px",
            "label": "15px"
          },
          {
            "value": "16px",
            "label": "16px"
          },
          {
            "value": "17px",
            "label": "17px"
          },
          {
            "value": "18px",
            "label": "18px"
          },
          {
            "value": "19px",
            "label": "19px"
          },
          {
            "value": "20px",
            "label": "20px"
          },
          {
            "value": "21px",
            "label": "21px"
          },
          {
            "value": "22px",
            "label": "22px"
          },
          {
            "value": "23px",
            "label": "23px"
          },
          {
            "value": "24px",
            "label": "24px"
          },
          {
            "value": "25px",
            "label": "25px"
          },
          {
            "value": "26px",
            "label": "26px"
          },
          {
            "value": "27px",
            "label": "27px"
          },
          {
            "value": "28px",
            "label": "28px"
          },
          {
            "value": "29px",
            "label": "29px"
          },
          {
            "value": "30px",
            "label": "30px"
          },
          {
            "value": "31px",
            "label": "31px"
          },
          {
            "value": "32px",
            "label": "32px"
          },
          {
            "value": "33px",
            "label": "33px"
          },
          {
            "value": "34px",
            "label": "34px"
          },
          {
            "value": "35px",
            "label": "35px"
          },
          {
            "value": "36px",
            "label": "36px"
		  }
        ]
      },
      {
        "type": "select",
        "id": "hello-weight",
        "label": "Weight",
        "options": [
          {
            "value": "400",
            "label": "Normal"
          },
          {
            "value": "300",
            "label": "Light"
          },
          {
            "value": "700",
            "label": "Bold"
          }
        ]
      },
      {
        "type": "header",
        "content": "Navigation"
      },
      {
        "type": "link_list",
        "id": "main_nav",
        "label": "Choose main menu"
      },
      {
        "type": "select",
        "id": "nav-style",
        "label": "Style",
        "options": [
          {
            "value": "mobile",
            "label": "Mobile"
          },
          {
            "value": "full",
            "label": "Full"
          }
        ]
      },
      {
        "type": "select",
        "id": "nav-height",
        "label": "Height",
        "options": [
          {
            "value": "30px",
            "label": "30px"
          },
          {
            "value": "40px",
            "label": "40px"
          },
          {
            "value": "50px",
            "label": "50px"
          }
        ]
      },
      {
        "type": "select",
        "id": "nav-top-border-height",
        "label": "Top border size",
        "options": [
          {
            "value": "0px",
            "label": "None"
          },
          {
            "value": "1px",
            "label": "1px"
          },
          {
            "value": "2px",
            "label": "2px"
          },
          {
            "value": "3px",
            "label": "3px"
          },
          {
            "value": "4px",
            "label": "4px"
          },
          {
            "value": "5px",
            "label": "5px"
          }
        ]
      },
      {
        "type": "select",
        "id": "nav-bottom-border-height",
        "label": "Bottom border size",
        "options": [
          {
            "value": "0px",
            "label": "None"
          },
          {
            "value": "1px",
            "label": "1px"
          },
          {
            "value": "2px",
            "label": "2px"
          },
          {
            "value": "3px",
            "label": "3px"
          },
          {
            "value": "4px",
            "label": "4px"
          },
          {
            "value": "5px",
            "label": "5px"
          }
        ]
      },
      {
        "type": "header",
        "content": "Mega dropdown"
      },
      {
        "type": "text",
        "id": "megadropdown_link",
        "label": "Mega dropdown link title",
        "default": "Catalog",
        "info": "When hovered this link will open the mega drop-down Menu, you may choose menus to add to this below"
      },
      {
       "type": "image_picker",
       "id": "nav_promo_image",
       "label": "Image"
      },
      {
        "type": "text",
        "id": "nav_promo_link",
        "label": "Mega dropdown image link",
        "default": "\/collections\/all"
      }            
    ],
   "blocks":[  
      {  
         "type":"menu",
         "name":"Menu",
         "settings":[  
            {
               "type": "link_list",
               "id": "mega-nav",
               "label": "Choose a menu"
            },
           {
            "type": "text",
            "id": "title",
            "label": "Menu title",
            "default": "Explore"
           }
         ]
      }
   ]
  }
{% endschema %}