{% comment %}
  Breadcrumbs Snippet - Navigation Trail
  Shows the current page hierarchy
{% endcomment %}

{% if request.page_type != 'index' and request.page_type != 'cart' %}
  <nav class="breadcrumbs" role="navigation" aria-label="breadcrumbs">
    <div class="container">
      <a href="/" class="breadcrumb-link">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        Home
      </a>

      {% if request.page_type == 'product' %}
        <span class="breadcrumb-separator">/</span>
        <a href="/collections/all" class="breadcrumb-link">Products</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">{{ product.title }}</span>
      {% elsif request.page_type == 'collection' %}
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">{{ collection.title }}</span>
      {% elsif request.page_type == 'article' %}
        <span class="breadcrumb-separator">/</span>
        <a href="{{ article.blog.url }}" class="breadcrumb-link">{{ article.blog.title }}</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">{{ article.title }}</span>
      {% elsif request.page_type == 'blog' %}
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">{{ blog.title }}</span>
      {% elsif request.page_type == 'page' %}
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">{{ page.title }}</span>
      {% elsif request.page_type == 'search' %}
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">Search Results</span>
      {% endif %}
    </div>
  </nav>
{% endif %}

<style>
  .breadcrumbs {
    padding: 1rem 2rem;
    background: #f9f9f9;
    border-bottom: 1px solid #f0f0f0;
    font-size: 0.9rem;
  }

  .breadcrumbs .container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .breadcrumb-link {
    color: #0066cc;
    text-decoration: none;
    transition: color 0.3s;
    display: flex;
    align-items: center;
    gap: 0.25rem;
  }

  .breadcrumb-link:hover {
    color: #0051d5;
    text-decoration: underline;
  }

  .breadcrumb-separator {
    color: #ccc;
    margin: 0 0.25rem;
  }

  .breadcrumb-current {
    color: #666;
  }

  @media (max-width: 768px) {
    .breadcrumbs {
      padding: 0.75rem 1rem;
      font-size: 0.85rem;
    }
  }
</style>
