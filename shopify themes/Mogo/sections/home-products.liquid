{%- comment -%}
(c) Tonytemplates Ltd,
https://www.tonytemplates.com/
support@tonytemplates.com
{%- endcomment -%}
{%- comment -%} ### MARGIN ### {%- endcomment -%}
{%- assign loc_margin_class = '' -%}
{%- if section.settings.sec-margin == 'demo2'%}
	{%- assign loc_margin_class = ' tt-home__brands-01' -%}
{%- endif -%}
{%- if section.settings.sec-margin == 'custom'%}
	<style>
		.tt-home__custom_margin_{{ section.id }} {
			margin: {{ section.settings.sec-margin-custom }};
		}
	</style>
	{%- assign loc_margin_class = ' tt-home__custom_margin_' | append: section.id  -%}
{%- endif -%}

{%- comment -%} ### WIDTH ### {%- endcomment -%}
{%- if section.settings.sec-width == 'boxed' -%}
	{%- assign loc_container_class = 'container' | append: loc_margin_class -%}
	{%- assign loc_row_class = 'row tt-product-view' -%}
{%- endif -%}
{%- if section.settings.sec-width == 'fullwidth' -%}
	{%- assign loc_container_class = 'container-fluid ttg-cont-padding--none' | append: loc_margin_class -%}
	{%- assign loc_row_class = 'row tt-product-view ttg-grid-padding--none' -%}
{%- endif -%}

{%- comment -%} ### CONTENT ### {%- endcomment -%}
{%- assign collection = collections[section.settings.collection] -%}
{%- assign collection_title = collection.title -%}
{%- if section.settings.limit != blank -%}
	{%- assign loc-limit = section.settings.limit -%}
{%- else -%}
	{%- assign loc-limit = 999 -%}
{%- endif -%}

{%- assign loc-colwidth = 12 | divided_by: section.settings.products_per_row -%}

<div data-section-id="{{ section.id }}" data-section-type="home-products-col" class="{{ loc_container_class }}" >
	{%- if section.settings.sec-prd-type != 'desconhover' -%}
		<div class="tt-page__section-head tt-page__section-head--center tt-layout__section--pdg">
			<div class="tt-page__title">{{ collection.title }}</div>
		</div>
	{%- endif -%}
	<div class="{{ loc_row_class }}">
		{%- assign set-image_size = '480x480' -%}
		{%- for product in collection.products limit: loc-limit -%}
			<div class="col-sm-6 col-md-{{ loc-colwidth }} col-xl-{{ loc-colwidth }} col-xxl-{{ loc-colwidth }}">
				{%- if section.settings.sec-prd-type == 'afterimage' -%}
					{%- assign set-view = 'sheet' -%}
				{%- endif -%}
				{%- include 'product-list' with set-view -%}
			</div>
		{%- endfor -%}
	</div>
</div>
{% schema %}
{
"name": "Products (collection)",
"settings": [
{
"label": "Product's collection",
"id": "collection",
"type": "collection",
"info": "Show ALL products, unless you select needed collection."
},
{
"type": "select",
"id": "products_per_row",
"label": "Products per row",
"default": "4",
"info": "Applied only for Desktop view. (no tablets, no mobile)",
"options": [
{ "value": "3", "label": "3 products" },
{ "value": "4", "label": "4 products" }
]
},
{
"type": "text",
"id": "limit",
"label": "Product limit",
"default": "8",
"info": "Put number to limit out put for first NUMBER items. Empty - disable limit"
},
{
"type": "header",
"content": "Layout options"
},
{
"label": "Product Type",
"id": "sec-prd-type",
"type": "select",
"default": "desconhover",
"options": [
{
"value": "desconhover",
"label": "Info on Hover"
},
{
"value": "afterimage",
"label": "Info under product image"
}
]
},
{
"label": "Width",
"id": "sec-width",
"type": "select",
"default": "boxed",
"options": [
{
"value": "boxed",
"label": "Boxed"
},
{
"value": "fullwidth",
"label": "Full Width"
}
]
},
{
"label": "Margin",
"id": "sec-margin",
"type": "select",
"default": "none",
"options": [
{
"value": "none",
"label": "None"
},
{
"value": "demo2",
"label": "Demo2"
},
{
"value": "custom",
"label": "Custom"
}
]
},
{
"label": "Custom Margin",
"id": "sec-margin-custom",
"type": "text",
"default": "10px"
}
],
"presets": [
{
"name": "Products (collection)",
"category": "3) Products",
"settings": {
}
}
]
}
{% endschema %}