window.RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},function(win,doc,undefined){var ua=navigator.userAgent;RGraph.Highlight={},RGraph.Registry={},RGraph.Registry.store=[],RGraph.Registry.store["event.handlers"]=[],RGraph.Registry.store.__rgraph_event_listeners__=[],RGraph.Registry.store["rgraph-runonce-functions"]=[],RGraph.Background={},RGraph.background={},RGraph.objects=[],RGraph.Resizing={},RGraph.events=[],RGraph.cursor=[],RGraph.Effects=RGraph.Effects||{},RGraph.cache=[],RGraph.GET={},RGraph.GET.__parts__=null,RGraph.ObjectRegistry={},RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[],RGraph.OR=RGraph.ObjectRegistry,RGraph.PI=Math.PI,RGraph.HALFPI=RGraph.PI/2,RGraph.TWOPI=2*RGraph.PI,RGraph.ISFF=-1!=ua.indexOf("Firefox"),RGraph.ISOPERA=-1!=ua.indexOf("Opera"),RGraph.ISCHROME=-1!=ua.indexOf("Chrome"),RGraph.ISSAFARI=-1!=ua.indexOf("Safari")&&!RGraph.ISCHROME,RGraph.ISWEBKIT=-1!=ua.indexOf("WebKit"),RGraph.ISIE=ua.indexOf("Trident")>0||navigator.userAgent.indexOf("MSIE")>0,RGraph.ISIE6=ua.indexOf("MSIE 6")>0,RGraph.ISIE7=ua.indexOf("MSIE 7")>0,RGraph.ISIE8=ua.indexOf("MSIE 8")>0,RGraph.ISIE9=ua.indexOf("MSIE 9")>0,RGraph.ISIE10=ua.indexOf("MSIE 10")>0,RGraph.ISOLD=RGraph.ISIE6||RGraph.ISIE7||RGraph.ISIE8,RGraph.ISIE11UP=-1==ua.indexOf("MSIE")&&ua.indexOf("Trident")>0,RGraph.ISIE10UP=RGraph.ISIE10||RGraph.ISIE11UP,RGraph.ISIE9UP=RGraph.ISIE9||RGraph.ISIE10UP,RGraph.MONTHS_SHORT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],RGraph.MONTHS_LONG=["January","February","March","April","May","June","July","August","September","October","November","December"],RGraph.DAYS_SHORT=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],RGraph.DAYS_LONG=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],RGraph.HOURS24=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],RGraph.HOURS12=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00"],RGraph.getArgs=function(e,t){var a={},r=0;if(t=t.trim().split(/ *, */),e&&e[0]&&1===e.length&&void 0!==e[0][t[0]]){for(var i=0;i<t.length;++i)void 0===e[0][t[i]]&&(e[0][t[i]]=null);return e[0]}for(var i in t)RGraph.isString(i)&&(a[t[i]]=void 0===e[r]?null:e[r],r+=1);return a},RGraph.getScale=function(e){var t=e.object.properties,a="number"==typeof e.options["scale.labels.count"]?e.options["scale.labels.count"]:5,r="string"==typeof e.options["scale.units.pre"]?e.options["scale.units.pre"]:"",i="string"==typeof e.options["scale.units.post"]?e.options["scale.units.post"]:"",s=Number(e.options["scale.max"]),o="number"==typeof e.options["scale.min"]?e.options["scale.min"]:0,n=e.options["scale.strict"],l=Number(e.options["scale.decimals"]),c=e.options["scale.point"],h=e.options["scale.thousand"],p=s,g=e.options["scale.round"],x={max:1,labels:[],values:[]},b=e.options["scale.formatter"];if(prefix="hbar"===e.object.type?"xaxis":"yaxis",prefix="odo"===e.object.type?"":prefix,s)if(s<=1&&!n){var d=[1,.5,.1,.05,.01,.005,.001,5e-4,1e-4,5e-5,1e-5,5e-6,1e-6,5e-7,1e-7,5e-8,1e-8,5e-9,1e-9,5e-10,1e-10,5e-11,1e-11,5e-12,1e-12,5e-13];for(G=0;G<d.length;++G)if(s>d[G]){G--;break}x.max=d[G],x.labels=[],x.values=[];for(var f=0;f<a;++f){var u=((d[G]-o)/a*(f+1)+o).toFixed(l);x.values.push(u),x.labels.push(RGraph.numberFormat({object:e.object,number:u,unitspre:r,unitspost:i,thousand:h,point:c,formatter:b,decimals:l}))}}else if(n){if("number"==typeof s&&n){for(G=0;G<a;++G)x.labels.push(RGraph.numberFormat({object:e.object,number:((G+1)/a*(s-o)+o).toFixed(l),unitspre:r,unitspost:i,thousand:h,point:c,formatter:b})),x.values.push(((G+1)/a*(s-o)+o).toFixed(l));x.max=s}}else{s=Math.ceil(s);for(var y=Math.pow(10,Math.max(1,Number(String(Number(s)-Number(o)).length-1))),m=y;m<s;)m+=y/2;Number(p)>Number(m)&&(m+=y/2),s<=10&&(m=Number(p)<=5?5:10),e.object&&"boolean"==typeof g&&g&&(m=10*y),x.max=m;var R=t[prefix+"ScalePoint"],v=t[prefix+"ScaleThousand"];e.object.set(prefix+"scaleThousand",h),e.object.set(prefix+"scalePoint",c);for(var G=0;G<a;++G)x.labels.push(RGraph.numberFormat({object:e.object,number:((G+1)/a*(m-o)+o).toFixed(l),unitspre:r,unitspost:i,point:c,thousand:h,formatter:b})),x.values.push(((G+1)/a*(m-o)+o).toFixed(l));e.object.set(prefix+"scaleThousand",v),e.object.set(prefix+"scalePoint",R)}else{s=1;for(var G=0;G<a;++G){var j=(((s-o)/a+o)*(G+1)).toFixed(l);x.labels.push(r+j+i),x.values.push(parseFloat(j))}}x.units_pre=r,x.units_post=i,x.point=c,x.decimals=l,x.thousand=h,x.numlabels=a,x.round=Boolean(g),x.min=o,x.formatter=b;for(G=0;G<x.values.length;++G)x.values[G]=parseFloat(x.values[G]);return x},RGraph.parseJSONGradient=function(args){var obj=args.object,def=args.def,context=args.object.context;if(def=eval("("+def+")"),"number"==typeof def.r1&&"number"==typeof def.r2)var grad=context.createRadialGradient(def.x1,def.y1,def.r1,def.x2,def.y2,def.r2);else var grad=context.createLinearGradient(def.x1,def.y1,def.x2,def.y2);var diff=1/(def.colors.length-1);grad.addColorStop(0,RGraph.trim(def.colors[0]));for(var j=1,len=def.colors.length;j<len;++j)grad.addColorStop(j*diff,RGraph.trim(def.colors[j]));return grad},RGraph.arrayLast=function(e){return e[e.length-1]},RGraph.arrayInvert=function(){for(var e=RGraph.getArgs(arguments,"array"),t=0,a=e.array.length;t<a;++t)e.array[t]=!e.array[t];return e.array},RGraph.arrayTrim=function(){for(var e=RGraph.getArgs(arguments,"array"),t=[],a=!1,r=0;r<e.array.length;r++)e.array[r]&&(a=!0),a&&t.push(e.array[r]);t=RGraph.arrayReverse(t);var i=[];for(a=!1,r=0;r<t.length;r++)t[r]&&(a=!0),a&&i.push(t[r]);return i=RGraph.arrayReverse(i)},RGraph.arrayClone=function(e,t=!1,a=5){if(!(a<0)){var r=null;if(void 0===e)return undefined;if("object"==typeof e&&!e)return null;switch(typeof e){case"string":r=String(e);break;case"number":r=Number(e);break;case"boolean":case"function":r=e;break;case"object":if(e.constructor.toString().indexOf("Array")>=0){r=new Array;for(var i=0;i<e.length;++i)r[i]=RGraph.arrayClone(e[i],t,a-1)}else if(e.constructor.toString().indexOf("Object")>0&&t)for(var i in r=new Object,e)r[i]=RGraph.arrayClone(e[i],!0,a-1)}return r}},RGraph.arrayMax=function(){var e=RGraph.getArgs(arguments,"array,ignore"),t=null;if("number"==typeof e.array)return e.array;if(RGraph.isNullish(e.array))return 0;for(var a=0,r=e.array.length;a<r;++a)if("number"==typeof e.array[a]&&!isNaN(e.array[a])){var i=e.ignore?Math.abs(e.array[a]):e.array[a];t="number"==typeof t?Math.max(t,i):i}return t},RGraph.arrayMin=function(e){e=RGraph.getArgs(arguments,"array,ignore");var t=null;Math;if("number"==typeof e.array)return e.array;if(RGraph.isNullish(e.array))return 0;for(var a=0,r=e.array.length;a<r;++a)if("number"==typeof e.array[a]){var i=e.ignore?Math.abs(e.array[a]):e.array[a];t="number"==typeof t?Math.min(t,i):i}return t},RGraph.arrayFill=RGraph.arrayPad=function(){var e=RGraph.getArgs(arguments,"array,length,value");if(e.array.length<e.length)for(var t=e.array.length;t<e.length;t+=1)e.array[t]=e.value;return e.array},RGraph.arraySum=function(){var e=RGraph.getArgs(arguments,"array");if("number"==typeof e.array)return e.array;if(RGraph.isNullish(e.array))return 0;var t,a,r=e.array.length;for(t=0,a=0;t<r;a+=e.array[t++]||0);return a},RGraph.arrayRemoveNull=function(){var e=RGraph.getArgs(arguments,"source,options");if(e.options||(e.options={}),RGraph.isArray(e.source)){var t=[];for(let a in e.source)RGraph.isNullish(e.source[a])?RGraph.isUndefined(e.options.value)||t.push(e.options.value):RGraph.isArray(e.source[a])||RGraph.isObject(e.source[a])&&e.options.objects?t.push(RGraph.arrayRemoveNull(e.source[a],e.options)):t.push(e.source[a])}else if(RGraph.isObject(e.source)&&e.options.objects){t={};for(let a in e.source)RGraph.isArray(e.source[a])||RGraph.isObject(e.source[a])?t[a]=RGraph.arrayRemoveNull(e.source[a],e.options):RGraph.isNullish(e.source[a])?RGraph.isNullish(e.source[a])&&(RGraph.isUndefined(e.options.value)||(t[a]=e.options.value)):Object.defineProperty(t,a,{value:e.source[a]})}else if(RGraph.isObject(e.source)&&!e.options.objects)t=e.source;else t=e.source;return t},RGraph.arrayLinearize=function(){for(var e=[],t=arguments,a=0,r=t.length;a<r;++a)if("object"==typeof t[a]&&t[a])for(var i=0,s=t[a].length;i<s;++i)for(var o=RGraph.arrayLinearize(t[a][i]),n=0,l=o.length;n<l;++n)e.push(o[n]);else e.push(t[a]);return e},RGraph.arrayShift=function(){for(var e=RGraph.getArgs(arguments,"array"),t=[],a=1,r=e.array.length;a<r;++a)t.push(e.array[a]);return t},RGraph.arrayReverse=function(){var e=RGraph.getArgs(arguments,"array");if(e.array){for(var t=[],a=e.array.length-1;a>=0;a-=1)t.push(e.array[a]);return t}},RGraph.abs=function(){var e=RGraph.getArgs(arguments,"value");if("string"==typeof e.value&&(e.value=parseFloat(e.value)||0),"number"==typeof e.value)return Math.abs(e.value);if("object"==typeof e.value){for(i in e.value)"string"!=typeof e.value[i]&&"number"!=typeof e.value[i]&&"object"!=typeof e.value[i]||(e.value[i]=RGraph.abs(e.value[i]));return e.value}return 0},RGraph.clear=RGraph.Clear=function(e){var t=(e=RGraph.getArgs(arguments,"canvas,color")).canvas.__object__,a=e.canvas.getContext("2d"),r=e.color||t&&t.get("clearto");if(e.canvas){if(RGraph.fireCustomEvent(t,"onbeforeclear"),RGraph.text.domNodeCache&&RGraph.text.domNodeCache[e.canvas.id])for(var i in RGraph.text.domNodeCache[e.canvas.id]){var s=RGraph.text.domNodeCache[e.canvas.id][i];s&&s.style&&(s.style.display="none")}if(!r||r&&"rgba(0,0,0,0)"===r||"transparent"===r?(a.clearRect(-100,-100,e.canvas.width+200,e.canvas.height+200),a.globalCompositeOperation="source-over"):r?t.path("fs % fr -100 -100 % %",r,e.canvas.width+200,e.canvas.height+200):t.path("fs % fr -100 -100 % %",t.get("clearto"),e.canvas.width+200,e.canvas.height+200),RGraph.Registry.get("background.image."+e.canvas.id)){var o=RGraph.Registry.get("background.image."+e.canvas.id);o.style.position="absolute",o.style.left="-10000px",o.style.top="-10000px"}RGraph.Registry.get("tooltip")&&t&&!t.get("tooltipsNohideonclear")&&RGraph.hideTooltip(e.canvas),e.canvas.style.cursor="default",RGraph.fireCustomEvent(t,"onclear")}},RGraph.drawTitle=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object,a="center",r="center",i=(t.canvas.width-t.properties.marginLeft-t.properties.marginRight)/2+t.properties.marginLeft,s=null,o=RGraph.getTextConf({object:e.object,prefix:"title"});if(t.context.beginPath(),t.context.fillStyle=o.color,RGraph.isNumber(t.properties.titleSize)||(o.size+=4),RGraph.isBoolean(t.properties.titleBold)||(o.bold=!0),s=t.properties.marginTop-o.size-5,"top"===t.properties.xaxisPosition&&(s=t.canvas.height-t.properties.marginBottom+o.size+5),t.properties.key&&t.properties.key.length&&t.properties.keyPosition&&"margin"!==t.properties.keyPosition)r="center";else if(t.properties.key&&t.properties.key.length&&t.properties.keyPosition&&"margin"===t.properties.keyPosition){r="bottom";s-=RGraph.measureText({bold:t.properties.keyLabelsBold,italic:t.properties.keyLabelsItalic,size:t.properties.keyLabelsSize,font:t.properties.keyLabelsFont,text:"Mg"})[1]}else r="center";RGraph.isNumber(t.properties.titleX)&&(i=t.properties.titleX),RGraph.isNumber(t.properties.titleY)&&(s=t.properties.titleY),RGraph.isString(t.properties.titleX)&&(i+=parseFloat(t.properties.titleX)),RGraph.isString(t.properties.titleY)&&(s+=parseFloat(t.properties.titleY)),RGraph.isNumber(t.properties.titleOffsetx)&&(i+=t.properties.titleOffsetx),RGraph.isNumber(t.properties.titleOffsety)&&(s+=t.properties.titleOffsety),r=RGraph.isString(t.properties.titleSubtitle)&&t.properties.titleSubtitle.length>0?"bottom":"center",RGraph.isString(t.properties.titleHalign)&&(a=t.properties.titleHalign),RGraph.isString(t.properties.titleValign)&&(r=t.properties.titleValign);var n=t.context.fillStyle;t.context.fillStyle=o.color?o.color:"black";RGraph.text({object:t,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:i,y:s,text:t.properties.title,valign:r,halign:a,tag:"title",marker:!1});if("string"==typeof t.properties.titleSubtitle&&t.properties.titleSubtitle.length){RGraph.isNullish(t.properties.titleSubtitleSize)&&(t.properties.titleSubtitleSize=o.size-4);o=RGraph.getTextConf({object:t,prefix:"titleSubtitle"}),RGraph.text({object:t,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:i+t.properties.titleSubtitleOffsetx,y:s+t.properties.titleSubtitleOffsety,text:t.properties.titleSubtitle,valign:"top",halign:a,tag:"subtitle",marker:!1})}t.context.fillStyle=n},RGraph.getMouseXY=function(){if("number"==typeof window.event.offsetX&&"number"==typeof window.event.offsetY)return[window.event.offsetX,window.event.offsetY];var e=RGraph.getArgs(arguments,"event");if(e.event.target){var t,a,r=e.event.target,i=r.style,s=0,o=0,n=parseInt(i.borderLeftWidth)||0,l=parseInt(i.borderTopWidth)||0,c=parseInt(i.paddingLeft)||0,h=parseInt(i.paddingTop)||0,p=n+c,g=l+h;if("number"==typeof e.event.offsetX&&"number"==typeof e.event.offsetY)RGraph.ISIE||RGraph.ISOPERA?RGraph.ISIE?(t=e.event.offsetX-c,a=e.event.offsetY-h):(t=e.event.offsetX,a=e.event.offsetY):(t=e.event.offsetX-n-c,a=e.event.offsetY-l-h);else{if(void 0!==r.offsetParent)do{s+=r.offsetLeft,o+=r.offsetTop}while(r=r.offsetParent);t=e.event.pageX-s-p,a=e.event.pageY-o-g,t-=2*(parseInt(document.body.style.borderLeftWidth)||0),a-=2*(parseInt(document.body.style.borderTopWidth)||0)}return[t,a]}},RGraph.getCanvasXY=function(){var e=RGraph.getArgs(arguments,"canvas");if(e.canvas.getBoundingClientRect){var t=e.canvas.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return[t.x+a,t.y+r]}var i=0,s=0,o=e.canvas;do{i+=o.offsetLeft,s+=o.offsetTop,"table"==o.tagName.toLowerCase()&&(RGraph.ISCHROME||RGraph.ISSAFARI)&&(i+=parseInt(o.border)||0,s+=parseInt(o.border)||0),o=o.offsetParent}while(o&&"body"!=o.tagName.toLowerCase());var n=e.canvas.style.paddingLeft?parseInt(e.canvas.style.paddingLeft):0,l=e.canvas.style.paddingTop?parseInt(e.canvas.style.paddingTop):0,c=e.canvas.style.borderLeftWidth?parseInt(e.canvas.style.borderLeftWidth):0,h=e.canvas.style.borderTopWidth?parseInt(e.canvas.style.borderTopWidth):0;return navigator.userAgent.indexOf("Firefox")>0&&(i+=parseInt(document.body.style.borderLeftWidth)||0,s+=parseInt(document.body.style.borderTopWidth)||0),[i+n+c,s+l+h]},RGraph.isFixed=function(){for(var e=RGraph.getArgs(arguments,"canvas");e.canvas&&"body"!=e.canvas.tagName.toLowerCase();){if("fixed"==e.canvas.style.position)return e.canvas;e.canvas=e.canvas.offsetParent}return!1},RGraph.register=function(){var e=RGraph.getArgs(arguments,"object");if("function"==typeof e.object){var t=e.object;e.object=new function(){this.id=null,this.isFunction=!0,this.canvas={id:null},this.getObjectByXY=function(){return!1},this.get=function(){},this.set=function(){},this.draw=function(){t()}}}e.object.get("noregister")||!1===e.object.get("register")||(RGraph.ObjectRegistry.add(e.object),e.object.set("register",!1))},RGraph.redraw=function(){var e=RGraph.getArgs(arguments,"color"),t=RGraph.ObjectRegistry.objects.byCanvasID;if("object"==typeof e.color&&e.color&&"function"==typeof e.color.toString&&"function"==typeof e.color.toString().indexOf&&e.color.toString().indexOf("HTMLCanvasElement")>-1){var a={canvas:e.color};return arguments[1]&&(a.color=arguments[1]),RGraph.redrawCanvas(a)}for(var r=document.getElementsByTagName("canvas"),i=0,s=r.length;i<s;++i)r[i]&&r[i].__object__&&r[i].__object__.isrgraph&&(r[i].noclear||RGraph.clear(r[i],e.color?e.color:null));for(i=0,s=t.length;i<s;++i)if(t[i]){t[i][0];t[i][1].draw()}},RGraph.redrawCanvas=function(){var e=RGraph.getArgs(arguments,"canvas,clear,color"),t=RGraph.ObjectRegistry.getObjectsByCanvasID(e.canvas.id);if(RGraph.isNullish(e.clear)||"boolean"==typeof e.clear&&!1!==e.clear){e.color||e.canvas.__object__.get("clearto");RGraph.clear(e.canvas,e.color)}for(var a=0,r=t.length;a<r;++a)t[a]&&t[a]&&t[a].isrgraph&&t[a].draw()},RGraph.Background.draw=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties,a=0,r=e.object.marginLeft,i=e.object.marginRight,s=e.object.marginTop,o=e.object.marginBottom,n=t.variant;if(RGraph.fireCustomEvent(e.object,"beforebackground"),e.object.context.fillStyle=t.textColor,"3d"==n&&(e.object.context.save(),e.object.context.translate(t.variantThreedOffsetx,-1*t.variantThreedOffsety)),"bar"!==e.object.type&&"waterfall"!==e.object.type&&"hbar"!==e.object.type&&"line"!==e.object.type&&"gantt"!==e.object.type&&"scatter"!==e.object.type&&"string"==typeof t.xaxisTitle&&t.xaxisTitle.length){t.textSize;var l=(e.object.canvas.width-r-i)/2+r,c=e.object.canvas.height-o+25;"number"==typeof t.xaxisTitlePos&&(c=e.object.canvas.height-o*t.xaxisTitlePos),"number"==typeof t.xaxisTitleX&&(l=t.xaxisTitleX),"number"==typeof t.xaxisTitleY&&(c=t.xaxisTitleY);var h=RGraph.getTextConf({object:e.object,prefix:"xaxisTitle"});RGraph.text({object:e.object,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:l,y:c,text:t.xaxisTitle,halign:"center",valign:"top",tag:"xaxis.title"})}if("bar"!==e.object.type&&"waterfall"!==e.object.type&&"hbar"!==e.object.type&&"line"!==e.object.type&&"gantt"!==e.object.type&&"scatter"!==e.object.type&&"string"==typeof t.yaxisTitle&&t.yaxisTitle.length){t.textSize,t.textFont,t.textItalic;var p=270,g=(t.yaxisTitleBold,t.yaxisTitleColor);if("number"==typeof t.yaxisTitlePos)var x=t.yaxisTitlePos*r;else if("hbar"===e.object.type&&RGraph.isNullish(t.yaxisTitlePos))x=t.marginLeft-e.object.yaxisLabelsSize;else{if(e.object&&e.object.scale2)var b=RGraph.measureText({text:e.object.scale2.labels[e.object.scale2.labels.length-1],bold:"boolean"==typeof t.yaxisScaleBold?t.yaxisScaleBold:t.textBold,font:t.yaxisScaleFont||t.textFont,size:"number"==typeof t.yaxisScaleSize?t.yaxisScaleSize:t.textSize});else b=[0,0];x=t.marginLeft-b[0]-7}"number"==typeof t.yaxisTitleSize&&t.yaxisTitleSize,"boolean"==typeof t.yaxisTitleItalic&&t.yaxisTitleItalic,"string"==typeof t.yaxisTitleFont&&t.yaxisTitleFont,("right"==t.yaxisTitleAlign||"right"==t.yaxisTitlePosition||"hbar"===e.object.type&&"right"===t.yaxisPosition&&void 0===t.yaxisTitleAlign&&void 0===t.yaxisTitlePosition)&&(p=90,x="number"==typeof t.yaxisTitlePos?e.object.canvas.width-i+t.yaxisTitlePos*i:e.object.canvas.width-i+(t.yaxisLabelsSize||t.textSize)+10);var d=(e.object.canvas.height-s-o)/2+s;"number"==typeof t.yaxisTitleX&&(x=t.yaxisTitleX),"number"==typeof t.yaxisTitleY&&(d=t.yaxisTitleY),e.object.context.fillStyle=g;h=RGraph.getTextConf({object:e.object,prefix:"yaxisTitle"});RGraph.text({object:e.object,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:x,y:d,valign:"bottom",halign:"center",angle:p,text:t.yaxisTitle,tag:"yaxis.title",accessible:!1})}var f=t.backgroundColor;f&&(e.object.context.fillStyle=f,e.object.context.fillRect(r+.5,s+.5,e.object.canvas.width-r-i,e.object.canvas.height-s-o));var u=t.yaxisLabelsCount||5;"number"==typeof t.backgroundBarsCount&&(u=t.backgroundBarsCount);var y=(e.object.canvas.height-o-s)/u;e.object.context.beginPath(),e.object.context.fillStyle=t.backgroundBarsColor1,e.object.context.strokeStyle=e.object.context.fillStyle,a=e.object.canvas.height-o;for(var m=0;m<u;m+=2)e.object.context.rect(r,m*y+s,e.object.canvas.width-r-i,y);e.object.context.fill(),e.object.context.beginPath(),e.object.context.fillStyle=t.backgroundBarsColor2,e.object.context.strokeStyle=e.object.context.fillStyle;for(m=1;m<u;m+=2)e.object.context.rect(r,m*y+s,e.object.canvas.width-r-i,y);e.object.context.fill(),e.object.context.beginPath();if(RGraph.cachedDraw(e.object,e.object.uid+"_background",(function(n,l,c){if(t.backgroundGrid){if(t.backgroundGridHlinesCount+=1e-4,t.backgroundGridAutofit){t.backgroundGridAutofitAlign&&("hbar"===n.type&&n.set("backgroundGridHlinesCount",n.data.length),"line"===n.type?"number"==typeof t.backgroundGridVlinesCount||(t.xaxisLabels&&t.xaxisLabels.length?n.set("backgroundGridVlinesCount",t.xaxisLabels.length-1):n.set("backgroundGridVlinesCount",n.data[0].length>0?n.data[0].length-1:0)):"waterfall"===n.type?n.set("backgroundGridVlinesCount",n.data.length+(t.total?1:0)):"bar"===n.type?n.set("backgroundGridVlinesCount",n.data.length):"scatter"===n.type?"number"!=typeof t.backgroundGridVlinesCount&&(RGraph.isArray(t.xaxisLabels)&&t.xaxisLabels.length?n.set("backgroundGridVlinesCount",t.xaxisLabels.length):n.set("backgroundGridVlinesCount",10)):"gantt"===n.type?("number"==typeof n.get("backgroundGridVlinesCount")||n.set("backgroundGridVlinesCount",t.xaxisScaleMax),n.set("backgroundGridHlinesCount",n.data.length)):"hbar"===n.type&&RGraph.isNullish(t.backgroundGridHlinesCount)&&n.set("backgroundGridHlinesCount",n.data.length));var h=(l.width-r-i)/t.backgroundGridVlinesCount,p=(l.height-s-o)/t.backgroundGridHlinesCount;n.set("backgroundGridVsize",h),n.set("backgroundGridHsize",p)}if(n.context.beginPath(),c.lineWidth=t.backgroundGridLinewidth?t.backgroundGridLinewidth:1,c.strokeStyle=t.backgroundGridColor,t.backgroundGridDashed&&"function"==typeof c.setLineDash&&c.setLineDash([3,5]),t.backgroundGridDotted&&"function"==typeof c.setLineDash&&c.setLineDash([1,3]),RGraph.isArray(t.backgroundGridDashArray)&&c.setLineDash(t.backgroundGridDashArray),n.context.beginPath(),t.backgroundGridHlines){a=l.height-o;p=t.backgroundGridHsize;for(d=s;d<=a+1;d+=p)c.moveTo(r,Math.round(d)),c.lineTo(e.object.canvas.width-i,Math.round(d)),"3d"===e.object.properties.variant&&"bar"===e.object.type&&e.object.properties.backgroundGridThreedYaxis&&(c.moveTo(r,Math.round(d)),c.lineTo(r-e.object.properties.variantThreedOffsetx,Math.round(d)+e.object.properties.variantThreedOffsety))}if(t.backgroundGridVlines)for(var g=l.width-i,x=(h=t.backgroundGridVsize,r);Math.round(x)<=g;x+=h)c.moveTo(Math.round(x),s),c.lineTo(Math.round(x),n.canvas.height-o);t.backgroundGridBorder&&(c.strokeStyle=t.backgroundGridColor,c.strokeRect(Math.round(r),Math.round(s),n.canvas.width-r-i,n.canvas.height-s-o))}c.stroke(),c.beginPath(),c.closePath()})),"3d"==n&&e.object.context.restore(),"function"==typeof e.object.context.setLineDash&&e.object.context.setLineDash([]),e.object.context.stroke(),t.backgroundBorder){g=RGraph.isString(t.backgroundBorderColor)?t.backgroundBorderColor:"#aaa";var R=RGraph.isNumber(t.backgroundBorderLinewidth)?t.backgroundBorderLinewidth:1;t.backgroundBorderDashed&&"function"==typeof e.object.context.setLineDash&&e.object.context.setLineDash([3,5]),t.backgroundBorderDotted&&"function"==typeof e.object.context.setLineDash&&e.object.context.setLineDash([1,3]),RGraph.isArray(t.backgroundBorderDashArray)&&e.object.context.setLineDash(t.backgroundBorderDashArray),e.object.path("b lc square lw % r % % % % s %",R,e.object.properties.marginLeft,e.object.properties.marginTop,e.object.canvas.width-e.object.properties.marginLeft-e.object.properties.marginRight,e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom,g),e.object.context.setLineDash([])}"string"==typeof e.object.properties.title&&RGraph.drawTitle(e.object),RGraph.fireCustomEvent(e.object,"background")},RGraph.numberFormat=function(e){var t,a,r=e.unitspre?String(e.unitspre):"",i=e.unitspost?String(e.unitspost):"",s="",o="",n="string"==typeof e.point?e.point:".",l="string"==typeof e.thousand?e.thousand:",";if(RegExp.$1="","function"==typeof e.formatter)return e.formatter(e);if(String(e.number).indexOf("e")>0)return String(r+String(e.number)+i);if(e.number=String(e.number),e.number.indexOf(".")>0){var c=e.number;e.number=e.number.replace(/\.(.*)/,""),o=c.replace(/(.*)\.(.*)/,"$2")}var h=l;for(t=e.number.length-1,a=0;t>=0;a++,t--){a%3==0&&0!=a&&(s+=h),s+=e.number.charAt(t)}var p=s;for(s="",t=p.length-1;t>=0;t--)s+=p.charAt(t);return 0==s.indexOf("-"+e.thousand)&&(s="-"+s.substr(("-"+e.thousand).length)),o.length&&(s=s+n+o,o="",RegExp.$1=""),"-"==s.charAt(0)&&(s=s.replace(/-/,""),r="-"+r),r+(s=s.replace(/^,+/,""))+i},RGraph.drawBars=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties,a=t.backgroundHbars;if(null!==a){e.object.context.beginPath();for(var r=0,i=a.length;r<i;++r){var s=a[r][0],o=a[r][1],n=a[r][2];RGraph.isNullish(s)&&(s=e.object.scale2.max),s>e.object.scale2.max&&(s=e.object.scale2.max),RGraph.isNullish(o)&&(o=e.object.scale2.max-s),s+o>e.object.scale2.max&&(o=e.object.scale2.max-s),s+o<-1*e.object.scale2.max&&(o=-1*e.object.scale2.max-s),"center"==t.xaxisPosition&&s==e.object.scale2.max&&o<-2*e.object.scale2.max&&(o=-2*e.object.scale2.max);var l=t.marginLeft,c=e.object.getYCoord(s),h=e.object.canvas.width-t.marginLeft-t.marginRight,p=e.object.getYCoord(s+o)-c;-1!=RGraph.ISOPERA&&"center"==t.xaxisPosition&&p<0&&(c-=p*=-1),"top"==t.xaxisPosition&&(c=e.object.canvas.height-c,p*=-1),e.object.context.fillStyle=n,e.object.context.fillRect(l,c,h,p)}}},RGraph.drawInGraphLabels=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties,a=t.labelsIngraph,r=[];if(a){for(var i=RGraph.getTextConf({object:e.object,prefix:"labelsIngraph"}),s=0,o=a.length;s<o;s+=1)if("number"==typeof a[s])for(var n=0;n<a[s];++n)r.push(null);else"string"==typeof a[s]||"object"==typeof a[s]?r.push(a[s]):r.push("");if(RGraph.noShadow(e.object),r&&r.length>0)for(s=0,o=r.length;s<o;s+=1)if(r[s]){var l=e.object.coords[s];if(l&&l.length>0){var c=("bar"==e.object.type?l[0]+l[2]/2:l[0])+(t.labelsIngraphOffsetx||0),h=("bar"==e.object.type?l[1]+l[3]/2:l[1])+(t.labelsIngraphOffsety||0),p="number"==typeof r[s][4]?r[s][4]:25;if(e.object.context.beginPath(),e.object.context.fillStyle="black",e.object.context.strokeStyle="black","bar"===e.object.type){if("top"==e.object.get("xaxisPosition")&&(p*=-1),"dot"==t.variant){e.object.context.moveTo(Math.round(c),e.object.coords[s][1]-5),e.object.context.lineTo(Math.round(c),e.object.coords[s][1]-5-p);var g=Math.round(c),x=e.object.coords[s][1]-5-p}else if("arrow"==t.variant){e.object.context.moveTo(Math.round(c),e.object.coords[s][1]-5),e.object.context.lineTo(Math.round(c),e.object.coords[s][1]-5-p);g=Math.round(c),x=e.object.coords[s][1]-5-p}else{e.object.context.arc(Math.round(c),h,2.5,0,6.28,0),e.object.context.moveTo(Math.round(c),h),e.object.context.lineTo(Math.round(c),h-p);g=Math.round(c),x=h-p}e.object.context.stroke(),e.object.context.fill()}else{if("object"==typeof r[s]&&"number"==typeof r[s][3]&&-1==r[s][3]){d(c,h);var b="top";g=c,x=h+5+p}else{g=c;if((x=h-5-p)<5&&("string"==typeof r[s]||void 0===r[s][3])){x=h+5+p;b="top"}"top"===b?d(c,h):f(c,h)}e.object.context.fill()}e.object.context.beginPath(),"object"==typeof r[s]&&"string"==typeof r[s][1]?e.object.context.fillStyle=r[s][1]:e.object.context.fillStyle=t.labelsIngraphColor,RGraph.text({object:e.object,font:i.font,size:i.size,color:e.object.context.fillStyle||i.color,bold:i.bold,italic:i.italic,x:g,y:x+(e.object.properties.textAccessible?2:0),text:"object"==typeof r[s]&&"string"==typeof r[s][0]?r[s][0]:r[s],valign:b||"bottom",halign:"center",bounding:!0,"bounding.fill":"object"==typeof r[s]&&"string"==typeof r[s][2]?r[s][2]:"white",tag:"labels ingraph"}),e.object.context.fill()}function d(t,a){e.object.context.moveTo(Math.round(t),a+5),e.object.context.lineTo(Math.round(t),a+5+p),e.object.context.stroke(),e.object.context.beginPath(),e.object.context.moveTo(Math.round(t),a+5),e.object.context.lineTo(Math.round(t)-3,a+10),e.object.context.lineTo(Math.round(t)+3,a+10),e.object.context.closePath()}function f(t,a){e.object.context.moveTo(Math.round(t),a-5),e.object.context.lineTo(Math.round(t),a-5-p),e.object.context.stroke(),e.object.context.beginPath(),e.object.context.moveTo(Math.round(t),a-5),e.object.context.lineTo(Math.round(t)-3,a-10),e.object.context.lineTo(Math.round(t)+3,a-10),e.object.context.closePath()}b=undefined}}},RGraph.hideCrosshairCoords=function(){var e=RGraph.Registry.get("coordinates.coords.div");if(e&&1==e.style.opacity&&e.__object__.get("crosshairsCoordsFadeout")){var t=RGraph.Registry.get("coordinates.coords.div").style;setTimeout((function(){t.opacity=.9}),25),setTimeout((function(){t.opacity=.8}),50),setTimeout((function(){t.opacity=.7}),75),setTimeout((function(){t.opacity=.6}),100),setTimeout((function(){t.opacity=.5}),125),setTimeout((function(){t.opacity=.4}),150),setTimeout((function(){t.opacity=.3}),175),setTimeout((function(){t.opacity=.2}),200),setTimeout((function(){t.opacity=.1}),225),setTimeout((function(){t.opacity=0}),250),setTimeout((function(){t.display="none"}),275)}},RGraph.draw3DAxes=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties,a=e.object.marginLeft,r=e.object.marginRight,i=e.object.marginTop,s=e.object.marginBottom,o=t.xaxisPosition,n=(e.object.canvas.height-i-s)/2,l=t.variantThreedOffsetx,c=t.variantThreedOffsety,h=t.variantThreedXaxis;if(t.variantThreedYaxis&&RGraph.draw3DYAxis(e.object),h)if("center"===o)e.object.path("b m % % l % % l % % l % % c s #aaa f %",a,i+n,a+l,i+n-c,e.object.canvas.width-r+l,i+n-c,e.object.canvas.width-r,i+n,t.variantThreedXaxisColor);else{if("hbar"===e.object.type)var p=e.object.canvas.height-e.object.properties.marginBottom;else p=e.object.getYCoord(0);e.object.path("m % % l % % l % % l % % c s #aaa f %",a,p,a+l,p-c,e.object.canvas.width-r+l,p-c,e.object.canvas.width-r,p,t.variantThreedXaxisColor)}},RGraph.draw3DYAxis=function(e){var t=(e=RGraph.getArgs(arguments,"object")).object.properties,a=e.object.marginLeft,r=e.object.marginRight,i=e.object.marginTop,s=e.object.marginBottom,o=(t.xaxisPosition,e.object.canvas.height,t.variantThreedOffsetx),n=t.variantThreedOffsety;t.variantThreedYaxisColor;if("hbar"!==e.object.type&&"bar"!==e.object.type||"center"!==t.yaxisPosition)if("hbar"!==e.object.type&&"bar"!==e.object.type||"right"!==t.yaxisPosition)l=a;else var l=e.object.canvas.width-r;else var l=(e.object.canvas.width-a-r)/2+a;e.object.path("b m % % l % % l % % l % % s #aaa f % b",l,i,l+o,i-n,l+o,e.object.canvas.height-s-n,l,e.object.canvas.height-s,t.variantThreedYaxisColor)},RGraph.roundedRect=function(){var e=RGraph.getArgs(arguments,"context,x,y,width,height,radius,roundtl,roundtr,roundbl,roundbr"),t=e.radius&&e.radius;t=Math.min(Math.min(e.width,e.height)/2,e.radius);var a=!1!==e.roundtl,r=!1!==e.roundtr,i=!1!==e.roundbl,s=!1!==e.roundbr;e.context.beginPath(),e.context.moveTo(e.x,e.y+t),a?e.context.arc(e.x+t,e.y+t,t,RGraph.PI,RGraph.PI+RGraph.HALFPI,!1):(e.context.lineTo(e.x,e.y),e.context.lineTo(e.x+t,e.y)),r?e.context.arc(e.x+e.width-t,e.y+t,t,RGraph.PI+RGraph.HALFPI,0,!1):(e.context.lineTo(e.x+e.width,e.y),e.context.lineTo(e.x+e.width,e.y+t)),s?e.context.arc(e.x+e.width-t,e.y+e.height-t,t,0,RGraph.HALFPI,!1):(e.context.lineTo(e.x+e.width,e.y+e.height),e.context.lineTo(e.x+e.width-t,e.y+e.height)),i?e.context.arc(e.x+t,e.y-t+e.height,t,RGraph.HALFPI,RGraph.PI,!1):(e.context.lineTo(e.x,e.y+e.height),e.context.lineTo(e.x,e.y+e.height-t)),e.context.closePath()},RGraph.addCustomEventListener=function(){var e=RGraph.getArgs(arguments,"object,name,func");return void 0===RGraph.events[e.object.uid]&&(RGraph.events[e.object.uid]=[]),"on"!==e.name.substr(0,2)&&(e.name="on"+e.name),RGraph.events[e.object.uid].push([e.object,e.name,e.func]),RGraph.events[e.object.uid].length-1},RGraph.fireCustomEvent=function(){var e=RGraph.getArgs(arguments,"object,name");if("on"!==e.name.substr(0,2)&&(e.name="on"+e.name),e.object&&e.object.isrgraph){e.object[e.name]&&e.object[e.name](e.object);var t=e.object.uid;if("string"==typeof t&&"object"==typeof RGraph.events&&"object"==typeof RGraph.events[t]&&RGraph.events[t].length>0)for(var a=0;a<RGraph.events[t].length;++a)RGraph.events[t][a]&&RGraph.events[t][a][1]===e.name&&RGraph.events[t][a][2](e.object)}},RGraph.removeAllCustomEventListeners=function(){var e=RGraph.getArgs(arguments,"uid");e.uid&&RGraph.events[e.uid]?RGraph.events[e.uid]=[]:(RGraph.events=[],RGraph.ObjectRegistry.iterate((function(e){e.onclick&&(e.onclick=null),e.onmousemove&&(e.onmousemove=null),e.onmouseover&&(e.onmouseover=null),e.onmouseout&&(e.onmouseout=null)})))},RGraph.removeCustomEventListener=function(){var e=RGraph.getArgs(arguments,"object,index");"object"==typeof RGraph.events&&"object"==typeof RGraph.events[e.object.uid]&&"object"==typeof RGraph.events[e.object.uid][e.index]&&(RGraph.events[e.object.uid][e.index]=null)},RGraph.drawBackgroundImage=function(e){var t=(e=RGraph.getArgs(arguments,"object")).object.properties;if("string"==typeof t.backgroundImage){if(void 0===e.object.canvas.__rgraph_background_image__){var a=new Image;a.__object__=e.object,a.__canvas__=e.object.canvas,a.__context__=e.object.context,a.src=e.object.get("backgroundImage"),e.object.canvas.__rgraph_background_image__=a}else a=e.object.canvas.__rgraph_background_image__;a.onload=function(){e.object.__rgraph_background_image_loaded__=!0,RGraph.clear(e.object.canvas),RGraph.redrawCanvas(e.object.canvas)};var r=e.object.marginLeft,i=e.object.marginRight,s=e.object.marginTop,o=e.object.marginBottom,n=t.backgroundImageStretch,l=t.backgroundImageAlign;if("string"==typeof l){if(-1!=l.indexOf("right"))var c=e.object.canvas.width-(t.backgroundImageW||a.width)-i;else c=r;if(-1!=l.indexOf("bottom"))var h=e.object.canvas.height-(t.backgroundImageH||a.height)-o;else h=s}else c=r||25,h=s||25;c="number"==typeof t.backgroundImageX?t.backgroundImageX:c,h="number"==typeof t.backgroundImageY?t.backgroundImageY:h;var p=n?e.object.canvas.width-r-i:a.width,g=n?e.object.canvas.height-s-o:a.height;"number"==typeof t.backgroundImageW&&(p=t.backgroundImageW),"number"==typeof t.backgroundImageH&&(g=t.backgroundImageH);var x=e.object.context.globalAlpha;e.object.context.globalAlpha=t.backgroundImageAlpha,e.object.context.drawImage(a,c,h,p,g),e.object.context.globalAlpha=x}},RGraph.hasTooltips=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties;if("object"==typeof t.tooltips&&t.tooltips){for(var a=0,r=t.tooltips.length;a<r;++a)if(!RGraph.isNullish(e.object.get("tooltips")[a]))return!0}else{if("string"==typeof t.tooltips)return!0;if("function"==typeof t.tooltips)return!0}return!1},RGraph.createUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},RGraph.ObjectRegistry.add=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.uid,a=e.object.canvas.id;RGraph.ObjectRegistry.objects.byUID[RGraph.ObjectRegistry.objects.byUID.length]=[t,e.object],RGraph.ObjectRegistry.objects.byCanvasID.push([a,e.object])},RGraph.ObjectRegistry.remove=function(){for(var e=RGraph.getArgs(arguments,"object"),t=(e.object.id,e.object.uid),a=0;a<RGraph.ObjectRegistry.objects.byUID.length;++a)RGraph.ObjectRegistry.objects.byUID[a]&&RGraph.ObjectRegistry.objects.byUID[a][1].uid==t&&(RGraph.ObjectRegistry.objects.byUID[a]=null);for(a=0;a<RGraph.ObjectRegistry.objects.byCanvasID.length;++a)RGraph.ObjectRegistry.objects.byCanvasID[a]&&RGraph.ObjectRegistry.objects.byCanvasID[a][1]&&RGraph.ObjectRegistry.objects.byCanvasID[a][1].uid==t&&(RGraph.ObjectRegistry.objects.byCanvasID[a]=null)},RGraph.ObjectRegistry.clear=function(){if("object"!=typeof arguments[0]||RGraph.isNullish(arguments)||"object"!=typeof arguments[0].canvas&&"string"!=typeof arguments[0].id)if("string"==typeof arguments[0])e={id:arguments[0]};else{if("object"!=typeof arguments[0]||!arguments[0].getContext)return RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],void(RGraph.ObjectRegistry.objects.byCanvasID=[]);e={canvas:arguments[0]}}else var e=arguments[0];if(e.id||e.canvas){e.canvas&&(e.id=e.canvas.id);for(var t=RGraph.ObjectRegistry.getObjectsByCanvasID(e.id),a=0,r=t.length;a<r;++a)RGraph.ObjectRegistry.remove(t[a])}else RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.list=function(){for(var e=RGraph.getArgs(arguments,"alert"),t=[],a=0,r=RGraph.ObjectRegistry.objects.byUID.length;a<r;++a)RGraph.ObjectRegistry.objects.byUID[a]&&t.push(RGraph.ObjectRegistry.objects.byUID[a][1].type);if(!e.alert)return t;$p(t)},RGraph.ObjectRegistry.clearByType=function(){for(var e=RGraph.getArgs(arguments,"type"),t=RGraph.ObjectRegistry.objects.byUID,a=0,r=t.length;a<r;++a)if(t[a]){t[a][0];var i=t[a][1];i&&i.type===e.type&&RGraph.ObjectRegistry.remove(i)}},RGraph.ObjectRegistry.iterate=function(){for(var e=RGraph.getArgs(arguments,"func,type"),t=RGraph.ObjectRegistry.objects.byUID,a=0,r=t.length;a<r;++a)if("string"==typeof e.type)for(var i=e.type.split(/,/),s=0,o=i.length;s<o;++s)i[s]==t[a][1].type&&e.func(t[a][1]);else e.func(t[a][1])},RGraph.ObjectRegistry.getObjectsByCanvasID=function(){for(var e=RGraph.getArgs(arguments,"id"),t=RGraph.ObjectRegistry.objects.byCanvasID,a=[],r=0,i=t.length;r<i;++r)t[r]&&t[r][0]==e.id&&a.push(t[r][1]);return a},RGraph.ObjectRegistry.firstbyxy=RGraph.ObjectRegistry.getObjectByXY=RGraph.ObjectRegistry.getFirstObjectByXY=function(){for(var e=RGraph.getArgs(arguments,"event"),t=e.event.target,a=RGraph.ObjectRegistry.getObjectsByCanvasID(t.id),r=a.length-1;r>=0;--r){var i=a[r].getObjectByXY(e.event);if(i)return i}},RGraph.ObjectRegistry.getObjectsByXY=function(){for(var e=RGraph.getArgs(arguments,"event"),t=e.event.target,a=[],r=RGraph.ObjectRegistry.getObjectsByCanvasID(t.id),i=r.length-1;i>=0;--i){var s=r[i].getObjectByXY(e.event);s&&a.push(s)}return a},RGraph.ObjectRegistry.get=RGraph.ObjectRegistry.getObjectByUID=function(){for(var e=RGraph.getArgs(arguments,"uid"),t=RGraph.ObjectRegistry.objects.byUID,a=0,r=t.length;a<r;++a)if(t[a]&&t[a][1].uid==e.uid)return t[a][1]},RGraph.ObjectRegistry.bringToFront=function(){var e=RGraph.getArgs(arguments,"object,redraw"),t=!!e.redraw||e.redraw;RGraph.ObjectRegistry.remove(e.object),RGraph.ObjectRegistry.add(e.object),t&&RGraph.redrawCanvas(e.object.canvas)},RGraph.ObjectRegistry.type=RGraph.ObjectRegistry.getObjectsByType=function(){var e=RGraph.getArgs(arguments,"type"),t=RGraph.ObjectRegistry.objects.byUID,a=[];for(i in t)t[i]&&t[i][1]&&t[i][1].type&&t[i][1].type&&t[i][1].type==e.type&&a.push(t[i][1]);return a},RGraph.ObjectRegistry.first=RGraph.ObjectRegistry.getFirstObjectByType=function(){var e=RGraph.getArgs(arguments,"type"),t=RGraph.ObjectRegistry.objects.byUID;for(var a in t)if(t[a]&&t[a][1]&&t[a][1].type==e.type)return t[a][1];return null},RGraph.getAngleByXY=function(){var e=RGraph.getArgs(arguments,"cx,cy,x,y"),t=Math.atan((e.y-e.cy)/(e.x-e.cx));return t=Math.abs(t),e.x>=e.cx&&e.y>=e.cy?t+=RGraph.TWOPI:e.x>=e.cx&&e.y<e.cy?t=RGraph.HALFPI-t+(RGraph.PI+RGraph.HALFPI):e.x<e.cx&&e.y<e.cy?t+=RGraph.PI:t=RGraph.PI-t,t>RGraph.TWOPI&&(t-=RGraph.TWOPI),t},RGraph.getHypLength=function(){var e=RGraph.getArgs(arguments,"x1,y1,x2,y2");return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))},RGraph.getRadiusEndPoint=function(){var e=RGraph.getArgs(arguments,"cx,cy,angle,radius");return[e.cx+Math.cos(e.angle)*e.radius,e.cy+Math.sin(e.angle)*e.radius]},RGraph.installEventListeners=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties;RGraph.installCanvasClickListener?(RGraph.installWindowMousedownListener(e.object),RGraph.installWindowMouseupListener(e.object),RGraph.installCanvasMousemoveListener(e.object),RGraph.installCanvasMouseupListener(e.object),RGraph.installCanvasMousedownListener(e.object),RGraph.installCanvasClickListener(e.object)):(RGraph.hasTooltips(e.object)||t.adjustable||t.annotatable||t.contextmenu||t.keyInteractive||"function"==typeof e.object.onclick||"function"==typeof e.object.onmousemove||"function"==typeof e.object.onmouseout||"function"==typeof e.object.onmouseover)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js")},RGraph.pr=function(e){var t=RGraph.getArgs(arguments,"object,alert,indent,counter"),a=t.indent?t.indent:"    ",r="",i="number"==typeof t.counter?t.counter:0;if(i>=3)return"";switch(typeof e){case"string":r+=t.object+" ("+typeof t.object+", "+t.object.length+")";break;case"number":case"boolean":r+=t.object+" ("+typeof t.object+")";break;case"function":r+="function () {}";break;case"undefined":r+="undefined";break;case"null":r+="null";break;case"object":if(RGraph.isNullish(t.object))r+="null";else{for(var s in r+="Object {\n",e)r+=a+"    "+s+" => "+RGraph.pr(t.object[s],!0,a+"    ",i+1)+"\n";r+=a+"}"}break;default:r+="Unknown type: "+typeof t.object}return t.alert||alert(r),r},RGraph.dashedLine=function(){var e=RGraph.getArgs(arguments,"context,x1,y1,x2,y2,size"),t=e.x2-e.x1,a=e.y2-e.y1,r=Math.floor(Math.sqrt(t*t+a*a)/(e.size||3)),i=t/r,s=a/r,o=0;do{o%2==0&&o>0?e.context.lineTo(e.x1,e.y1):e.context.moveTo(e.x1,e.y1),e.x1+=i,e.y1+=s,o++}while(o<=r)},RGraph.AJAX=function(){var e=RGraph.getArgs(arguments,"url,callback");if(window.XMLHttpRequest)var t=new XMLHttpRequest;else if(window.ActiveXObject)t=new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=e.callback,this.__user_callback__(this.responseText))},t.open("GET",e.url,!0),t&&t.setRequestHeader&&t.setRequestHeader("Cache-Control","no-cache"),t.send()},RGraph.AJAX.post=RGraph.AJAX.POST=function(){var e=RGraph.getArgs(arguments,"url,data,callback"),t=[];if(window.XMLHttpRequest)var a=new XMLHttpRequest;else if(window.ActiveXObject)a=new ActiveXObject("Microsoft.XMLHTTP");for(i in a.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=e.callback,this.__user_callback__(this.responseText))},a.open("POST",e.url,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.data)"string"==typeof i&&t.push(i+"="+encodeURIComponent(e.data[i]));a.send(t.join("&"))},RGraph.AJAX.number=RGraph.AJAX.getNumber=function(){var e=RGraph.getArgs(arguments,"url,callback");RGraph.AJAX(e.url,(function(){var t=parseFloat(this.responseText);e.callback(t)}))},RGraph.AJAX.string=RGraph.AJAX.getString=function(){var e=RGraph.getArgs(arguments,"url,callback");RGraph.AJAX(e.url,(function(){var t=String(this.responseText);e.callback(t)}))},RGraph.AJAX.json=RGraph.AJAX.JSON=RGraph.AJAX.getJSON=function(){var args=RGraph.getArgs(arguments,"url,callback");RGraph.AJAX(args.url,(function(){var json=eval("("+this.responseText+")");args.callback(json)}))},RGraph.AJAX.csv=RGraph.AJAX.CSV=RGraph.AJAX.getCSV=function(){var e=RGraph.getArgs(arguments,"url,callback,separator"),t=e.separator?e.separator:",";RGraph.AJAX(e.url,(function(){for(var a=new RegExp(t),r=this.responseText.split(a),i=0,s=r.length;i<s;++i)r[i]=parseFloat(r[i]);e.callback(r)}))},RGraph.rotateCanvas=function(){var e=RGraph.getArgs(arguments,"canvas,x,y,angle"),t=e.canvas.getContext("2d");t.translate(e.x,e.y),t.rotate(e.angle),t.translate(0-e.x,0-e.y)},RGraph.measureText=function(){var e=RGraph.getArgs(arguments,"text,bold,font,size");void 0===RGraph.measuretext_cache&&(RGraph.measuretext_cache=[]);var t=e.text+":"+e.bold+":"+e.font+":"+e.size;if("object"==typeof RGraph.measuretext_cache&&RGraph.measuretext_cache[t])return RGraph.measuretext_cache[t];if(RGraph.measuretext_cache["text-div"]){if(RGraph.measuretext_cache["text-div"])for(var a=RGraph.measuretext_cache["text-div"];a.firstChild;)a.removeChild(a.firstChild)}else(a=document.createElement("DIV")).style.position="absolute",a.style.top="-100px",a.style.left="-100px",a.style.lineHeight=1.5*(e.size||12)+"px",document.body.appendChild(a),RGraph.measuretext_cache["text-div"]=a;return a.insertAdjacentHTML("afterbegin",String(e.text).replace(/\r?\n/g,"<br />")),a.style.fontFamily=e.font,a.style.fontWeight=e.bold?"bold":"normal",a.style.fontSize=(e.size||12)+"pt",RGraph.measuretext_cache[t]=[a.offsetWidth,a.offsetHeight],[a.offsetWidth,a.offsetHeight]},RGraph.text=function(e){if(arguments[0]&&arguments[1]&&("string"==typeof arguments[1].text||"number"==typeof arguments[1].text)){var t=arguments[0];e=arguments[1]}else{t=e.object;"number"==typeof e.text&&(e.text=String(e.text))}for(var a in RGraph.text.defaults)"string"==typeof a&&void 0===e[a]&&(e[a]=RGraph.text.defaults[a]);function r(){-1!==String(e.size).toLowerCase().indexOf("italic")&&(e.size=e.size.replace(/ *italic +/,""),e.italic=!0);var r=Math.abs(parseInt(e.x))+"_"+Math.abs(parseInt(e.y))+"_"+String(e.text).replace(/[^a-zA-Z0-9]+/g,"_")+"_"+t.canvas.id;if(t.canvas.rgraph_domtext_wrapper)i=t.canvas.rgraph_domtext_wrapper;else{var i=document.createElement("div");i.id=t.canvas.id+"_rgraph_domtext_wrapper",i.className="rgraph_domtext_wrapper",i.style.overflow=0!=t.properties.textAccessibleOverflow&&"hidden"!=t.properties.textAccessibleOverflow?"visible":"hidden",i.style.width=t.canvas.offsetWidth+"px",i.style.height=t.canvas.offsetHeight+"px",i.style.cssFloat=t.canvas.style.cssFloat,i.style.display=t.canvas.style.display||"inline-block",i.style.position=t.canvas.style.position||"relative",i.style.left=t.canvas.style.left,i.style.right=t.canvas.style.right,i.style.top=t.canvas.style.top,i.style.bottom=t.canvas.style.bottom,i.style.width=t.canvas.width+"px",i.style.height=t.canvas.height+"px",i.style.lineHeight="initial",t.canvas.style.position="absolute",t.canvas.style.left=0,t.canvas.style.top=0,t.canvas.style.display="inline",t.canvas.style.cssFloat="none","bar"!==t.type&&"bipolar"!==t.type&&"hbar"!==t.type||"3d"!==t.properties.variant||(i.style.transform="skewY("+t.properties.variantThreedAngle+"rad)"),t.canvas.parentNode.insertBefore(i,t.canvas),t.canvas.parentNode.removeChild(t.canvas),i.appendChild(t.canvas),t.canvas.rgraph_domtext_wrapper=i}var o={size:12,font:"Arial",italic:"normal",bold:"normal",valign:"bottom",halign:"left",marker:!0,color:s.fillStyle,bounding:{enabled:!1,fill:"rgba(255,255,255,0.7)",stroke:"#666",linewidth:1}};if(e.text=String(e.text).replace(/\r?\n/g,"[[RETURN]]"),void 0===RGraph.text.domNodeCache&&(RGraph.text.domNodeCache=new Array),void 0===RGraph.text.domNodeCache[t.id]&&(RGraph.text.domNodeCache[t.id]=new Array),void 0===RGraph.text.domNodeDimensionCache&&(RGraph.text.domNodeDimensionCache=new Array),void 0===RGraph.text.domNodeDimensionCache[t.id]&&(RGraph.text.domNodeDimensionCache[t.id]=new Array),RGraph.text.domNodeCache[t.id]&&RGraph.text.domNodeCache[t.id][r]){(n=RGraph.text.domNodeCache[t.id][r]).style.display="inline";h=RGraph.text.domNodeDimensionCache[t.id][r].width,p=RGraph.text.domNodeDimensionCache[t.id][r].height,g=RGraph.text.domNodeDimensionCache[t.id][r].top,x=RGraph.text.domNodeDimensionCache[t.id][r].left}else{var n=document.createElement("span");if(n.style.position="absolute",n.style.display="inline",n.className=" rgraph_accessible_text rgraph_accessible_text_"+t.id+" rgraph_accessible_text_"+(e.tag||"").replace(/\./,"_")+" rgraph_accessible_text_"+t.type+" "+(e.cssClass||""),n.style.left=e.x*(parseInt(t.canvas.offsetWidth)/parseInt(t.canvas.width))+"px",n.style.top=e.y*(parseInt(t.canvas.offsetHeight)/parseInt(t.canvas.height))+"px",n.style.color=e.color||o.color,n.style.fontFamily=e.font||o.font,n.style.fontWeight=e.bold?"bold":o.bold,n.style.fontStyle=e.italic?"italic":o.italic,n.style.fontSize=(e.size||o.size)+"pt",n.style.whiteSpace="nowrap",n.style.lineHeight=RGraph.ISIE?"normal":"initial",n.tag=e.tag,n.setAttribute("data-tag",e.tag),"number"==typeof e.angle&&0!==e.angle){var l,c;RGraph.measureText(e.text,e.bold,e.font,e.size);l="center"===e.halign?"50%":"right"===e.halign?"100%":"0%",c="center"===e.valign?"50%":"top"===e.valign?"0%":"100%",n.style.transformOrigin="{1} {2}".format(l,c),n.style.transform="rotate("+e.angle+"deg)"}n.style.textShadow="{1}px {2}px {3}px {4}".format(s.shadowOffsetX,s.shadowOffsetY,s.shadowBlur,s.shadowColor),e.bounding&&(n.style.border="1px solid "+(e["bounding.stroke"]||o.bounding.stroke),n.style.backgroundColor=e["bounding.fill"]||o.bounding.fill,n.style.borderWidth="number"==typeof e["bounding.linewidth"]?e["bounding.linewidth"]:o.bounding.linewidth),void 0!==t.properties.textAccessiblePointerevents&&!t.properties.textAccessiblePointerevents||"none"===t.properties.textAccessiblePointerevents?n.style.pointerEvents="none":n.style.pointerEvents="auto",n.style.padding=e.bounding?"2px":null,n.__text__=e.text,n.insertAdjacentHTML("afterbegin",e.text.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace(/\[\[RETURN\]\]/g,"<br />")),i.appendChild(n),e.halign=e.halign||"left",e.valign=e.valign||"bottom","right"===e.halign?(n.style.left=parseFloat(n.style.left)-n.offsetWidth+"px",n.style.textAlign="right"):"center"===e.halign&&(n.style.left=parseFloat(n.style.left)-n.offsetWidth/2+"px",n.style.textAlign="center"),"top"===e.valign||("center"===e.valign?n.style.top=parseFloat(n.style.top)-n.offsetHeight/2+"px":n.style.top=parseFloat(n.style.top)-n.offsetHeight+"px");var h=parseFloat(n.offsetWidth),p=parseFloat(n.offsetHeight),g=parseFloat(n.style.top),x=parseFloat(n.style.left);RGraph.text.domNodeCache[t.id][r]=n,RGraph.text.domNodeDimensionCache[t.id][r]={left:x,top:g,width:h,height:p},n.id=r}e.marker&&t.path("b m % % l % % m % % l % % s",e.x-5,e.y,e.x+5,e.y,e.x,e.y-5,e.x,e.y+5),"drawing.text"===t.type&&t.properties.tooltips&&n.addEventListener(-1!==t.properties.tooltipsEvent.indexOf("mousemove")?"mousemove":"click",(function(a){RGraph.Registry.get("tooltip")&&0===RGraph.Registry.get("tooltip").__index__&&RGraph.Registry.get("tooltip").__object__.uid==t.uid||(RGraph.hideTooltip(),RGraph.redraw(),RGraph.tooltip(t,t.properties.tooltips[0],e.x,e.y,0,a))}),!1);var b={};return b.x=x,b.y=g,b.width=h,b.height=p,b.object=t,b.text=e.text,b.tag=e.tag,RGraph.text.domNodeCache.reset=function(){if(arguments[0]){if("string"==typeof arguments[0])var e=document.getElementById(arguments[0]);else e=arguments[0];var t=RGraph.text.domNodeCache[e.id];for(j in t){var r=RGraph.text.domNodeCache[e.id][j];r&&r.parentNode&&r.parentNode.removeChild(r)}RGraph.text.domNodeCache[e.id]=[],RGraph.text.domNodeDimensionCache[e.id]=[]}else{for(a in RGraph.text.domNodeCache)for(j in RGraph.text.domNodeCache[a])RGraph.text.domNodeCache[a][j]&&RGraph.text.domNodeCache[a][j].parentNode&&RGraph.text.domNodeCache[a][j].parentNode.removeChild(RGraph.text.domNodeCache[a][j]);RGraph.text.domNodeCache=[],RGraph.text.domNodeDimensionCache=[]}},RGraph.text.find=function(e){var t,r=[];if(e.object&&e.object.isrgraph)var i=e.object.id;else{if(!e.id)return alert("[RGRAPH] You Must give either an object or an ID to the RGraph.text.find() function"),!1;i="string"==typeof e.id?e.id:e.object.id;e.object=document.getElementById(i).__object__}for(a in RGraph.text.domNodeCache[i])if(t=RGraph.text.domNodeCache[i][a],"string"!=typeof e.tag||e.tag!==t.tag){if("object"==typeof e.tag&&e.tag.constructor.toString().indexOf("RegExp"))if(new RegExp(e.tag).test(t.tag)){r.push(t);continue}if("string"!=typeof e.text||e.text!==t.__text__){if("object"==typeof e.text&&e.text.constructor.toString().indexOf("RegExp"))if(new RegExp(e.text).test(t.__text__)){r.push(t);continue}}else r.push(t)}else r.push(t);return"function"==typeof e.callback&&e.callback({nodes:r,object:e.object}),r},b.node=n,t&&t.isrgraph&&t.coordsText&&t.coordsText.push(b),b}if(t&&t.isrgraph)var i=(t=t).canvas,s=t.context;else if("string"==typeof t)s=(i=document.getElementById(t)).getContext("2d"),t=i.__object__;else if("function"==typeof t.getContext)s=(i=t).getContext("2d"),t=i.__object__;else if(-1!=t.toString().indexOf("CanvasRenderingContext2D")||RGraph.ISIE8&&t.moveTo)s=t,t=(i=t.canvas).__object__;else if(RGraph.ISOLD&&t.fillText)s=t,t=(i=t.canvas).__object__;if("string"==typeof e.boundingFill&&(e["bounding.fill"]=e.boundingFill),"string"==typeof e.boundingStroke&&(e["bounding.stroke"]=e.boundingStroke),"number"==typeof e.boundingLinewidth&&(e["bounding.linewidth"]=e.boundingLinewidth),"string"==typeof e.textConfPrefix&&e.textConfPrefix.length){var o=RGraph.getTextConf({object:t,prefix:e.textConfPrefix});e.font=o.font,e.size=o.size,e.color=o.color,e.bold=o.bold,e.italic=o.italic}if(void 0===e.accessible){if(t&&t.properties.textAccessible)return r()}else if("boolean"==typeof e.accessible&&e.accessible)return r();var n=e.x,l=e.y,c=n,h=l,p=e.text,g="string"==typeof p?p.split(/\r?\n/g):"",x=g.length,b=e.font?e.font:"Arial",d=e.size?e.size:10,f=1.5*d,u=(e.bold,e.italic,e.halign?e.halign:"left"),y=e.valign?e.valign:"bottom",m="string"==typeof e.tag&&e.tag.length>0?e.tag:"",R=(e.marker,e.angle||0);"number"==typeof p&&(p=String(p));var v=e.bounding,G=e["bounding.stroke"]?e["bounding.stroke"]:"black",S=e["bounding.fill"]?e["bounding.fill"]:"rgba(255,255,255,0.7)",_=e["bounding.shadow"],w=e["bounding.shadow.color"]||"#ccc",k=e["bounding.shadow.blur"]||3,T=e["bounding.shadow.offsetx"]||3,L=e["bounding.shadow.offsety"]||3,C="number"==typeof e["bounding.linewidth"]?e["bounding.linewidth"]:1,P={};if("string"==typeof e.color){var O=s.fillStyle;s.fillStyle=e.color}if("string"==typeof p){0!=R&&(s.save(),s.translate(n,l),s.rotate(Math.PI/180*R),n=0,l=0),s.font=(e.italic?"italic ":"")+(e.bold?"bold ":"")+d+"pt "+b;var I=0;for(a=0;a<x;++a)I=Math.max(I,s.measureText(g[a]).width);var A=f*x;if(e.marker){var E=s.strokeStyle;s.beginPath(),s.strokeStyle="red",s.lineWidth=1,s.moveTo(n,l-5),s.lineTo(n,l+5),s.moveTo(n-5,l),s.lineTo(n+5,l),s.stroke(),s.strokeStyle=E}if("center"==u){s.textAlign="center";var F=n-2-I/2}else if("right"==u){s.textAlign="right";F=n-2-I}else{s.textAlign="left";F=n-2}if("center"==y){s.textBaseline="middle",l-=1;var N=(l-=(x-1)/2*f)-f/2-2}else if("top"==y){s.textBaseline="top";N=l-2}else if("alphabetic"==y){s.textBaseline="alphabetic";N=l-f+5}else{s.textBaseline="bottom",x>1&&(l-=(x-1)*f);N=l-f-2}var M=I+4,B=A+2;if(v){var D=s.lineWidth,H=s.strokeStyle,V=s.fillStyle,Y=s.shadowColor,$=s.shadowBlur,z=s.shadowOffsetX,X=s.shadowOffsetY;s.lineWidth=C||.001,s.strokeStyle=G,s.fillStyle=S,_&&(s.shadowColor=w,s.shadowBlur=k,s.shadowOffsetX=T,s.shadowOffsetY=L),s.fillRect(F,N,M,B),s.strokeRect(F,N,M,B),s.lineWidth=D,s.strokeStyle=H,s.fillStyle=V,s.shadowColor=Y,s.shadowBlur=$,s.shadowOffsetX=z,s.shadowOffsetY=X}if(x>1)for(a=0;a<x;++a)s.fillText(g[a],n,l+f*a);else s.fillText(p,n+.5,l+.5);return 0!=R&&(90==R?"left"==u?("bottom"==y&&(F=c-2,N=h-2,M=A+4,B=I+4),"center"==y&&(F=c-A/2-2,N=h-2,M=A+4,B=I+4),"top"==y&&(F=c-A-2,N=h-2,M=A+4,B=I+4)):"center"==u?("bottom"==y&&(F=c-2,N=h-I/2-2,M=A+4,B=I+4),"center"==y&&(F=c-A/2-2,N=h-I/2-2,M=A+4,B=I+4),"top"==y&&(F=c-A-2,N=h-I/2-2,M=A+4,B=I+4)):"right"==u&&("bottom"==y&&(F=c-2,N=h-I-2,M=A+4,B=I+4),"center"==y&&(F=c-A/2-2,N=h-I-2,M=A+4,B=I+4),"top"==y&&(F=c-A-2,N=h-I-2,M=A+4,B=I+4)):180==R?"left"==u?("bottom"==y&&(F=c-I-2,N=h-2,M=I+4,B=A+4),"center"==y&&(F=c-I-2,N=h-A/2-2,M=I+4,B=A+4),"top"==y&&(F=c-I-2,N=h-A-2,M=I+4,B=A+4)):"center"==u?("bottom"==y&&(F=c-I/2-2,N=h-2,M=I+4,B=A+4),"center"==y&&(F=c-I/2-2,N=h-A/2-2,M=I+4,B=A+4),"top"==y&&(F=c-I/2-2,N=h-A-2,M=I+4,B=A+4)):"right"==u&&("bottom"==y&&(F=c-2,N=h-2,M=I+4,B=A+4),"center"==y&&(F=c-2,N=h-A/2-2,M=I+4,B=A+4),"top"==y&&(F=c-2,N=h-A-2,M=I+4,B=A+4)):270==R&&("left"==u?("bottom"==y&&(F=c-A-2,N=h-I-2,M=A+4,B=I+4),"center"==y&&(F=c-A/2-4,N=h-I-2,M=A+4,B=I+4),"top"==y&&(F=c-2,N=h-I-2,M=A+4,B=I+4)):"center"==u?("bottom"==y&&(F=c-A-2,N=h-I/2-2,M=A+4,B=I+4),"center"==y&&(F=c-A/2-4,N=h-I/2-2,M=A+4,B=I+4),"top"==y&&(F=c-2,N=h-I/2-2,M=A+4,B=I+4)):"right"==u&&("bottom"==y&&(F=c-A-2,N=h-2,M=A+4,B=I+4),"center"==y&&(F=c-A/2-2,N=h-2,M=A+4,B=I+4),"top"==y&&(F=c-2,N=h-2,M=A+4,B=I+4))),s.restore()),s.textBaseline="alphabetic",s.textAlign="left",P.x=F,P.y=N,P.width=M,P.height=B,P.object=t,P.text=p,P.tag=m,t&&t.isrgraph&&t.coordsText&&t.coordsText.push(P),"string"==typeof O&&(s.fillStyle=O),P}},RGraph.text.defaults={},RGraph.addCustomText=function(e){if(RGraph.isArray(e.properties.text)&&e.properties.text.length)for(var t=0;t<e.properties.text.length;++t){var a=e.properties.text[t];a.object=e,"string"==typeof a.color&&a.color.length||(a.color="black"),RGraph.text(a)}},RGraph.sequentialIndexToGrouped=function(){for(var e=RGraph.getArgs(arguments,"index,data"),t=0,a=0;--e.index>=0;)RGraph.isNullish(e.data[t])?(t++,a=0):"number"!=typeof e.data[t]?++a>=e.data[t].length&&(t++,a=0):(t++,a=0);return[t,a]},RGraph.groupedIndexToSequential=function(){for(var e=RGraph.getArgs(arguments,"object,dataset,index"),t=0,a=0;t<=e.dataset;++t)for(var r=0;r<e.object.data[e.dataset].length;++r){if(t===e.dataset&&r===e.index)return a;a++}return a},RGraph.Highlight.rect=function(){var e=RGraph.getArgs(arguments,"object,shape"),t=e.object.properties;t.tooltipsHighlight&&(e.object.context.lineWidth=1,e.object.context.beginPath(),e.object.context.strokeStyle=t.highlightStroke,e.object.context.fillStyle=t.highlightFill,e.object.context.rect(e.shape.x-.5,e.shape.y-.5,e.shape.width+1,e.shape.height+1),e.object.context.stroke(),e.object.context.fill())},RGraph.Highlight.point=function(){var e=RGraph.getArgs(arguments,"object,shape"),t=e.object.properties;if(t.tooltipsHighlight){e.object.context.beginPath(),e.object.context.strokeStyle=t.highlightStroke,e.object.context.fillStyle=t.highlightFill;var a=t.highlightPointRadius||2;e.object.context.arc(e.shape.x,e.shape.y,a,0,RGraph.TWOPI,0),e.object.context.stroke(),e.object.context.fill()}},RGraph.parseDate=function(){var e=RGraph.getArgs(arguments,"str");e.str.match(/^\d\d\d\d-\d\d-\d\d(t|T)\d\d:\d\d(:\d\d)?$/)&&(e.str=e.str.toUpperCase().replace(/T/," "));for(var t=new Date,a={seconds:"00",minutes:"00",hours:"00",date:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()},r=["january","february","march","april","may","june","july","august","september","october","november","december"],i=r.join("|"),s=0;s<r.length;++s)r[r[s]]=s,r[r[s].substring(0,3)]=s,i=i+"|"+r[s].substring(0,3);for(var o="[-./_=+~#:;,]+",n=e.str.split(/ +/),l=(s=0,n.length);s<l;++s)if(n[s]){n[s].match(/^\d\d\d\d$/)&&(a.year=n[s]);var c=h(n[s]);"number"==typeof c&&(a.month=c+1),n[s].match(/^\d?\d(?:st|nd|rd|th)?$/)&&(a.date=parseInt(n[s])),n[s].match(/^(\d\d):(\d\d):?(?:(\d\d))?$/)&&(a.hours=parseInt(RegExp.$1),a.minutes=parseInt(RegExp.$2),RegExp.$3&&(a.seconds=parseInt(RegExp.$3))),n[s].match(new RegExp("^(\\d\\d\\d\\d)"+o+"(\\d\\d)"+o+"(\\d\\d)$","i"))&&(a.date=parseInt(RegExp.$3),a.month=parseInt(RegExp.$2),a.year=parseInt(RegExp.$1)),n[s].match(new RegExp("^(\\d\\d)"+o+"(\\d\\d)"+o+"(\\d\\d\\d\\d)$","i"))&&(a.date=parseInt(RegExp.$1),a.month=parseInt(RegExp.$2),a.year=parseInt(RegExp.$3))}return e.str="{1}/{2}/{3} {4}:{5}:{6}".format(a.year,1===String(a.month).length?"0"+a.month:a.month,1===String(a.date).length?"0"+a.date:a.date,1===String(a.hours).length?"0"+a.hours:a.hours,1===String(a.minutes).length?"0"+a.minutes:a.minutes,1===String(a.seconds).length?"0"+a.seconds:a.seconds),Date.parse(e.str);function h(e){var t=e.toLowerCase().match(i);return!!t&&r[t[0]]}},RGraph.parseDateOld=function(){var e=RGraph.getArgs(arguments,"str");if(e.str=RGraph.trim(e.str),"now"===e.str&&(e.str=(new Date).toString()),e.str.match(/^(\d\d)(?:-|\/)(\d\d)(?:-|\/)(\d\d\d\d)(.*)$/)&&(e.str="{1}/{2}/{3}{4}".format(RegExp.$3,RegExp.$2,RegExp.$1,RegExp.$4)),e.str.match(/^(\d\d\d\d)(-|\/)(\d\d)(-|\/)(\d\d)( |T)(\d\d):(\d\d):(\d\d)$/)&&(e.str=RegExp.$1+"-"+RegExp.$3+"-"+RegExp.$5+"T"+RegExp.$7+":"+RegExp.$8+":"+RegExp.$9),e.str.match(/^\d\d\d\d-\d\d-\d\d$/)&&(e.str=e.str.replace(/-/g,"/")),e.str.match(/^\d\d:\d\d:\d\d$/)){var t=new Date,a=t.getDate(),r=t.getMonth()+1,i=t.getFullYear();1===String(r).length&&(r="0"+r),1===String(a).length&&(a="0"+a),e.str=i+"/"+r+"/"+a+" "+e.str}return Date.parse(e.str)},RGraph.resetColorsToOriginalValues=function(){var e=RGraph.getArgs(arguments,"object");if(e.object.original_colors)for(var t in e.object.original_colors)"string"==typeof t&&(e.object.properties[t]=RGraph.arrayClone(e.object.original_colors[t]));"function"==typeof e.object.resetColorsToOriginalValues&&e.object.resetColorsToOriginalValues(),e.object.colorsParsed=!1},RGraph.linearGradient=function(){for(var e=RGraph.getArgs(arguments,"object,x1,y1,x2,y2,colors"),t=e.object.context.createLinearGradient(e.x1,e.y1,e.x2,e.y2),a=e.colors.length,r=0;r<e.colors.length;++r){var i=e.colors[r],s=r/(a-1);t.addColorStop(s,i)}return t},RGraph.radialGradient=function(){for(var e=arguments[0],t=e.object.context.createRadialGradient(e.x1,e.y1,e.r1,e.x2,e.y2,e.r2),a=e.colors.length,r=0;r<e.colors.length;++r)t.addColorStop(r/(a-1),e.colors[r]);return t},RGraph.clearEventListeners=function(){var e=RGraph.getArgs(arguments,"id");if(e.id&&"window"===e.id)window.removeEventListener("mousedown",RGraph.window_mousedown_event_listener,!1),window.removeEventListener("mouseup",RGraph.window_mouseup_event_listener,!1);else{var t=document.getElementById(e.id);t.removeEventListener("mouseup",t.rgraph_mouseup_event_listener,!1),t.removeEventListener("mousemove",t.rgraph_mousemove_event_listener,!1),t.removeEventListener("mousedown",t.rgraph_mousedown_event_listener,!1),t.removeEventListener("click",t.rgraph_click_event_listener,!1)}},RGraph.hidePalette=function(){var e=RGraph.Registry.get("palette");"object"==typeof e&&e&&(e.style.visibility="hidden",e.style.display="none",RGraph.Registry.set("palette",null))},RGraph.random=function(){var e=RGraph.getArgs(arguments,"min,max,decimals"),t=e.decimals?e.decimals:0,a=Math.random();return Number(((e.max-e.min)*a+e.min).toFixed(t))},RGraph.arrayRandom=function(){for(var e=RGraph.getArgs(arguments,"count,min,max,decimals"),t=0,a=[];t<e.count;t+=1)a.push(RGraph.random(e.min,e.max,e.decimals));return a},RGraph.noShadow=function(){var e=RGraph.getArgs(arguments,"object");e.object.context.shadowColor="rgba(0,0,0,0)",e.object.context.shadowBlur=0,e.object.context.shadowOffsetx=0,e.object.context.shadowOffsety=0},RGraph.setShadow=function(){if("object"==typeof arguments[0]&&"object"==typeof arguments[0].object&&(arguments[0].object.isrgraph,1)&&"string"==typeof arguments[0].prefix){var e=arguments[0];e.object.context.shadowColor=e.object.properties[e.prefix+"Color"],e.object.context.shadowOffsetX=e.object.properties[e.prefix+"Offsetx"],e.object.context.shadowOffsetY=e.object.properties[e.prefix+"Offsety"],e.object.context.shadowBlur=e.object.properties[e.prefix+"Blur"]}else if(1===arguments.length&&"object"==typeof arguments[0]&&(arguments[0].isrgraph,1)){(t=arguments[0]).context.shadowColor="rgba(0,0,0,0)",t.context.shadowOffsetX=0,t.context.shadowOffsetY=0,t.context.shadowBlur=0}else{var t;(t=arguments[0]).context.shadowColor=arguments[1],t.context.shadowOffsetX=arguments[2],t.context.shadowOffsetY=arguments[3],t.context.shadowBlur=arguments[4]}},RGraph.Registry.set=function(){var e=RGraph.getArgs(arguments,"name,value");return e.name=e.name.replace(/([A-Z])/g,(function(e){return"."+String(RegExp.$1).toLowerCase()})),RGraph.Registry.store[e.name]=e.value,e.value},RGraph.Registry.get=function(){var e=RGraph.getArgs(arguments,"name");return e.name=e.name.replace(/([A-Z])/g,(function(e){return"."+String(RegExp.$1).toLowerCase()})),RGraph.Registry.store[e.name]},RGraph.toRadians=function(){return RGraph.getArgs(arguments,"degrees").degrees*(RGraph.PI/180)},RGraph.toDegrees=function(){return RGraph.getArgs(arguments,"radians").radians*(180/Math.PI)},RGraph.log=function(){var e=RGraph.getArgs(arguments,"number,base");return Math.log(e.number)/(e.base?Math.log(e.base):1)},RGraph.isArray=function(e){if(!e||!e.constructor)return!1;var t=e.constructor.toString().indexOf("Array");return null!=e&&"number"==typeof t&&t>0&&t<20},RGraph.trim=function(){var e=RGraph.getArgs(arguments,"str");return RGraph.ltrim(RGraph.rtrim(e.str))},RGraph.ltrim=function(){return RGraph.getArgs(arguments,"str").str.replace(/^(\s|\0)+/,"")},RGraph.rtrim=function(){return RGraph.getArgs(arguments,"str").str.replace(/(\s|\0)+$/,"")},RGraph.isNull=function(e){return"object"==typeof e&&!e},RGraph.isNullish=function(e){return!!RGraph.isUndefined(e)||!!RGraph.isNull(e)},RGraph.async=function(){var e=RGraph.getArgs(arguments,"func,delay");return setTimeout(e.func,e.delay?e.delay:1)},RGraph.reset=function(){var e=RGraph.getArgs(arguments,"canvas");for(v of("string"==typeof e.canvas&&(e.canvas=document.getElementById(e.canvas)),e.canvas.width=e.canvas.width,RGraph.ObjectRegistry.clear(e.canvas),e.canvas.__rgraph_background_image__&&(delete e.canvas.__rgraph_background_image__.__object__,delete e.canvas.__rgraph_background_image__.__canvas__,delete e.canvas.__rgraph_background_image__.__context__),["__object__","__rgraph_background_image__"]))delete e.canvas[v];RGraph.text.domNodeCache&&RGraph.text.domNodeCache.reset&&RGraph.text.domNodeCache.reset(e.canvas),RGraph.text.domNodeCache||(RGraph.text.domNodeCache=[]),RGraph.text.domNodeDimensionCache||(RGraph.text.domNodeDimensionCache=[]),RGraph.text.domNodeCache[e.canvas.id]=[],RGraph.text.domNodeDimensionCache[e.canvas.id]=[]},RGraph.Effects.updateCanvas=function(){var e=RGraph.getArgs(arguments,"func");window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){setTimeout(e,16.666)},window.requestAnimationFrame(e.func)},RGraph.Effects.userRequestedStop=function(e){var t=!1;return e.stopAnimationRequested&&(t=!0,e.stopAnimationRequested=!1),t},RGraph.Effects.getEasingMultiplier=function(){var e=RGraph.getArgs(arguments,"frames,frame");return Math.pow(Math.sin(e.frame/e.frames*RGraph.HALFPI),3)},RGraph.stringsToNumbers=function(){var e=RGraph.getArgs(arguments,"string,separator"),t=e.separator||",";if("string"==typeof e.string&&e.string.trim().match(/^\[ *\d+$/)&&(e.string=e.string.replace("[","")),"number"==typeof e.string)return e.string;if("string"==typeof e.string&&(-1!=e.string.indexOf(t)?e.string=e.string.split(t):(e.string=parseFloat(e.string),isNaN(e.string)&&(e.string=null))),"object"==typeof e.string&&!RGraph.isNullish(e.string))for(var a=0,r=e.string.length;a<r;a+=1)e.string[a]=RGraph.stringsToNumbers(e.string[a],e.separator);return e.string},RGraph.cachedDraw=function(){var e=RGraph.getArgs(arguments,"object,id,function");RGraph.cache[e.id]||(RGraph.cache[e.id]={},RGraph.cache[e.id].object=e.object,RGraph.cache[e.id].canvas=document.createElement("canvas"),RGraph.cache[e.id].canvas.setAttribute("width",e.object.canvas.width),RGraph.cache[e.id].canvas.setAttribute("height",e.object.canvas.height),RGraph.cache[e.id].canvas.setAttribute("id","background_cached_canvas"+e.object.canvas.id),RGraph.cache[e.id].canvas.__object__=e.object,RGraph.cache[e.id].context=RGraph.cache[e.id].canvas.getContext("2d"),RGraph.cache[e.id].context.translate(.5,.5),e.function(e.object,RGraph.cache[e.id].canvas,RGraph.cache[e.id].context)),e.object.context.drawImage(RGraph.cache[e.id].canvas,-.5,-.5)},RGraph.parseObjectStyleConfig=function(){var e=RGraph.getArgs(arguments,"object,config");for(var t in e.config)"string"==typeof t&&e.object.set(t,e.config[t])},RGraph.path=function(args){var arguments=Array.prototype.slice.call(arguments);if(1===arguments.length&&args.object&&args.path)var context=args.object.context,p=args.path,args=args.args;else if(1===arguments.length&&args.context&&args.path)var context=args.context,p=args.path,args=args.args;else if(arguments.length>=2&&arguments[0].isrgraph&&arguments[0].context)var context=arguments[0].context,p=arguments[1],args=arguments.length>2?arguments.slice(2):[];else if(arguments.length>=2&&arguments[0].toString().indexOf("Context"))var context=arguments[0],p=arguments[1],args=arguments.length>2?arguments.slice(2):[];"string"==typeof p&&(p=splitstring(p)),RGraph.path.last=RGraph.arrayClone(p);for(var i=0,len=p.length;i<len;i+=1)switch(p[i]){case"b":context.beginPath();break;case"c":context.closePath();break;case"m":context.moveTo(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"l":context.lineTo(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"s":p[i+1]&&"null"!==p[i+1]&&(context.strokeStyle=p[i+1]),context.stroke(),i++;break;case"f":p[i+1]&&"null"!==p[i+1]&&(context.fillStyle=p[i+1]),context.fill(),i++;break;case"qc":context.quadraticCurveTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"bc":context.bezierCurveTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"r":context.rect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"rr":RGraph.roundedRect(context,parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5])),i+=5;break;case"a":context.arc(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),"true"===p[i+6]||!0===p[i+6]||1===p[i+6]||"1"===p[i+6]),i+=6;break;case"at":context.arcTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5])),i+=5;break;case"lw":context.lineWidth=parseFloat(p[i+1]),i++;break;case"e":context.ellipse(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6]),parseFloat(p[i+7]),"true"===p[i+8]),i+=8;break;case"lj":context.lineJoin=p[i+1],i++;break;case"lc":context.lineCap=p[i+1],i++;break;case"sc":context.shadowColor=p[i+1],i++;break;case"sb":context.shadowBlur=parseFloat(p[i+1]),i++;break;case"sx":context.shadowOffsetX=parseFloat(p[i+1]),i++;break;case"sy":context.shadowOffsetY=parseFloat(p[i+1]),i++;break;case"fs":context.fillStyle=p[i+1],i++;break;case"ss":context.strokeStyle=p[i+1],i++;break;case"fr":context.fillRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"sr":context.strokeRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"cl":context.clip();break;case"sa":context.save();break;case"rs":context.restore();break;case"tr":context.translate(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"sl":context.scale(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"ro":context.rotate(parseFloat(p[i+1])),i++;break;case"tf":context.transform(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"stf":context.setTransform(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"cr":context.clearRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"ld":var parts=eval(p[i+1]);context.setLineDash(parts),i+=1;break;case"ldo":context.lineDashOffset=p[i+1],i++;break;case"fo":context.font=p[i+1],i++;break;case"ft":context.fillText(p[i+1],parseFloat(p[i+2]),parseFloat(p[i+3])),i+=3;break;case"st":context.strokeText(p[i+1],parseFloat(p[i+2]),parseFloat(p[i+3])),i+=3;break;case"ta":context.textAlign=p[i+1],i++;break;case"tbl":context.textBaseline=p[i+1],i++;break;case"ga":context.globalAlpha=parseFloat(p[i+1]),i++;break;case"gco":context.globalCompositeOperation=p[i+1],i++;break;case"fu":p[i+1](context.canvas.__object__),i++;break;case"ci":context.arc(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),0,6.29,!1),i+=3;break;case"do":context.arc(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),0,6.29,!1),context.arc(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+4]),6.29,0,!0),i+=4;break;case"":break;default:alert("[ERROR] Unknown option: "+p[i])}function splitstring(e){for(var t=[],a="",r=!1,i=0,s=0;s<e.length;s+=1){var o=e[s];o.match(/ /)?r?a+=o:('"'!==a[0]&&"'"!==a[0]||(a=a.substr(1,a.length-2)),"%"===a.trim()&&void 0!==args[i]&&(a=args[i++]),t.push(a),a=""):("'"!==o&&'"'!==o||(r=!r),a+=o)}return"%"===a.trim()&&args[i]&&(a=args[i++]),t.push(a),t}},RGraph.getTextConf=function(e){var t=e.object.properties,a=e.prefix;return{font:"string"==typeof t[a+"Font"]?t[a+"Font"]:t.textFont,size:"number"==typeof t[a+"Size"]?t[a+"Size"]:t.textSize,color:"string"==typeof t[a+"Color"]?t[a+"Color"]:t.textColor,bold:RGraph.isNullish(t[a+"Bold"])?t.textBold:t[a+"Bold"],italic:RGraph.isNullish(t[a+"Italic"])?t.textItalic:t[a+"Italic"]}},RGraph.responsive=function(e){var t=this;e.sort((function(e,t){var a=RGraph.isNullish(e.maxWidth),r=RGraph.isNullish(t.maxWidth);return a&&r?0:a&&!r?-1:!a&&r?1:t.maxWidth-e.maxWidth}));for(var a=0;a<e.length;++a)e[a+1]&&"number"==typeof e[a+1].maxWidth?e[a].minWidth=e[a+1].maxWidth:e[a+1]||(e[a].minWidth=0);for(a=0;a<e.length;++a){e[a].minWidth=RGraph.isNullish(e[a].minWidth)?0:e[a].minWidth,e[a].maxWidth=RGraph.isNullish(e[a].maxWidth)?1e5:e[a].maxWidth;var r="screen and (min-width: %1px) and (max-width: %2px)".format(e[a].minWidth,e[a].maxWidth),i=window.matchMedia(r);!function(t){i.addListener((function(a){a.matches&&s(e[t])}))}(a),document.documentElement.clientWidth>=e[a].minWidth&&document.documentElement.clientWidth<e[a].maxWidth&&s(e[a])}function s(e){if("number"==typeof e.width&&(t.get("textAccessible")&&(t.canvas.parentNode.style.width=e.width+"px"),t.canvas.width=e.width,t.canvas.__rgraph_aa_translated__=!1),"number"==typeof e.height&&(t.get("textAccessible")&&(t.canvas.parentNode.style.height=e.height+"px"),t.canvas.height=e.height,t.canvas.__rgraph_aa_translated__=!1),"object"==typeof e.options)for(var a in e.options)"string"==typeof a&&(t.set(a,e.options[a]),"colors"===a&&t.original_colors&&(t.original_colors=RGraph.arrayClone(e.options[a])));var r=function(e,t,a){for(var r=[["float","cssFloat"]],i=0;i<r.length;++i)t===r[i][0]&&(t=r[i][1]);e.style[t]=a};if("object"==typeof e.css)for(var a in e.css)"string"==typeof a&&(t.get("textAccessible")?r(t.canvas.parentNode,a,e.css[a]):r(t.canvas,a,e.css[a]));if("object"==typeof e.parentCss)for(var a in e.parentCss)"string"==typeof a&&(t.get("textAccessible")?r(t.canvas.parentNode.parentNode,a,e.parentCss[a]):r(t.canvas.parentNode,a,e.parentCss[a]));RGraph.cache=[],RGraph.resetColorsToOriginalValues(t),t.get("textAccessible")&&RGraph.text.domNodeCache&&RGraph.text.domNodeCache.reset&&RGraph.text.domNodeCache.reset(t.canvas),RGraph.redraw(t.canvas),"function"==typeof e.callback&&e.callback(t)}return t},RGraph.installInlineResponsive=function(e){RGraph.isArray(e.properties.responsive)&&RGraph.runOnce("install-responsive-configuration-"+e.uid,(function(){e.responsive(e.properties.responsive)}))},RGraph.responsive_old=function(e){var t=arguments[1]||{},a=this,r=null;t.delay="number"==typeof t.delay?t.delay:200;var i=function(){for(var t=!1,r=0;r<e.length;++r)if(!t&&(document.documentElement.clientWidth<=e[r].maxWidth||RGraph.isNullish(e[r].maxWidth))){if(t=!0,"number"==typeof e[r].width&&(a.get("textAccessible")&&(a.canvas.parentNode.style.width=e[r].width+"px"),a.canvas.width=e[r].width,a.canvas.__rgraph_aa_translated__=!1),"number"==typeof e[r].height&&(a.get("textAccessible")&&(a.canvas.parentNode.style.height=e[r].height+"px"),a.canvas.height=e[r].height,a.canvas.__rgraph_aa_translated__=!1),"object"==typeof e[r].options&&"object"==typeof e[r].options)for(var i in e[r].options)"string"==typeof i&&a.set(i,e[r].options[i]);var s=function(e,t,a){for(var r=[["float","cssFloat"]],i=0;i<r.length;++i)t===r[i][0]&&(t=r[i][1]);e.style[t]=a};if("object"==typeof e[r].css)for(var i in e[r].css)"string"==typeof i&&(a.get("textAccessible")?s(a.canvas.parentNode,i,e[r].css[i]):s(a.canvas,i,e[r].css[i]));if("object"==typeof e[r].parentCss)for(var i in e[r].parentCss)"string"==typeof i&&(a.get("textAccessible")?s(a.canvas.parentNode.parentNode,i,e[r].parentCss[i]):s(a.canvas.parentNode,i,e[r].parentCss[i]));RGraph.cache=[],RGraph.resetColorsToOriginalValues(a),a.get("textAccessible")&&RGraph.text.domNodeCache.reset(a.canvas),RGraph.redraw(),"function"==typeof e[r].callback&&e[r].callback(a)}};return RGraph.responsive.window_resize_event_listener=function(){t.delay>0?(clearTimeout(r),r=setTimeout(i,t.delay)):i()},window.addEventListener("resize",RGraph.responsive.window_resize_event_listener,!1),i(),a},RGraph.pathObjectFunction=function(){if(1===arguments.length&&"object"==typeof arguments[0]){var e=RGraph.getArgs(arguments,"path,args");RGraph.path({object:this,path:e.path,args:e.args})}else{e=Array.prototype.slice.call(arguments,1);RGraph.path({object:this,path:arguments[0],args:e})}},RGraph.drawXAxis=function(e,t={}){var a=e.properties,r=(e.context,"number"==typeof a.xaxisTickmarksLength?a.xaxisTickmarksLength:3),i="bar"===e.type&&"sketch"===a.variant;if("object"==typeof a.xaxisLabels&&!RGraph.isNullish(a.xaxisLabels)&&a.xaxisLabels.length)for(var s=0;s<a.xaxisLabels.length;++s)void 0!==a.xaxisLabels[s]&&null!==a.xaxisLabels[s]||(a.xaxisLabels[s]="");if("hbar"!==e.type&&"gantt"!==e.type||"bottom"!==a.xaxisPosition)if("hbar"!==e.type&&"gantt"!==e.type||"top"!==a.xaxisPosition)o=e.getYCoord(a.yaxisScaleMin>0?a.yaxisScaleMin:0);else var o=a.marginTop;else var o=e.canvas.height-a.marginBottom;if("line"===e.type&&a.yaxisScaleInvert&&0===a.yaxisScaleMin&&(o=e.getYCoord(e.scale2.max)),"scatter"===e.type&&a.yaxisScaleInvert&&a.yaxisScaleMin>=0&&(o=e.getYCoord(e.scale2.max)),"drawing.xaxis"===e.type&&(o="center"===a.xaxisPosition?(e.canvas.height-a.marginTop-a.marginBottom)/2+a.marginTop:e.y),a.xaxis&&(e.path("lc square lw % b m % % l % % s %",a.xaxisLinewidth,a.marginLeft-(i?5:0),o-(i?2:0),e.canvas.width-a.marginRight+(i?7:0),o+(i?2:0),a.xaxisColor),!i)){if(a.xaxisTickmarks)if("number"==typeof a.xaxisTickmarksCount)var n=a.xaxisTickmarksCount;else if("bar"===e.type)n=e.data.length||10;else if("hbar"===e.type)n=a.xaxisLabelsCount||5;else if("line"===e.type)n=e.data[0].length>0?e.data[0].length-1:10;else if("scatter"===e.type&&a.scale)n=5;else if("scatter"===e.type&&a.xaxisLabels)n=a.xaxisLabels.length;else if("scatter"===e.type)n=5;else if("waterfall"===e.type)n=e.data.length+(a.total?1:0);else if("drawing.xaxis"===e.type)if(a.scale)n=a.xaxisScaleLabelsCount;else if(a.xaxisLabels&&a.xaxisLabels.length)n=a.xaxisLabels.length;else n=5;else n=5;else a.xaxisTickmarksCount=0;if("center"===a.xaxisPosition&&a.yaxisScaleMin>=0)if(a.yaxisScaleInvert)var l=e.getYCoord(a.yaxisScaleMax)-r,c=e.getYCoord(a.yaxisScaleMax)+r;else l=e.getYCoord(a.yaxisScaleMin)-r,c=e.getYCoord(a.yaxisScaleMin)+r;else if("center"===a.xaxisPosition||a.yaxisScaleMin<0){if(a.yaxisScaleInvert)l=e.getYCoord(e.scale2.max)-r,c=e.getYCoord(e.scale2.max)+r;else l=e.getYCoord(0)-r,c=e.getYCoord(0)+r;if(a.yaxisScaleMin<0&&a.yaxisScaleMax>0)l=e.getYCoord(0)-r,c=e.getYCoord(0)+r}else if("top"===a.xaxisPosition)if(e.getYCoord)l=e.getYCoord(0)-r,c=e.getYCoord(0);else l=a.marginTop-r,c=a.marginTop;else if(e.getYCoord)if("line"===e.type&&a.yaxisScaleInvert)l=e.getYCoord(e.scale2.max),c=e.getYCoord(e.scale2.max)+r;else if("scatter"===e.type&&a.yaxisScaleInvert)l=e.getYCoord(e.scale2.max),c=e.getYCoord(e.scale2.max)+r;else if("drawing.xaxis"===e.type)l=e.y,c=e.y+r;else l=e.getYCoord(a.yaxisScaleMin),c=e.getYCoord(a.yaxisScaleMin)+r;else l=e.canvas.height-a.marginBottom,c=e.canvas.height-a.marginBottom+r;for(s=0;s<=n;++s){if(RGraph.isNullish(a.xaxisTickmarksLastLeft)){if(0===s&&a.yaxis&&"left"===a.yaxisPosition&&!(a.xaxisScaleMax>0&&a.xaxisScaleMin<0))continue}else if(0===s&&!a.xaxisTickmarksLastLeft)continue;if(RGraph.isNullish(a.xaxisTickmarksLastRight)){if(s===n&&a.yaxis&&"right"===a.yaxisPosition)continue}else if(s===n&&!a.xaxisTickmarksLastRight)continue;var h=(e.canvas.width-a.marginLeft-a.marginRight)/n*s+a.marginLeft;if("hbar"===e.type){if("center"===a.yaxisPosition&&h>e.getXCoord(0)-2&&h<e.getXCoord(0)+2)continue;if("left"===a.yaxisPosition&&a.xaxisScaleMin<0&&a.xaxisScaleMax>0&&h>e.getXCoord(0)-2&&h<e.getXCoord(0)+2)continue}e.path("b m % % l % % s %",h,l,h,c,a.xaxisColor)}}if(!1!==t.labels){if(0!=a.xaxisLabelsAngle){var p="center",g="right",x=0-a.xaxisLabelsAngle;if("top"===a.xaxisPosition)x=a.xaxisLabelsAngle}else p="top",g="center",x=0;if(a.xaxisScale){var b=e.scale2;if("scatter"===e.type)b=e.xscale2;else if("drawing.xaxis"===e.type&&a.xaxisScale){b=RGraph.getScale({object:this,options:{"scale.max":a.xaxisScaleMax,"scale.min":a.xaxisScaleMin,"scale.decimals":Number(a.xaxisScaleDecimals),"scale.point":a.xaxisScalePoint,"scale.thousand":a.xaxisScaleThousand,"scale.round":a.xaxisScaleRound,"scale.units.pre":a.xaxisScaleUnitsPre,"scale.units.post":a.xaxisScaleUnitsPost,"scale.labels.count":a.xaxisScaleLabelsCount,"scale.strict":!0}});for(s=0;s<=a.xaxisScaleLabelsCount;++s){var d=(a.xaxisScaleMax-a.xaxisScaleMin)/a.xaxisScaleLabelsCount*s+a.xaxisScaleMin;a.marginInner;if("function"==typeof a.xaxisScaleFormatter)a.xaxisScaleFormatter(this,d);else RGraph.numberFormat({object:e,number:d.toFixed(0===d?0:a.xaxisScaleDecimals),unitspre:a.xaxisScaleUnitsPre,unitspost:a.xaxisScaleUnitsPost,point:a.xaxisScalePoint,thousand:a.xaxisScaleThousand})}}for(s=0;s<b.labels.length;++s){var f=(e.canvas.width-a.marginLeft-a.marginRight)/b.labels.length;if("right"===a.yaxisPosition)h=a.marginLeft+f*s;else if("center"===a.yaxisPosition){f/=2;h=e.getXCoord(0)+f+f*s}else h=a.marginLeft+f*s+f;o="top"===a.xaxisPosition?e.marginTop-(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety-5:e.canvas.height-a.marginBottom+(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety+5;"drawing.xaxis"===e.type&&(o="top"===a.xaxisPosition?e.y-(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety:e.y+(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety+5),RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:h+a.xaxisLabelsOffsetx,y:o,text:"function"==typeof a.xaxisScaleFormatter?a.xaxisScaleFormatter({object:e,number:b.values[s]}):"right"===a.yaxisPosition?String(b.labels[b.labels.length-1-s]):String(b.labels[s]),valign:"string"==typeof a.xaxisLabelsValign?a.xaxisLabelsValign:"top"===a.xaxisPosition?"bottom":p,halign:"string"==typeof a.xaxisLabelsHalign?a.xaxisLabelsHalign:g,marker:!1,angle:x,tag:"xaxis.labels"}),"hbar"===e.type&&"center"===a.yaxisPosition&&(h=e.getXCoord(0)-f-f*s,RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:h+a.xaxisLabelsOffsetx,y:"top"===a.xaxisPosition?e.marginTop-(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety-5:e.canvas.height-a.marginBottom+(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety+5,text:"function"==typeof a.xaxisScaleFormatter?a.xaxisScaleFormatter({object:e,number:b.values[s]}):"-"+String(b.labels[s]),valign:"string"==typeof a.xaxisLabelsValign?a.xaxisLabelsValign:"top"===a.xaxisPosition?"bottom":p,halign:"string"==typeof a.xaxisLabelsHalign?a.xaxisLabelsHalign:g,marker:!1,angle:x,tag:"xaxis.labels"}))}var u=(a.xaxisScaleUnitsPre||"")+(a.xaxisScaleMin||0).toFixed(a.xaxisScaleDecimals).replace(/\./,a.xaxisScalePoint)+(a.xaxisScaleUnitsPost||"");u=u.replace(/^(.+)-(\d)/,"-$1$2"),RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:"right"===a.yaxisPosition?e.canvas.width-a.marginRight+a.xaxisLabelsOffsetx:"center"===a.yaxisPosition?e.getXCoord(0)+a.xaxisLabelsOffsetx:a.marginLeft+a.xaxisLabelsOffsetx,y:o,text:"function"==typeof a.xaxisScaleFormatter?a.xaxisScaleFormatter({object:e,number:0}):u,valign:"string"==typeof a.xaxisLabelsValign||"string"==typeof a.xaxisLabelsValign?a.xaxisLabelsValign:"top"===a.xaxisPosition?"bottom":p,halign:"string"==typeof a.xaxisLabelsHalign?a.xaxisLabelsHalign:g,marker:!1,angle:x,tag:"xaxis.labels"})}else if(a.xaxisLabels&&a.xaxisLabels.length&&("section"===a.xaxisLabelsPosition||"edge"===a.xaxisLabelsPosition)){if("edge"===a.xaxisLabelsPosition)f=(e.canvas.width-a.marginLeft-a.marginRight-(a.marginInner||0)-(a.marginInner||0))/(a.xaxisLabels.length-1);else f=(e.canvas.width-a.marginLeft-a.marginRight)/a.xaxisLabels.length;for(s=0;s<a.xaxisLabels.length;++s){if("edge"===a.xaxisLabelsPosition)h=a.marginLeft+(a.marginInner||0)+f*s;else h=a.marginLeft+f*s+f/2;if("object"==typeof a.xaxisLabels[s]&&"scatter"===e.type){var y=0,m="left"===a.xaxisLabelsSpecificAlign?"left":"center";g="center";y=a.xaxisLabels[s+1]&&"number"==typeof a.xaxisLabels[s+1][1]?a.xaxisLabels[s+1][1]:a.xaxisScaleMax;var R=a.xaxisLabels[s][1];h=(e.getXCoord(y)-e.getXCoord(R))/2+e.getXCoord(R);if("left"===m&&(h=e.getXCoord(R),g="left"),RGraph.isNullish(h))continue;"drawing.xaxis"===e.type&&(o="top"===a.xaxisPosition?e.y-(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety:e.y+(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety+5);RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:h+5+a.xaxisLabelsOffsetx,y:o+5+a.xaxisLabelsOffsety,valign:p,halign:0!=x?"right":g,text:String(RGraph.isNullish(a.xaxisLabels[s][0])?"":a.xaxisLabels[s][0]),angle:x,marker:!1,tag:"labels.specific",cssClass:RGraph.getLabelsCSSClassName({object:e,name:"xaxisLabelsClass",index:s})});e.path("b m % % l % % s #bbb",Math.round(a.marginLeft+(a.xaxisLabels[s][1]-a.xaxisScaleMin)/(a.xaxisScaleMax-a.xaxisScaleMin)*(e.canvas.width-a.marginLeft-a.marginRight)),e.canvas.height-a.marginBottom,Math.round(a.marginLeft+(a.xaxisLabels[s][1]-a.xaxisScaleMin)/(a.xaxisScaleMax-a.xaxisScaleMin)*(e.canvas.width-a.marginLeft-a.marginRight)),e.canvas.height-a.marginBottom+20),s===a.xaxisLabels.length-1&&e.path("b m % % l % % s #bbb",e.canvas.width-a.marginRight,e.canvas.height-a.marginBottom,e.canvas.width-a.marginRight,e.canvas.height-a.marginBottom+20)}else{o="top"===a.xaxisPosition?a.marginTop+a.xaxisLabelsOffsety-5:e.canvas.height-a.marginBottom+a.xaxisLabelsOffsety+5;"drawing.xaxis"===e.type&&"drawing.xaxis"===e.type&&(o="top"===a.xaxisPosition?e.y-(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety:e.y+(a.xaxisTickmarksLength||0)+a.xaxisLabelsOffsety+5);RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:h+a.xaxisLabelsOffsetx,y:o+a.xaxisLabelsOffsety,text:String(RGraph.isNullish(a.xaxisLabels[s])?"":a.xaxisLabels[s]),valign:"string"==typeof a.xaxisLabelsValign?a.xaxisLabelsValign:"top"===a.xaxisPosition?"bottom":p,halign:"string"==typeof a.xaxisLabelsHalign?a.xaxisLabelsHalign:g,marker:!1,angle:x,tag:"xaxis.labels",cssClass:RGraph.getLabelsCSSClassName({object:e,name:"xaxisLabelsClass",index:s})})}}}}if(!1!==t.title&&a.xaxisTitle){h=a.marginLeft+(e.canvas.width-a.marginLeft-a.marginRight)/2+a.xaxisTitleOffsetx,o="top"===a.xaxisPosition?a.marginTop-7+a.xaxisTitleOffsety-a.xaxisTickmarksLength:e.canvas.height-a.marginBottom+7+a.xaxisTitleOffsety+a.xaxisTickmarksLength;if("drawing.xaxis"===e.type&&(o=e.y+7+a.xaxisTitleOffsety+a.xaxisTickmarksLength),a.xaxisScale||a.xaxisLabels&&a.xaxisLabels.length){var v=RGraph.getTextConf({object:e,prefix:"xaxisLabels"});"top"===a.xaxisPosition?o-=1.5*v.size:o+=1.5*v.size}"number"==typeof a.xaxisTitlePos&&(o="top"===a.xaxisPosition?a.marginTop*a.xaxisTitlePos:e.canvas.height-a.marginBottom+a.marginBottom*a.xaxisTitlePos),"number"==typeof a.xaxisTitleX&&(h=a.xaxisTitleX),"number"==typeof a.xaxisTitleY&&(o=a.xaxisTitleY),RGraph.text({object:e,textConfPrefix:"xaxisTitle",x:h,y:o,text:a.xaxisTitle.toString(),valign:"top"===a.xaxisPosition?a.xaxisTitleValign||"bottom":a.xaxisTitleValign||"top",halign:a.xaxisTitleHalign||"center",marker:!1,tag:"xaxis.title"})}},RGraph.drawYAxis=function(e,t={}){var a=e.properties,r=(e.context,"bar"===e.type&&"sketch"===a.variant);if(tickmarksLength="number"==typeof a.yaxisTickmarksLength?a.yaxisTickmarksLength:3,"hbar"===e.type&&(a.yaxisLabelsSpecific=a.yaxisLabels),"hbar"!==e.type&&"gantt"!==e.type||"left"!==a.yaxisPosition)if("hbar"!==e.type&&"gantt"!==e.type||"right"!==a.yaxisPosition)if("drawing.yaxis"===e.type)i=e.x;else i="right"===a.yaxisPosition?e.canvas.width-a.marginRight:"hbar"===e.type?e.getXCoord(0):a.marginLeft;else var i=e.canvas.width-a.marginRight;else{var i=e.getXCoord(0);if("hbar"===e.type&&a.xaxisScaleMin>0&&a.xaxisScaleMax>a.xaxisScaleMin)var i=e.getXCoord(a.xaxisScaleMin)}if(a.yaxis&&(e.path("lc square lw % b m % % l % % s %",a.yaxisLinewidth,i-(r?5:0),a.marginTop-(r?2:0),i+(r?7:0),e.canvas.height-a.marginBottom+(r?2:0),a.yaxisColor),!r)){if(a.yaxisTickmarks)if("number"==typeof a.yaxisTickmarksCount)var s=a.yaxisTickmarksCount;else if("bar"===e.type)s=a.yaxisLabelsSpecific?a.yaxisLabelsSpecific.length-1:a.yaxisLabelsCount;else if("hbar"===e.type)s=e.data.length||5;else if("line"===e.type)s=a.yaxisLabelsSpecific?a.yaxisLabelsSpecific.length-1:a.yaxisLabelsCount;else if("scatter"===e.type)s=a.yaxisLabelsCount;else if("waterfall"===e.type)s=a.yaxisLabelsCount;else s=5;else a.yaxisTickmarksCount=0;if("right"===a.yaxisPosition)var o=i,n=i+tickmarksLength;else o=i,n=i-tickmarksLength;if("hbar"===e.type&&a.xaxisScaleMin<0&&a.xaxisScaleMax>0)o=e.getXCoord(0)-tickmarksLength,n=e.getXCoord(0)+tickmarksLength;for(var l=0;l<=s;++l){if(RGraph.isNullish(a.yaxisTickmarksLastTop)){if(0===l&&a.xaxis&&"top"===a.xaxisPosition)continue}else if(0===l&&!a.yaxisTickmarksLastTop)continue;if(RGraph.isNullish(a.yaxisTickmarksLastBottom)){if(l===s&&a.xaxis&&"bottom"===a.xaxisPosition)continue}else if(l===s&&!a.yaxisTickmarksLastBottom)continue;var c=(e.canvas.height-a.marginTop-a.marginBottom)/s*l+a.marginTop;if(e.getYCoord)var h=e.getYCoord(0);else if(e.getXCoord)h=e.getXCoord(0);else h=e.marginTop;a.xaxis&&("center"===a.xaxisPosition||"bottom"===a.xaxisPosition&&a.yaxisScaleMin<0&&a.yaxisScaleMax>0)&&c>h-1&&c<h+1||(e.path("b m % % l % % s %",o,c,n,c,a.yaxisColor),a.yaxisScaleMin<0&&a.yaxisScaleMax>0&&e.path("b m % % l % % s %",o,e.canvas.height-a.marginBottom,n,e.canvas.height-a.marginBottom,a.yaxisColor),"scatter"===e.type&&"center"===a.xaxisPosition&&a.yaxisScaleInvert&&e.path("b m % % l % % s %",o,a.marginTop,n,a.marginTop,a.yaxisColor))}}if(!1!==t.labels){var p="center",g="right";if(a.yaxisScale&&!a.yaxisLabelsSpecific){if("drawing.yaxis"===e.type&&a.yaxisScale){e.scale2=RGraph.getScale({object:e,options:{"scale.max":a.yaxisScaleMax,"scale.min":a.yaxisScaleMin,"scale.decimals":Number(a.yaxisScaleDecimals),"scale.point":a.yaxisScalePoint,"scale.thousand":a.yaxisScaleThousand,"scale.round":a.yaxisScaleRound,"scale.units.pre":a.yaxisScaleUnitsPre,"scale.units.post":a.yaxisScaleUnitsPost,"scale.labels.count":a.yaxisScaleLabelsCount,"scale.strict":!0}});for(l=0;l<=a.yaxisScaleLabelsCount;++l){var x=(a.yaxisScaleMax-a.yaxisScaleMin)/a.yaxisScaleLabelsCount*l+a.yaxisScaleMin;a.marginInner;if("function"==typeof a.yaxisScaleFormatter)a.yaxisScaleFormatter(this,x);else RGraph.numberFormat({object:e,number:x.toFixed(0===x?0:a.yaxisScaleDecimals),unitspre:a.yaxisScaleUnitsPre,unitspost:a.yaxisScaleUnitsPost,point:a.yaxisScalePoint,thousand:a.yaxisScaleThousand})}}var b=e.scale2;if(e.maxLabelLength=Math.max(e.maxLabelLength,e.context.measureText(e.scale2.labels[4]).width),"center"===a.xaxisPosition){var d=(e.canvas.height-a.marginTop-a.marginBottom)/2;for(l=0;l<b.labels.length;++l){var f=(e.canvas.height-a.marginTop-a.marginBottom)/(2*b.labels.length);c=a.marginTop+f*l;RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"right"===a.yaxisPosition?i+(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx+5:i-(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx-5,y:a.yaxisScaleInvert?d+a.marginTop-f*l+a.yaxisLabelsOffsety:a.marginTop+f*l+a.yaxisLabelsOffsety,text:String(b.labels[b.labels.length-1-l]),valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:p,halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":g,marker:!1,angle:0,tag:"yaxis.labels"})}for(l=0;l<b.labels.length;++l)if(0!==l||!a.yaxisScaleInvert){f=(e.canvas.height-a.marginTop-a.marginBottom)/(2*b.labels.length),c=a.marginTop+(e.canvas.height-a.marginTop-a.marginBottom)/2+f*l+f;RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"right"===a.yaxisPosition?i+(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx+5:i-(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx-5,y:a.yaxisScaleInvert?d+a.marginTop+f*l:c+a.yaxisLabelsOffsety,text:"-"+(a.yaxisScaleInvert?String(b.labels[b.labels.length-l-1]):String(b.labels[l])),valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:p,halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":g,marker:!1,angle:0,tag:"yaxis.labels"})}RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"right"===a.yaxisPosition?i+5+(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx:i-5-(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx,y:a.yaxisScaleInvert?a.marginTop+a.yaxisLabelsOffsety:a.marginTop+(e.canvas.height-a.marginBottom-a.marginTop)/2+a.yaxisLabelsOffsety,text:"function"==typeof a.yaxisScaleFormatter?a.yaxisScaleFormatter({object:this,number:0,unitspre:a.yaxisScaleUnitsPre,unitspost:a.yaxisScaleUnitsPost,point:a.yaxisScalePoint,thousand:a.yaxisScaleThousand,formatter:a.yaxisScaleFormatter}):(a.yaxisScaleUnitsPre||"")+a.yaxisScaleMin.toFixed(a.yaxisScaleDecimals).replace(/\./,a.yaxisScalePoint)+(a.yaxisScaleUnitsPost||""),valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:p,halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":g,marker:!1,angle:0,tag:"yaxis.labels"}),a.yaxisScaleInvert&&RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"right"===a.yaxisPosition?i+5+(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx:i-5-(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx,y:e.canvas.height-a.marginBottom+a.yaxisLabelsOffsety,text:"function"==typeof a.yaxisScaleFormatter?a.yaxisScaleFormatter({object:this,number:0,unitspre:a.yaxisScaleUnitsPre,unitspost:a.yaxisScaleUnitsPost,point:a.yaxisScalePoint,thousand:a.yaxisScaleThousand,formatter:a.yaxisScaleFormatter}):(a.yaxisScaleUnitsPre||"")+a.yaxisScaleMin.toFixed(a.yaxisScaleDecimals).replace(/\./,a.yaxisScalePoint)+(a.yaxisScaleUnitsPost||""),valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:p,halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":g,marker:!1,angle:0,tag:"yaxis.labels"})}else if("top"===a.xaxisPosition){for(l=0;l<b.labels.length;++l){f=(e.canvas.height-a.marginTop-a.marginBottom)/b.labels.length;if(a.yaxisScaleInvert)c=e.canvas.height-a.marginBottom-f*l-f-f;else c=a.marginTop+f*l;RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"right"===a.yaxisPosition?i+(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx+5:i-(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx-5,y:c+f+a.yaxisLabelsOffsety,text:"-"+String(b.labels[l]),valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:p,halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":g,marker:!1,angle:0,tag:"yaxis.labels"})}RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"right"===a.yaxisPosition?i+5+(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx:i-5-(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx,y:a.yaxisScaleInvert?e.canvas.height-a.marginBottom+a.yaxisLabelsOffsety:a.marginTop+a.yaxisLabelsOffsety,text:"function"==typeof a.yaxisScaleFormatter?a.yaxisScaleFormatter({object:this,number:0,unitspre:a.yaxisScaleUnitsPre,unitspost:a.yaxisScaleUnitsPost,point:a.yaxisScalePoint,thousand:a.yaxisScaleThousand,formatter:a.yaxisScaleFormatter}):(a.yaxisScaleUnitsPre||"")+a.yaxisScaleMin.toFixed(a.yaxisScaleDecimals).replace(/\./,a.yaxisScalePoint)+(a.yaxisScaleUnitsPost||""),valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:p,halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":g,marker:!1,angle:0,tag:"yaxis.labels"})}else{for(l=0;l<b.labels.length;++l){f=(e.canvas.height-a.marginTop-a.marginBottom)/b.labels.length,c=a.marginTop+f*(l+(a.yaxisScaleInvert?1:0));RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"right"===a.yaxisPosition?i+(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx+5:i-(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx-5,y:c+a.yaxisLabelsOffsety,text:String(a.yaxisScaleInvert?b.labels[l]:b.labels[b.labels.length-1-l]),valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:p,halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":g,marker:!1,angle:0,tag:"yaxis.labels"})}var u=RGraph.numberFormat({object:e,number:a.yaxisScaleMin.toFixed(a.yaxisScaleDecimals),unitspre:a.yaxisScaleUnitsPre,unitspost:a.yaxisScaleUnitsPost,point:a.yaxisScalePoint,thousand:a.yaxisScaleThousand});RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"right"===a.yaxisPosition?i+5+(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx:i-5-(a.yaxisTickmarksLength||0)+a.yaxisLabelsOffsetx,y:a.yaxisScaleInvert?a.marginTop:e.canvas.height-a.marginBottom+a.yaxisLabelsOffsety,text:"function"==typeof a.yaxisScaleFormatter?a.yaxisScaleFormatter({object:this,number:0,unitspre:a.yaxisScaleUnitsPre,unitspost:a.yaxisScaleUnitsPost,point:a.yaxisScalePoint,thousand:a.yaxisScaleThousand,formatter:a.yaxisScaleFormatter}):u,valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:p,halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":g,marker:!1,angle:0,tag:"yaxis.labels"})}}else if(a.yaxisLabelsSpecific&&a.yaxisLabelsSpecific.length&&("section"===a.yaxisLabelsPosition||"edge"===a.yaxisLabelsPosition)){f=(e.canvas.height-a.marginTop-a.marginBottom)/(a.yaxisLabelsSpecific.length-("section"===a.yaxisLabelsPosition?0:1));e.maxLabelLength=0;for(l=0;l<a.yaxisLabelsSpecific.length;++l){c=a.marginTop+f*l+("section"===a.yaxisLabelsPosition?f/2:0),RGraph.text({object:e,textConfPrefix:"yaxisLabels",x:"drawing.yaxis"===e.type?"right"===a.yaxisPosition?e.x+7+a.yaxisLabelsOffsetx:e.x-5+a.yaxisLabelsOffsetx:"right"===a.yaxisPosition?i+a.yaxisLabelsOffsetx+5:a.marginLeft-5+a.yaxisLabelsOffsetx,y:c+a.yaxisLabelsOffsety,text:String(a.yaxisLabelsSpecific[l]||""),valign:"string"==typeof a.yaxisLabelsValign?a.yaxisLabelsValign:"center",halign:"string"==typeof a.yaxisLabelsHalign?a.yaxisLabelsHalign:"right"===a.yaxisPosition?"left":"right",marker:!1,tag:"yaxis.labels",cssClass:RGraph.getLabelsCSSClassName({object:e,name:"yaxisLabelsClass",index:l})});e.maxLabelLength=Math.max(e.maxLabelLength,2*e.context.measureText(String(a.yaxisLabelsSpecific[l])).width)}}}if(t.title&&a.yaxisTitle){if("gantt"===e.type){l=0;for(var y=0;l<a.yaxisLabels.length;++l){var m=RGraph.getTextConf({object:e,prefix:"yaxisLabels"});y=Math.max(y,RGraph.measureText(a.yaxisLabels[l],m.bold,m.font,m.size)[0])}}else if(e.scale2&&e.scale2.labels)m=RGraph.getTextConf({object:e,prefix:"yaxisLabels"}),y=RGraph.measureText(e.scale2.labels[e.scale2.labels.length-1],m.bold,m.font,m.size)[0];("hbar"===e.type&&a.yaxisLabels&&a.yaxisLabels.length||"drawing.yaxis"===e.type&&a.yaxisLabelsSpecific&&a.yaxisLabelsSpecific.length)&&(y=function(t){for(var a=RGraph.getTextConf({object:e,prefix:"yaxisLabels"}),r=0,i=0;r<t.length;++r){var s=RGraph.measureText(t[r],a.bold,a.font,a.size);i=Math.max(i,s[0])}return i}("drawing.yaxis"===e.type?a.yaxisLabelsSpecific:a.yaxisLabels));i="right"===a.yaxisPosition?e.canvas.width-a.marginRight+5+y+10:a.marginLeft-5-y-10,c=(e.canvas.height-a.marginTop-a.marginBottom)/2+a.marginTop;if("drawing.yaxis"===e.type)i="right"===a.yaxisPosition?e.x+5+y+10:e.x-5-y-10;"number"==typeof a.yaxisTitlePos&&(i="right"===a.yaxisPosition?e.canvas.width-a.marginRight*a.yaxisTitlePos:a.marginLeft*a.yaxisTitlePos),"number"==typeof a.yaxisTitleOffsetx&&(i+=a.yaxisTitleOffsetx),"number"==typeof a.yaxisTitleOffsety&&(c+=a.yaxisTitleOffsety),"number"==typeof a.yaxisTitleX&&(i=a.yaxisTitleX),"number"==typeof a.yaxisTitleY&&(c=a.yaxisTitleY),RGraph.text({object:e,textConfPrefix:"yaxisTitle",x:i,y:c,text:a.yaxisTitle.toString(),valign:a.yaxisTitleValign||"bottom",halign:a.yaxisTitleHalign||"center",marker:!1,accessible:"boolean"==typeof a.yaxisTitleAccessible?a.yaxisTitleAccessible:undefined,angle:-45,angle:"right"===a.yaxisPosition?90:-90,tag:"yaxis.title"})}},RGraph.getLabelsCSSClassName=function(){var e=RGraph.getArgs(arguments,"object,name,index"),t=e.object.properties,a="";return"string"==typeof t[e.name]?a=t[e.name]:"object"==typeof t[e.name]&&"string"==typeof t[e.name][e.index]&&(a=t[e.name][e.index]),a},RGraph.setCSS=function(e,t){for(i in"string"==typeof e&&(e=document.getElementById(e)),t)"string"==typeof i&&(e.style[i]=t[i])},RGraph.labelSubstitution=function(args){if(RGraph.isNullish(args.text))return args.text;var text=String(args.text);if(!text.match(/%{.*?}/))return text;var text=text.replace(/%%/g,"___--PERCENT--___");text=text.replace(/%{index}/g,args.index);for(var reg=/%{prop(?:erty)?:([_a-z0-9]+)\[([0-9]+)\]}/i;text.match(reg);){var property=RegExp.$1,index=parseInt(RegExp.$2);text=args.object.properties[property]?text.replace(reg,args.object.properties[property][index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(;text.match(/%{property:([_a-z0-9]+)}/i);){var str="%{property:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{prop:([_a-z0-9]+)}/i);){var str="%{prop:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{value(?:_formatted)?}/i);){var value=args.value;text=text.match(/%{value_formatted}/i)?text.replace("%{value_formatted}","number"==typeof value?RGraph.numberFormat({object:args.object,number:value.toFixed(args.decimals),thousand:args.thousand||",",point:args.point||".",unitspre:args.unitsPre||"",unitspost:args.unitsPost||""}):null):text.replace("%{value}",value)}for(var reg=/%{global:([_a-z0-9.]+)\[([0-9]+)\]}/i;text.match(reg);){var name=RegExp.$1,index=parseInt(RegExp.$2);text=eval(name)[index]?text.replace(reg,eval(name)[index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(var reg=/%{global:([_a-z0-9.]+)}/i;text.match(reg);){var name=RegExp.$1;text=eval(name)?text.replace(reg,eval(name)||""):text.replace(reg,""),RegExp.lastIndex=null}var regexp=/%{function:([_A-Za-z0-9]+)\((.*?)\)}/;for(text=text.replace(/\r/,"|CR|"),text=text.replace(/\n/,"|LF|");text.match(regexp);){for(var str=RegExp.$1+"("+RegExp.$2+")",i=0,len=str.length;i<len;++i)str=str.replace(/\r?\n/,"\\n");RGraph.Registry.set("label-templates-function-object",args.object),RGraph.Registry.set("key-label-templates-function-object",args.object);var func=new Function("return "+str),ret=func();text=text.replace(regexp,ret)}return text=text.replace(/\r?\n/g,"<br />"),text=text.replace(/___--PERCENT--___/g,"%"),text=text.replace(/\|CR\|/,"\r"),text=text.replace(/\|LF\|/,"\n"),text.toString()},RGraph.splitString=function(e){var t=new RegExp("([\"'a-z0-9]+) *= *","ig");return e=(e=(e=(e=(e=(e=e.replace(t,'"$1":')).replace(/""/g,'"')).replace(/''/g,'"')).replace(/:'/g,':"')).replace(/' *,/g,'",')).trim().replace(/,$/,""),JSON.parse("{"+e+"}")},RGraph.GET.raw=function(){return location.search},RGraph.GET.parse=function(){if(!RGraph.isNullish(RGraph.GET.__parts__))return RGraph.GET.__parts__;for(var e=RGraph.GET.raw().replace(/^\?/,"").split(/\&/),t=0;t<e.length;++t){var a=e[t].split("=");e[a[0]]=decodeURI(a[1])}return RGraph.GET.__parts__=e,e},RGraph.GET.text=RGraph.GET.string=function(e){var t=RGraph.GET.parse();return t[e]?String(t[e]):null},RGraph.GET.number=function(e){var t=RGraph.GET.parse();return t[e]?Number(t[e]):null},RGraph.GET.json=RGraph.GET.object=function(e){var t=RGraph.GET.parse();return t[e]?JSON.parse(t[e]):null},RGraph.GET.list=RGraph.GET.array=function(e){var t=RGraph.GET.parse();if(!t[e])return null;if(arguments[1])a=arguments[1];else var a=",";var r=t[e].split(a);r[0]=r[0].replace(/^\[/,""),r[r.length-1]=r[r.length-1].replace(/\]$/,"");for(var i=0;i<r.length;++i)r[i]=r[i].replace(/^('|")/,""),r[i]=r[i].replace(/('|")$/,""),Number(r[i])&&(r[i]=Number(r[i]));return r},RGraph.clipTo={},RGraph.clipTo.start=function(){var e=RGraph.getArgs(arguments,"object,dimensions");if(RGraph.clipTo.object=e.object,RGraph.clipTo.__rgraph_aa_translated__=e.object.canvas.__rgraph_aa_translated__,RGraph.isString(e.dimensions))if("lefthalf"===e.dimensions){var t=e.object.canvas.width-e.object.properties.marginLeft-e.object.properties.marginRight;e.object.path("sa b r % % % % cl",0,0,e.object.properties.marginLeft+t/2,e.object.canvas.height)}else if("righthalf"===e.dimensions){t=e.object.canvas.width-e.object.properties.marginLeft-e.object.properties.marginRight;e.object.path("sa b r % % % % cl",t/2+e.object.properties.marginLeft,0,t/2+e.object.properties.marginRight,e.object.canvas.height)}else if("tophalf"===e.dimensions){var a=e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom;e.object.path("sa b r % % % % cl",0,0,e.object.canvas.width,e.object.properties.marginTop+a/2)}else if("bottomhalf"===e.dimensions){a=e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom;e.object.path("sa b r % % % % cl",0,a/2+e.object.properties.marginTop,e.object.canvas.width,a/2+e.object.properties.marginBottom)}else if(e.dimensions.match(/^x:([-.0-9minax]+)%?-([.0-9minax]+)%?$/i)){var r=RegExp.$1,i=RegExp.$2;r=(r=r.replace(/min/,"-200")).replace(/max/,"200"),i=(i=i.replace(/min/,"-200")).replace(/max/,"200"),r=Number(r);var s=((i=Number(i))-r)/100*(e.object.canvas.width-e.object.properties.marginLeft-e.object.properties.marginRight),o=e.object.canvas.height,n=r/100*(e.object.canvas.width-e.object.properties.marginLeft-e.object.properties.marginRight)+e.object.properties.marginLeft,l=0;e.object.path("sa b r % % % % cl",n,l,s,o)}else if(e.dimensions.match(/^y:([-.0-9minax]+)%?-([.0-9minax]+)%?/i)){r=RegExp.$1,i=RegExp.$2;r=(r=r.replace(/min/,"-200")).replace(/max/,"200"),i=(i=i.replace(/min/,"-200")).replace(/max/,"200"),r=Number(r),i=Number(i);n=0,l=r/100*(o=e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom)+e.object.properties.marginTop,s=e.object.canvas.width;var c=i/100*(e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom);l=e.object.canvas.height-e.object.properties.marginBottom-c,o=(e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom)*((i-r)/100);e.object.path("sa b r % % % % cl",n,l,s,o)}else if(e.dimensions.match(/^r(?:adius)?:([-.0-9minax]+)%?-([.0-9minax]+)%?/i)){r=RegExp.$1,i=RegExp.$2;r=(r=r.replace(/min/,"0")).replace(/max/,"2000"),i=(i=i.replace(/min/,"0")).replace(/max/,"2000"),r=Number(r),i=Number(i),RGraph.isNumber(e.object.centerx)&&RGraph.isNumber(e.object.centery)&&RGraph.isNumber(e.object.radius)||alert("[RGRAPH CLIPPING] To use the r: syntax the object (Type: {1}, ID: {2}, UID: {3}) must support the centerx, centery and radius properties.".format(e.object.type,e.object.id,e.object.uid));var h=e.object.centerx,p=e.object.centery,g=r/100*e.object.radius,x=i/100*e.object.radius;e.object.path("sa b    a % % % 0 6.29 false    a % % % 6.29 0 true    cl",h,p,g,h,p,x)}else if(e.dimensions.match(/^(?:segment|arc): *([-.0-9degrad]+) *, *([-.0-9degrad]+) *, *([-.0-9degrad]+) *, *([-.0-9degrad]+) *, *([-.0-9degrad]+)$/i)){h=RegExp.$1,p=RegExp.$2;var b=RegExp.$3,d=RegExp.$4,f=RegExp.$5;d=d.replace(/rad$/,""),f=f.replace(/rad$/,""),d.match(/deg$/)&&(d=parseFloat(d),d*=RGraph.PI/180),f.match(/deg$/)&&(f=parseFloat(f),f*=RGraph.PI/180),e.object.path("sa b    m % %    a % % % % % false  c  cl",h,p,h,p,b,d-RGraph.HALFPI,f-RGraph.HALFPI)}else if(e.dimensions.match(/^circle: *([-.0-9]+) *, *([-.0-9]+) *, *([-.0-9]+)$/i)){h=RegExp.$1,p=RegExp.$2,b=RegExp.$3;e.object.path(`sa b    a % % % 0 ${RGraph.TWOPI} false  s #ddd    cl`,h,p,b)}else e.dimensions.match(/^(?:scale:) *([-.0-9min]+) *- *([-.0-9max]+) *$/)?e.object.clipToScaleWorker?e.object.clipToScaleWorker(e.object.properties.clip):console.log("The scale: clipping option isn't implemented for this chart type ("+e.object.type+")"):(e.object.path("sa"),e.object.path(e.dimensions),e.object.path("cl"));else if(RGraph.isArray(e.dimensions)&&RGraph.isArray(e.dimensions[0])){for(var u=0,y=[];u<e.dimensions.length;++u)y.push("%1 %2 %3".format(0===u?"m":"l",e.dimensions[u][0],e.dimensions[u][1]));RGraph.clipTo.path="b "+y.join(" "),y="sa "+RGraph.clipTo.path+" cl",e.object.path(y)}else RGraph.isArray(e.dimensions)&&e.object.path("sa b r % % % % cl",e.dimensions[0],e.dimensions[1],e.dimensions[2],e.dimensions[3])},RGraph.clipTo.end=function(){RGraph.clipTo.object&&(RGraph.clipTo.object.canvas.__rgraph_aa_translated__=RGraph.clipTo.__rgraph_aa_translated__,RGraph.path(RGraph.clipTo.object,"rs"))},RGraph.clipTo.test=function(){var e=RGraph.getArgs(arguments,"object,x,y");if(e.object.properties.clip){var t=e.object.properties.clip;if("lefthalf"===t){if(e.x>0&&e.x<e.object.canvas.width/2&&e.y>0&&e.y<e.object.canvas.height)return!0}else if("righthalf"===t){if(e.x>e.object.canvas.width/2&&e.x<e.object.canvas.width&&e.y>0&&e.y<e.object.canvas.height)return!0}else if("tophalf"===t){if(e.x>0&&e.x<e.object.canvas.width&&e.y>0&&e.y<e.object.canvas.height/2)return!0}else if("bottomhalf"===t){if(e.x>0&&e.x<e.object.canvas.width&&e.y>e.object.canvas.height/2&&e.y<e.object.canvas.height)return!0}else if(RGraph.isArray(t)&&RGraph.isNumber(t[0])&&RGraph.isNumber(t[1])&&RGraph.isNumber(t[2])&&RGraph.isNumber(t[3])){if(e.x>t[0]&&e.x<t[0]+t[2]&&e.y>t[1]&&e.y<t[1]+t[3])return!0}else{if(RGraph.isArray(t)&&RGraph.isArray(t[0]))return e.object.path(RGraph.clipTo.path),e.object.context.isPointInPath(e.x,e.y);if(t.match(/^x:([-.0-9minax]+)%?-([.0-9minax]+)%?$/i)){var a=RegExp.$1,r=RegExp.$2;a=(a=a.replace(/min/,"-200")).replace(/max/,"200"),r=(r=r.replace(/min/,"-200")).replace(/max/,"200"),a=Number(a);var i=((r=Number(r))-a)/100*(e.object.canvas.width-e.object.properties.marginLeft-e.object.properties.marginRight),s=e.object.canvas.height,o=a/100*(e.object.canvas.width-e.object.properties.marginLeft-e.object.properties.marginRight)+e.object.properties.marginLeft,n=0;return e.object.path("b r % % % %",o,n,i,s),e.object.context.isPointInPath(e.x,e.y)}if(t.match(/^y:([-.0-9minax]+)%?-([.0-9minax]+)%?/i)){a=RegExp.$1,r=RegExp.$2;a=(a=a.replace(/min/,"-200")).replace(/max/,"200"),r=(r=r.replace(/min/,"-200")).replace(/max/,"200"),a=Number(a),r=Number(r);o=0,n=a/100*(s=e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom)+e.object.properties.marginTop,i=e.object.canvas.width;var l=r/100*(e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom);n=e.object.canvas.height-e.object.properties.marginBottom-l,s=(e.object.canvas.height-e.object.properties.marginTop-e.object.properties.marginBottom)*((r-a)/100);return e.object.path("b r % % % %",o,n,i,s),e.object.context.isPointInPath(e.x,e.y)}if(t.match(/^r:([-.0-9minax]+)%?-([.0-9minax]+)%?$/i)){a=RegExp.$1,r=RegExp.$2;a=(a=a.replace(/min/,"0")).replace(/max/,"2000"),r=(r=r.replace(/min/,"0")).replace(/max/,"2000"),a=Number(a),r=Number(r),RGraph.isNumber(e.object.centerx)&&RGraph.isNumber(e.object.centery)&&RGraph.isNumber(e.object.radius)||alert("[RGRAPH CLIPPING] To use the r: syntax the object (Type: {1}, ID: {2}, UID: {3}) must support the centerx, centery and radius properties.".format(e.object.type,e.object.id,e.object.uid));var c=e.object.centerx,h=e.object.centery,p=a/100*e.object.radius,g=r/100*e.object.radius;return e.object.path("sa b    a % % % 0 6.29 false    a % % % 6.29 0 true    cl",c,h,p,c,h,g),e.object.context.isPointInPath(e.x,e.y)}if(t.match(/^(?:scale:) *([-.0-9min]+) *- *([-.0-9max]+) *$/)){if(e.object.clipToScaleTestWorker)return e.object.clipToScaleTestWorker(t),e.object.context.isPointInPath(e.x,e.y);console.log("The scale: clipping option isn't implemented for this chart type ("+e.object.type+")")}}}},RGraph.parseConfigString=function(){var e=RGraph.getArgs(arguments,"string,separator");e.separator??=",";var t=!1,a=[],r=[],i={};e.string.split("").forEach((function(i){'"'===i||"'"===i?t=!t:i!==e.separator||t?r.push(i):(a.push(r.join("")),r=[])})),a.push(r.join(""));for(let e=0;e<a.length;++e){var s=a[e].indexOf("="),o=a[e].substr(0,s),n=a[e].substr(s+1);RGraph.isNumeric(n)&&(n=Number(n)),i[o]=n}return i},RGraph.drawHorizontalLines=function(e){var t,a,r,i,s,o=e.properties.horizontalLines;if(o){var n={dotted:!1,dashed:!0,color:"#666",linewidth:1,label:"Average (%{value})",labelPosition:"top right",labelColor:"#666",labelValueDecimals:2,labelOffsetx:0,labelOffsety:0};for(let u=0;u<e.properties.horizontalLines.length;++u){var l=o[u],c=l.labelFont||e.properties.textFont,h=l.labelColor||n.labelColor,p=l.labelSize||e.properties.textSize-4,g="boolean"==typeof l.labelBold?l.labelBold:e.properties.textBold,x="boolean"==typeof l.labelItalic?l.labelItalic:e.properties.textItalic;switch(e.type){case"line":"number"==typeof l.value?a=e.getYCoord(l.value):"average"===l.value&&(t=RGraph.arraySum(e.original_data[0])/e.original_data[0].length,a=e.getYCoord(t));break;case"bar":if("number"==typeof l.value)a=e.getYCoord(l.value);else if("average"===l.value){var b=0;e.data.map((e=>{RGraph.isNumber(e)?b+=e:RGraph.isArray(e)&&(b+=RGraph.arraySum(e))}));var d=0;for(let t=0;t<e.data.length;++t)"grouped"===e.properties.grouping?d+=RGraph.isArray(e.data[t])?e.data[t].length:1:"stacked"===e.properties.grouping&&++d;t=b/d,a=e.getYCoord(t)}break;case"scatter":if("number"==typeof l.value)a=e.getYCoord(l.value);else if("average"===l.value){var f=0;e.data[0].map((e=>f+=parseFloat(e[1]))),t=f/e.data[0].length,a=e.getYCoord(t)}}linedash="[1,1]",!0===l.dotted&&(linedash="[1,3]"),(!0===l.dashed||void 0===l.dashed&&void 0===l.dotted)&&(linedash="[6,6]"),e.path("lw % ld % b m % % l % % s %","number"==typeof l.linewidth?l.linewidth:n.linewidth,linedash,e.properties.marginLeft,a,e.canvas.width-e.properties.marginRight,a,l.color||n.color),["bar","line","scatter"].includes(e.type)&&(l.labelPosition||(l.labelPosition=n.labelPosition),"string"==typeof l.labelPosition&&l.labelPosition.indexOf("left")>=0?(textX=e.marginLeft+10,r="left"):"string"==typeof l.labelPosition&&l.labelPosition.indexOf("center")>=0?(textX=(e.canvas.width-e.properties.marginLeft-e.properties.marginRight)/2+e.properties.marginLeft,r="center"):"string"==typeof l.labelPosition&&"right-margin"===l.labelPosition?(textX=e.canvas.width-e.properties.marginRight+10,r="left"):"string"==typeof l.labelPosition&&"left-margin"===l.labelPosition?(textX=e.properties.marginLeft-10,r="right"):(textX=e.canvas.width-e.marginRight-10,r="right"),"string"==typeof l.labelPosition&&l.labelPosition.indexOf("bottom")>=0?(textY=a+5,i="top"):"string"==typeof l.labelPosition&&"right-margin"===l.labelPosition||"string"==typeof l.labelPosition&&"left-margin"===l.labelPosition?(textY=a,i="center"):(textY=a-5,i="bottom")),s="number"==typeof l.linewidth?l.linewidth:n.linewidth;d=RGraph.numberFormat({object:e,number:("number"==typeof l.value?l.value:t).toFixed("number"==typeof l.labelValueDecimals?l.labelValueDecimals:n.labelValueDecimals),unitspre:l.labelValueUnitsPre,unitspost:l.labelValueUnitsPost,thousand:l.labelValueThousand,point:l.labelValuePoint,formatter:l.labelValueFormatter,decimals:l.labelValueDecimals});RGraph.text({object:e,text:("string"==typeof l.label?l.label:n.label).replace("%{value}",d),x:textX+parseFloat(l.labelOffsetx||n.labelOffsetx),y:textY-s/2+parseFloat((-1!==l.labelPosition.indexOf("top")?-1*l.labelOffsety:l.labelOffsety)||n.labelOffsety),valign:i,halign:r,size:p,font:c,color:h,italic:x,bold:g,bounding:!0,boundingFill:"rgba(255,255,255,0.75)",boundingStroke:"transparent"})}}},RGraph.runOnce=function(e,t){if(!RGraph.Registry.get("rgraph-runonce-functions")[e])return RGraph.Registry.get("rgraph-runonce-functions")[e]=t,t()},RGraph.tooltipsHotspotIgnore=function(e,t){return!!(RGraph.isBoolean(e.properties.tooltipsHotspotIgnore)&&e.properties.tooltipsHotspotIgnore||RGraph.isNumber(e.properties.tooltipsHotspotIgnore)&&e.properties.tooltipsHotspotIgnore===t||RGraph.isArray(e.properties.tooltipsHotspotIgnore)&&e.properties.tooltipsHotspotIgnore.includes(t)||RGraph.isArray(e.properties.tooltipsHotspotIgnore)&&!0===e.properties.tooltipsHotspotIgnore[t])},RGraph.md5=function(e){var t="0123456789abcdef";function a(e){var a,r="";for(a=0;a<=3;a++)r+=t.charAt(e>>8*a+4&15)+t.charAt(e>>8*a&15);return r}function r(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function i(e,t,a,i,s,o){return r(function(e,t){return e<<t|e>>>32-t}(r(r(t,e),r(i,o)),s),a)}function s(e,t,a,r,s,o,n){return i(t&a|~t&r,e,t,s,o,n)}function o(e,t,a,r,s,o,n){return i(t&r|a&~r,e,t,s,o,n)}function n(e,t,a,r,s,o,n){return i(t^a^r,e,t,s,o,n)}function l(e,t,a,r,s,o,n){return i(a^(t|~r),e,t,s,o,n)}var c,h,p,g,x,b=function(e){var t,a=1+(e.length+8>>6),r=new Array(16*a);for(t=0;t<16*a;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<t%4*8;return r[t>>2]|=128<<t%4*8,r[16*a-2]=8*e.length,r}(""+e),d=1732584193,f=-271733879,u=-1732584194,y=271733878;for(c=0;c<b.length;c+=16)h=d,p=f,g=u,x=y,d=s(d,f,u,y,b[c+0],7,-680876936),y=s(y,d,f,u,b[c+1],12,-389564586),u=s(u,y,d,f,b[c+2],17,606105819),f=s(f,u,y,d,b[c+3],22,-1044525330),d=s(d,f,u,y,b[c+4],7,-176418897),y=s(y,d,f,u,b[c+5],12,1200080426),u=s(u,y,d,f,b[c+6],17,-1473231341),f=s(f,u,y,d,b[c+7],22,-45705983),d=s(d,f,u,y,b[c+8],7,1770035416),y=s(y,d,f,u,b[c+9],12,-1958414417),u=s(u,y,d,f,b[c+10],17,-42063),f=s(f,u,y,d,b[c+11],22,-1990404162),d=s(d,f,u,y,b[c+12],7,1804603682),y=s(y,d,f,u,b[c+13],12,-40341101),u=s(u,y,d,f,b[c+14],17,-1502002290),d=o(d,f=s(f,u,y,d,b[c+15],22,1236535329),u,y,b[c+1],5,-165796510),y=o(y,d,f,u,b[c+6],9,-1069501632),u=o(u,y,d,f,b[c+11],14,643717713),f=o(f,u,y,d,b[c+0],20,-373897302),d=o(d,f,u,y,b[c+5],5,-701558691),y=o(y,d,f,u,b[c+10],9,38016083),u=o(u,y,d,f,b[c+15],14,-660478335),f=o(f,u,y,d,b[c+4],20,-405537848),d=o(d,f,u,y,b[c+9],5,568446438),y=o(y,d,f,u,b[c+14],9,-1019803690),u=o(u,y,d,f,b[c+3],14,-187363961),f=o(f,u,y,d,b[c+8],20,1163531501),d=o(d,f,u,y,b[c+13],5,-1444681467),y=o(y,d,f,u,b[c+2],9,-51403784),u=o(u,y,d,f,b[c+7],14,1735328473),d=n(d,f=o(f,u,y,d,b[c+12],20,-1926607734),u,y,b[c+5],4,-378558),y=n(y,d,f,u,b[c+8],11,-2022574463),u=n(u,y,d,f,b[c+11],16,1839030562),f=n(f,u,y,d,b[c+14],23,-35309556),d=n(d,f,u,y,b[c+1],4,-1530992060),y=n(y,d,f,u,b[c+4],11,1272893353),u=n(u,y,d,f,b[c+7],16,-155497632),f=n(f,u,y,d,b[c+10],23,-1094730640),d=n(d,f,u,y,b[c+13],4,681279174),y=n(y,d,f,u,b[c+0],11,-358537222),u=n(u,y,d,f,b[c+3],16,-722521979),f=n(f,u,y,d,b[c+6],23,76029189),d=n(d,f,u,y,b[c+9],4,-640364487),y=n(y,d,f,u,b[c+12],11,-421815835),u=n(u,y,d,f,b[c+15],16,530742520),d=l(d,f=n(f,u,y,d,b[c+2],23,-995338651),u,y,b[c+0],6,-198630844),y=l(y,d,f,u,b[c+7],10,1126891415),u=l(u,y,d,f,b[c+14],15,-1416354905),f=l(f,u,y,d,b[c+5],21,-57434055),d=l(d,f,u,y,b[c+12],6,1700485571),y=l(y,d,f,u,b[c+3],10,-1894986606),u=l(u,y,d,f,b[c+10],15,-1051523),f=l(f,u,y,d,b[c+1],21,-2054922799),d=l(d,f,u,y,b[c+8],6,1873313359),y=l(y,d,f,u,b[c+15],10,-30611744),u=l(u,y,d,f,b[c+6],15,-1560198380),f=l(f,u,y,d,b[c+13],21,1309151649),d=l(d,f,u,y,b[c+4],6,-145523070),y=l(y,d,f,u,b[c+11],10,-1120210379),u=l(u,y,d,f,b[c+2],15,718787259),f=l(f,u,y,d,b[c+9],21,-343485551),d=r(d,h),f=r(f,p),u=r(u,g),y=r(y,x);return a(d)+a(f)+a(u)+a(y)},RGraph.pathLine=function(){var e=RGraph.getArgs(arguments,"context,coords,moveto,reverse");e.reverse&&(e.coords=RGraph.arrayReverse(e.coords));for(var t=0;t<e.coords.length;++t)0===t&&!1!==e.moveto?e.context.moveTo(e.coords[t][0],e.coords[t][1]):e.context.lineTo(e.coords[t][0],e.coords[t][1])},RGraph.drawLine=function(){var e=RGraph.getArgs(arguments,"context,coords,moveto,stroke");e.context.beginPath(),RGraph.pathLine({context:e.context,coords:e.coords,moveto:e.moveto}),e.linewidth&&(e.context.lineWidth=e.linewidth),e.fill&&(e.context.fillStyle=e.fill,e.context.fill()),e.stroke&&(e.context.strokeStyle=e.stroke,e.context.stroke())},RGraph.isString=function(e){return"string"==typeof e},RGraph.isNumber=function(e){return"number"==typeof e},RGraph.isTextual=function(e){return"string"==typeof e||"number"==typeof e},RGraph.isNumeric=function(e){return e=String(e),Boolean(e.match(/^[-.0-9]+$/))||Boolean(e.match(/^[-.0-9]+e[-0-9]+$/))||"Infinity"===e||"-Infinity"===e||Boolean(e.match(/^[-.0-9]+x[0-9a-f]+$/i))},RGraph.isBool=RGraph.isBoolean=function(e){return"boolean"==typeof e},RGraph.isObject=function(e){return!!(e&&"object"==typeof e&&e.constructor.toString().toLowerCase().indexOf("object")>0)},RGraph.isFunction=function(e){return"function"==typeof e},RGraph.isUndefined=function(e){return void 0===e}}(window,document),window.$p=function(e){RGraph.pr(arguments[0],arguments[1],arguments[3])},window.$a=function(e){if(arguments.length>1){var t=[];for(let e=0;e<arguments.length;++e)t.push(arguments[e]),t.push("    ");t.pop(),alert(t)}else alert(e)},window.$c=window.$cl=function(e){return console.log(e)},window.$d=function(e){this.rgraph_debug_textarea||(this.rgraph_debug_textarea=document.createElement("textarea"),this.rgraph_debug_textarea.style.position="fixed",this.rgraph_debug_textarea.style.left="10px",this.rgraph_debug_textarea.style.top="10px",this.rgraph_debug_textarea.style.width="600px",this.rgraph_debug_textarea.style.height="600px",this.rgraph_debug_textarea.style.opacity="0.25",this.rgraph_debug_textarea.style.zIndex="99999",this.rgraph_debug_textarea.style.border="2px solid black",this.rgraph_debug_textarea.style.backgroundColor="yellow",this.rgraph_debug_textarea.style.color="black",this.rgraph_debug_textarea.style.fontSize="16pt",this.rgraph_debug_textarea.style.fontWeight="bold",this.rgraph_debug_textarea.wrap="off",document.body.appendChild(this.rgraph_debug_textarea),window.localStorage.rgraph_debug_textarea_w&&(this.rgraph_debug_textarea.style.width=window.localStorage.rgraph_debug_textarea_w),window.localStorage.rgraph_debug_textarea_h&&(this.rgraph_debug_textarea.style.height=window.localStorage.rgraph_debug_textarea_h),this.rgraph_debug_textarea.onmouseover=function(e){e.target.style.opacity=1},this.rgraph_debug_textarea.onmousedown=function(e){if(e.ctrlKey)return e.preventDefault(),e.stopPropagation(),this.mousedown=!0,this.pickupX=e.offsetX,this.pickupY=e.offsetY,!1},this.rgraph_debug_textarea.onmouseout=function(e){this.style.opacity=.25},this.rgraph_debug_textarea.ondblclick=function(e){confirm("Clear the log?")&&(this.value="")},window.onmouseup=function(e){this.rgraph_debug_textarea.mousedown=!1},window.addEventListener("mousemove",(function(e){this.rgraph_debug_textarea.mousedown&&(window.localStorage.rgraph_debug_textarea_w=this.rgraph_debug_textarea.offsetWidth+"px",window.localStorage.rgraph_debug_textarea_h=this.rgraph_debug_textarea.offsetHeight+"px")}),!1));var t=new Date,a=t.getHours(),r=t.getMinutes();r=1===String(r).length?"0"+r:r;var i,s=t.getSeconds();s=1===String(s).length?"0"+s:s,this.rgraph_debug_textarea.value="[%1:%2:%3] %4\r\n%5".format(a,r,s,JSON.stringify(e,(i=[],function(e,t){if("object"==typeof t&&null!==t){for(var a=0;a<i.length;++a)if(i[a]===t)return;i.push(t)}return t})),this.rgraph_debug_textarea.value)},"function"!=typeof"".substr&&(String.prototype.substr=function(e,t){return e=e>=0?e:this.length+e,this.substring(e,e+t)}),String.prototype.format=function(){if(0===arguments.length){if((e=this).match(/{[a-z0-9]+?}/i))var e=this.replace(/{[a-z0-9]+?}/gi,(function(e,t){return e=(e=e.substr(1)).substr(0,e.length-1),window[e]}));return e}if(1===arguments.length&&RGraph.isArray(arguments[0]))return this.format.apply(this,arguments[0]);var t=arguments;for(var a in t)RGraph.isNullish(t[a])&&(t[a]="null");return(e=(e=(e=this.replace(/{(\d+)}/g,(function(e,a){return void 0!==t[a-1]?t[a-1]:e}))).replace(/(?:%|\\)%(\d)/g,"__PPEERRCCEENNTT__$1")).replace(/%(\d+)/g,(function(e,a){return void 0!==t[a-1]?t[a-1]:e}))).replace("__PPEERRCCEENNTT__","%")},RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.Meter=function(e){var t=e.id,a=document.getElementById(t),r=e.min,i=e.max,s=e.value;for(var o in this.id=t,this.canvas=a,this.context=this.canvas.getContext?this.canvas.getContext("2d",{alpha:"object"!=typeof t||!1!==t.alpha}):null,this.canvas.__object__=this,this.type="meter",this.min=RGraph.stringsToNumbers(r),this.max=RGraph.stringsToNumbers(i),this.value=RGraph.stringsToNumbers(s),this.centerx=null,this.centery=null,this.radius=null,this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.currentValue=null,this.uid=RGraph.createUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.createUID(),this.colorsParsed=!1,this.coordsText=[],this.original_colors=[],this.firstDraw=!0,this.stopAnimationRequested=!1,this.properties={backgroundImageUrl:null,backgroundImageOffsetx:0,backgroundImageOffsety:0,backgroundImageStretch:!0,backgroundColor:"white",marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,linewidth:1,linewidthSegments:0,colorsStroke:null,border:!0,borderColor:"black",textFont:"Arial, Verdana, sans-serif",textSize:12,textColor:"black",textBold:!1,textItalic:!1,textValign:"center",textAccessible:!1,textAccessibleOverflow:"visible",textAccessiblePointerevents:!1,text:null,labels:!0,labelsCount:10,labelsSpecific:null,labelsRadiusOffset:0,labelsOffsetRadius:null,labelsFont:null,labelsSize:null,labelsColor:null,labelsBold:null,labelsItalic:null,labelsValue:!1,labelsValueFont:null,labelsValueSize:null,labelsValueBold:null,labelsValueItalic:null,labelsValueColor:null,labelsValueDecimals:0,labelsValuePoint:".",labelsValueThousand:",",labelsValueUnitsPre:"",labelsValueUnitsPost:"",labelsValueBackground:!0,labelsValueBackgroundFill:"rgba(255,255,255,0.75)",labelsValueBackgroundStroke:"rgba(0,0,0,0)",labelsValueSpecific:null,labelsValueAccessible:!1,labelsValueOffsetx:0,labelsValueOffsety:0,title:"",titleColor:null,titleBold:null,titleFont:null,titleItalic:null,titleSize:null,titleX:null,titleY:null,titleHalign:null,titleValign:null,titleOffsetx:0,titleOffsety:0,titleSubtitle:"",titleSubtitleSize:null,titleSubtitleColor:"#aaa",titleSubtitleFont:null,titleSubtitleBold:null,titleSubtitleItalic:null,titleSubtitleOffsetx:0,titleSubtitleOffsety:0,colorsGreenStart:.35*(this.max-this.min)+this.min,colorsGreenEnd:this.max,colorsGreenColor:"#207A20",colorsYellowStart:.1*(this.max-this.min)+this.min,colorsYellowEnd:.35*(this.max-this.min)+this.min,colorsYellowColor:"#D0AC41",colorsRedStart:this.min,colorsRedEnd:.1*(this.max-this.min)+this.min,colorsRedColor:"#9E1E1E",colorsRanges:null,contextmenu:null,annotatable:!1,annotatableColor:"black",shadow:!1,shadowColor:"rgba(0,0,0,0.5)",shadowBlur:3,shadowOffsetx:3,shadowOffsety:3,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,tickmarksSmallCount:100,tickmarksSmallColor:"#bbb",tickmarksLargeCount:10,tickmarksLargeColor:"black",scaleUnitsPre:"",scaleUnitsPost:"",scaleDecimals:0,scalePoint:".",scaleThousand:",",radius:null,centerx:null,centery:null,segmentsRadiusStart:0,needleRadius:null,needleType:"normal",needleTail:!1,needleHead:!0,needleHeadLength:30,needleHeadWidth:.088,needleColor:"black",needleImageUrl:null,needleImageOffsetx:0,needleImageOffsety:0,adjustable:!1,anglesStart:RGraph.PI,anglesEnd:RGraph.TWOPI,centerpinStroke:"black",centerpinFill:"white",clearto:"rgba(0,0,0,0)",variant:"default"},this.properties_lowercase_map=[],this.properties)"string"==typeof o&&(this.properties_lowercase_map[o.toLowerCase()]=o);if(this.canvas){var n=this.properties;this.path=RGraph.pathObjectFunction,RGraph.Effects&&"function"==typeof RGraph.Effects.decorate&&RGraph.Effects.decorate(this),this.responsive=RGraph.responsive,this.set=function(e){var t=void 0===arguments[1]?null:arguments[1];if("string"==typeof e&&(e=this.properties_lowercase_map[e.toLowerCase()]||e),"labelsValueText"===e.substr(0,15)&&(e=e.replace(/^labelsValueText/,"labelsValue")),"colorsRedColor"!==e&&"colorsYellowColor"!==e&&"colorsGreenColor"!==e&&"colorsRanges"!==e||(this.colorsParsed=!1),1===arguments.length&&"object"==typeof arguments[0]){for(o in arguments[0])"string"==typeof o&&this.set(o,arguments[0][o]);return this}return n[e]=t,this},this.get=function(e){return e=this.properties_lowercase_map[e.toLowerCase()]||e,n[e]},this.draw=function(){if(RGraph.fireCustomEvent(this,"onbeforedraw"),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.marginLeft=n.marginLeft,this.marginRight=n.marginRight,this.marginTop=n.marginTop,this.marginBottom=n.marginBottom,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=this.canvas.height-this.marginBottom,this.radius=Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,this.canvas.height-this.marginTop-this.marginBottom),this.coordsText=[],"number"==typeof n.centerx&&(this.centerx=n.centerx),"number"==typeof n.centery&&(this.centery=n.centery),"number"==typeof n.radius&&(this.radius=n.radius),"string"==typeof n.radius&&n.radius.match(/^\+|-\d+$/)&&(this.radius+=parseFloat(n.radius)),"string"==typeof n.centerx&&n.centerx.match(/^\+|-\d+$/)&&(this.centerx+=parseFloat(n.centerx)),"string"==typeof n.centery&&n.centery.match(/^\+|-\d+$/)&&(this.centery+=parseFloat(n.centery)),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),RGraph.isNullish(this.properties.clip)||RGraph.clipTo.start(this,this.properties.clip),this.drawBackground(),this.drawLabels(),this.drawNeedle(),this.drawReadout(),RGraph.drawTitle(this),n.contextmenu&&RGraph.showContext(this),RGraph.addCustomText(this),RGraph.installEventListeners(this),RGraph.isNullish(this.properties.clip)||RGraph.clipTo.end(),this.firstDraw){this.firstDraw=!1,RGraph.fireCustomEvent(this,"onfirstdraw"),this.firstDrawFunc();n.variant;this.anglesStart=n.anglesStart,this.anglesEnd=n.anglesEnd}return RGraph.fireCustomEvent(this,"ondraw"),RGraph.installInlineResponsive(this),this},this.exec=function(e){return e(this),this},this.drawBackground=function(){if("string"!=typeof n.backgroundImageUrl||this.__background_image__){if(this.__background_image__){e=0+n.backgroundImageOffsetx,t=0+n.backgroundImageOffsety;n.backgroundImageStretch?this.context.drawImage(this.__background_image__,e,t,this.canvas.width,this.canvas.height):this.context.drawImage(this.__background_image__,e,t)}}else{var e=0+n.backgroundImageOffsetx,t=0+n.backgroundImageOffsety,a=new Image;this.__background_image__=a,a.src=n.backgroundImageUrl;var r=this;a.onload=function(){n.backgroundImageStretch?r.context.drawImage(this,e,t,r.canvas.width,r.canvas.height):r.context.drawImage(this,e,t),RGraph.redraw()}}if(this.context.beginPath(),this.context.fillStyle=n.backgroundColor,n.shadow&&RGraph.setShadow(this,n.shadowColor,n.shadowOffsetx,n.shadowOffsety,n.shadowBlur),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius,n.anglesStart,n.anglesEnd,!1),this.context.fill(),RGraph.noShadow(this),n.shadow){this.context.beginPath();var i=.06*this.radius>40?40:.06*this.radius;this.context.arc(this.centerx,this.centery,i,0,RGraph.TWOPI,0),this.context.fill(),RGraph.noShadow(this)}if(n.tickmarksSmallCount){for(var s=0;s<n.anglesEnd-n.anglesStart;s+=RGraph.PI/n.tickmarksSmallCount)this.context.beginPath(),this.context.strokeStyle=n.tickmarksSmallColor,this.context.arc(this.centerx,this.centery,this.radius,n.anglesStart+s,n.anglesStart+s+1e-5,0),this.context.arc(this.centerx,this.centery,this.radius-5,n.anglesStart+s,n.anglesStart+s+1e-5,0),this.context.stroke();this.context.beginPath(),this.context.fillStyle=n.backgroundColor,this.context.arc(this.centerx,this.centery,this.radius-4,n.anglesStart,n.anglesEnd,!1),this.context.closePath(),this.context.fill()}if(n.tickmarksLargeCount)for(var o=["white","white",n.tickmarksLargeColor],l=0;l<o.length;++l)for(s=0;s<n.anglesEnd-n.anglesStart;s+=(n.anglesEnd-n.anglesStart)/n.tickmarksLargeCount)this.context.beginPath(),this.context.strokeStyle=o[l],this.context.arc(this.centerx,this.centery,this.radius,n.anglesStart+s,n.anglesStart+s+.001,0),this.context.arc(this.centerx,this.centery,this.radius-5,n.anglesStart+s,n.anglesStart+s+1e-4,0),this.context.stroke();this.context.beginPath(),this.context.fillStyle=n.backgroundColor,this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius-7,n.anglesStart,n.anglesEnd,!1),this.context.closePath(),this.context.fill();var c=n.colorsRanges;if(RGraph.isArray(n.colorsRanges)){c=n.colorsRanges;var h=RGraph.getRadiusEndPoint(this.centerx,this.centery,this.anglesStart-.1,.85*this.radius-(.85*this.radius-n.segmentsRadiusStart)/2),p=RGraph.getRadiusEndPoint(this.centerx,this.centery,this.anglesEnd+.1,.85*this.radius-(.85*this.radius-n.segmentsRadiusStart)/2);for(s=0;s<c.length;++s)this.context.strokeStyle=n.colorsStroke?n.colorsStroke:c[s][2],this.context.fillStyle=c[s][2],this.context.lineWidth=n.linewidthSegments,this.context.beginPath(),"rounded"===n.variant&&0===s&&this.context.arc(h[0],h[1],(.85*this.radius-n.segmentsRadiusStart)/2,this.anglesStart+RGraph.PI,this.anglesStart,!1),this.context.arc(this.centerx,this.centery,.85*this.radius,(c[s][0]-this.min)/(this.max-this.min)*(this.anglesEnd-this.anglesStart)+this.anglesStart,(c[s][1]-this.min)/(this.max-this.min)*(this.anglesEnd-this.anglesStart)+this.anglesStart,!1),n.segmentsRadiusStart>0?("rounded"===n.variant&&s===c.length-1&&this.context.arc(p[0],p[1],(.85*this.radius-n.segmentsRadiusStart)/2,this.anglesEnd,this.anglesEnd+RGraph.PI,!1),this.context.arc(this.centerx,this.centery,n.segmentsRadiusStart,(c[s][1]-this.min)/(this.max-this.min)*(this.anglesEnd-this.anglesStart)+this.anglesStart,(c[s][0]-this.min)/(this.max-this.min)*(this.anglesEnd-this.anglesStart)+this.anglesStart,!0)):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill();this.context.beginPath()}else this.context.lineWidth=n.linewidth,this.context.strokeStyle=n.colorsStroke?n.colorsStroke:n.colorsGreenColor,this.context.fillStyle=n.colorsGreenColor,this.context.lineWidth=n.linewidthSegments,this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(n.colorsGreenStart-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,(n.colorsGreenEnd-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,!1),n.segmentsRadiusStart>0?this.context.arc(this.centerx,this.centery,n.segmentsRadiusStart,(n.colorsGreenEnd-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,(n.colorsGreenStart-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=n.colorsStroke?n.colorsStroke:n.colorsYellow,this.context.fillStyle=n.colorsYellowColor,this.context.lineWidth=n.linewidthSegments,this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(n.colorsYellowStart-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,(n.colorsYellowEnd-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,!1),n.segmentsRadiusStart>0?this.context.arc(this.centerx,this.centery,n.segmentsRadiusStart,(n.colorsYellowEnd-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,(n.colorsYellowStart-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=n.colorsStroke?n.colorsStroke:n.colorsRedColor,this.context.fillStyle=n.colorsRedColor,this.context.lineWidth=n.linewidthSegments,this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(n.colorsRedStart-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,(n.colorsRedEnd-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,!1),n.segmentsRadiusStart>0?this.context.arc(this.centerx,this.centery,n.segmentsRadiusStart,(n.colorsRedEnd-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,(n.colorsRedStart-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.lineWidth=1;n.border&&(this.context.strokeStyle=n.borderColor,this.context.lineWidth=n.linewidth,this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius,n.anglesStart,n.anglesEnd,!1),this.context.closePath()),this.context.stroke(),this.context.lineWidth=1},this.drawNeedle=function(){var e=(this.value-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart;if("string"!=typeof n.needleImageUrl||this.__needle_image__)this.__needle_image__&&(this.context.save(),RGraph.rotateCanvas(this.canvas,this.centerx,this.centery,e),this.context.drawImage(this.__needle_image__,this.centerx+n.needleImageOffsetx,this.centery+n.needleImageOffsety),this.context.restore());else{var t=new Image;this.__needle_image__=t,t.src=n.needleImageUrl;var a=this;t.onload=function(){a.context.save(),RGraph.rotateCanvas(a.canvas,a.centerx,a.centery,e),a.context.drawImage(this,a.centerx+n.needleImageOffsetx,a.centery+n.needleImageOffsety),a.context.restore(),RGraph.redraw()}}var r="number"==typeof n.needleRadius?n.needleRadius:.7*this.radius;if("pointer"===n.needleType){var i=.06*this.radius>40?40:.06*this.radius;this.context.beginPath(),this.context.fillStyle=n.needleColor,this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,i,0,RGraph.TWOPI,!1),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,i,e+RGraph.HALFPI,e+RGraph.HALFPI+1e-4,!1),this.context.arc(this.centerx,this.centery,r,e,e+.001,!1),this.context.arc(this.centerx,this.centery,i,e-RGraph.HALFPI,e-RGraph.HALFPI+.001,!1),this.context.fill()}else{this.context.fillStyle="black",this.context.lineWidth=this.radius>=200?7:5,this.context.lineCap="round",this.context.beginPath(),this.context.strokeStyle=n.needleColor,"number"==typeof n.needleLinewidth&&(this.context.lineWidth=n.needleLinewidth);const t=RGraph.getRadiusEndPoint(this.centerx,this.centery,e,.86*this.radius);this.context.moveTo(t[0],t[1]);const a=RGraph.getRadiusEndPoint(this.centerx,this.centery,e,.85*this.radius-(.85*this.radius-.98*n.segmentsRadiusStart));this.context.lineTo(a[0],a[1]),this.context.stroke()}},this.drawLabels=function(){if(n.labels){this.radius,n.textItalic;var e=n.scaleUnitsPost,t=n.scaleUnitsPre,a=n.scalePoint,r=n.scaleThousand,i=this.centerx,s=this.centery,o=(this.min,this.max,n.scaleDecimals),l=n.labelsCount,c=n.labelsRadiusOffset,h=n.labelsSpecific;"number"==typeof n.labelsOffsetRadius&&(c=n.labelsOffsetRadius);var p=RGraph.getTextConf({object:this,prefix:"labels"});if(h){const e="rounded"===n.variant;this.anglesStart=n.anglesStart+(e?.25:0),this.anglesEnd=n.anglesEnd-(e?.25:0);for(var g=0;g<h.length;++g){if("string"==typeof h[g]||"number"==typeof h[g])var x=(f=this.getAngle((this.max-this.min)/h.length/2+(this.max-this.min)/h.length*g+this.min)+(e&&0===g?.25:0)-(e&&g===h.length-1?.25:0))*(180/RGraph.PI),b=h[g].toString(),d=RGraph.getRadiusEndPoint(this.centerx,this.centery,f,.925*this.radius+c);else x=(f=this.getAngle(h[g][1]))*(180/RGraph.PI),b=h[g][0].toString(),d=RGraph.getRadiusEndPoint(this.centerx,this.centery,f,.925*this.radius+c);RGraph.text({object:this,font:p.font,size:p.size,color:p.color,bold:p.bold,italic:p.italic,x:d[0],y:d[1],text:b,halign:"center",valign:"center",angle:x+90,bounding:!1,tag:"labels-specific"})}}else{this.context.fillStyle=n.textColor,this.context.lineWidth=1,this.context.beginPath();for(g=0;g<=l;++g){var f=(n.anglesEnd-n.anglesStart)*(g/l)+n.anglesStart,u=(d=RGraph.getRadiusEndPoint(i,s,f+(0!=g&&g!=l||!n.border?0:0==g?.05:-.05),.925*this.radius-("bottom"===n.textValign?15:0)+c),n.anglesStart),y=n.anglesEnd,m=y-u,R=u*(180/RGraph.PI),v=(RGraph.PI,m*(180/RGraph.PI));valign=n.textValign,n.border?halign=0==g?"left":g==l?"right":"center":halign="center";var G=(this.max-this.min)*(g/l)+this.min;RGraph.text({object:this,font:p.font,size:p.size,color:p.color,bold:p.bold,italic:p.italic,x:d[0],y:d[1],text:RGraph.numberFormat({object:this,number:G.toFixed(0===G?0:o),unitspre:t,unitspost:e,point:a,thousand:r}),halign:halign,valign:valign,angle:v*(1/l)*g+R-270,bounding:!1,boundingFill:0==g||g==l?"white":null,tag:"scale"})}}}},this.drawReadout=function(){if(n.labelsValue){var e=RGraph.numberFormat({object:this,number:this.value.toFixed(0===this.value?0:n.labelsValueDecimals),unitspre:n.labelsValueUnitsPre,unitspost:n.labelsValueUnitsPost,point:n.labelsValuePoint,thousand:n.labelsValueThousand});"string"==typeof n.labelsValueSpecific&&(e=n.labelsValueSpecific);var t=RGraph.getTextConf({object:this,prefix:"labelsValue"});RGraph.text({object:this,font:t.font,size:t.size,color:t.color,bold:t.bold,italic:t.italic,x:this.centerx+n.labelsValueOffsetx,y:this.centery-t.size-15+n.labelsValueOffsety,text:e,halign:"center",valign:"bottom",bounding:n.labelsValueBackground,boundingFill:n.labelsValueBackgroundFill,boundingStroke:n.labelsValueBackgroundStroke,accessible:n.labelsValueAccessible,tag:"value.text"})}},this.getShape=function(e){},this.getValue=function(e){var t=RGraph.getMouseXY(e),a=RGraph.getAngleByXY(this.centerx,this.centery,t[0],t[1]);if(RGraph.getHypLength(this.centerx,this.centery,t[0],t[1])>this.radius)return null;a<RGraph.HALFPI&&(a+=RGraph.TWOPI);var r=(a-n.anglesStart)/(n.anglesEnd-n.anglesStart)*(this.max-this.min)+this.min;return r=Math.max(r,this.min),r=Math.min(r,this.max)},this.getObjectByXY=function(e){var t=RGraph.getMouseXY(e),a=RGraph.getHypLength(this.centerx,this.centery,t[0],t[1]);if(t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius&&a<=this.radius)return this},this.adjusting_mousemove=function(e){n.adjustable&&RGraph.Registry.get("adjusting")&&RGraph.Registry.get("adjusting").uid==this.uid&&(this.value=this.getValue(e),RGraph.clear(this.canvas),RGraph.redrawCanvas(this.canvas),RGraph.fireCustomEvent(this,"onadjust"))},this.getAngle=function(e){return e>this.max||e<this.min?null:(e-this.min)/(this.max-this.min)*(n.anglesEnd-n.anglesStart)+n.anglesStart},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors.colorsGreenColor=RGraph.arrayClone(n.colorsGreenColor),this.original_colors.colorsYellowColor=RGraph.arrayClone(n.colorsYellowColor),this.original_colors.colorsRedColor=RGraph.arrayClone(n.colorsRedColor),this.original_colors.colorsRanges=RGraph.arrayClone(n.colorsRanges)),n.colorsGreenColor=this.parseSingleColorForGradient(n.colorsGreenColor),n.colorsYellowColor=this.parseSingleColorForGradient(n.colorsYellowColor),n.colorsRedColor=this.parseSingleColorForGradient(n.colorsRedColor);var e=n.colorsRanges;if(e&&e.length)for(var t=0;t<e.length;++t)e[t][2]=this.parseSingleColorForGradient(e[t][2])},this.reset=function(){},this.parseSingleColorForGradient=function(e){if(!e||"string"!=typeof e)return e;if(e.match(/^gradient\((.*)\)$/i)){if(e.match(/^gradient\(({.*})\)$/i))return RGraph.parseJSONGradient({object:this,def:RegExp.$1,radial:!0});for(var t=RegExp.$1.split(":"),a=this.context.createRadialGradient(this.centerx,this.centery,n.segmentsRadiusStart,this.centerx,this.centery,.85*this.radius),r=1/(t.length-1),i=0;i<t.length;++i)a.addColorStop(i*r,RGraph.trim(t[i]))}return a||e},this.on=function(e,t){return"on"!==e.substr(0,2)&&(e="on"+e),"function"!=typeof this[e]?this[e]=t:RGraph.addCustomEventListener(this,e,t),this},this.firstDrawFunc=function(){},this.grow=function(){this.cancelStopAnimation();var e=this;e.currentValue=e.currentValue||e.min;var t=(arguments[0]||{}).frames||30,a=0,r=(e.value-e.currentValue)/t,i=arguments[1]||function(){},s=e.currentValue;return function o(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.value=s+a++*r,RGraph.clear(e.canvas),RGraph.redrawCanvas(e.canvas),a<=t?RGraph.Effects.updateCanvas(o):i(e))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.clipToScaleWorker=function(e){"min"===RegExp.$1?from=this.min:from=Number(RegExp.$1),"max"===RegExp.$2?to=this.max:to=Number(RegExp.$2);var t=this.getAngle(from),a=this.getAngle(to);"min"===RegExp.$1&&(t=this.getAngle(this.min)),"max"===RegExp.$2&&(a=this.getAngle(this.max)),this.path("sa b    m % %    a % % % % % false    c cl",this.centerx,this.centery,this.centerx,this.centery,Math.max(this.canvas.width,this.canvas.height),t,a)},RGraph.register(this),RGraph.parseObjectStyleConfig(this,e.options)}else alert("[METER] No canvas support")};