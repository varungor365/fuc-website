/*!@license
 * GTmetrix JavaScript Library
 * Copyright 2025, Carbon60 Operating Co. Ltd.
 */
!function(n){n.color={},n.color.make=function(t,e,a,i){var o={};return o.r=t||0,o.g=e||0,o.b=a||0,o.a=null!=i?i:1,o.add=function(t,e){for(var a=0;a<t.length;++a)o[t.charAt(a)]+=e;return o.normalize()},o.scale=function(t,e){for(var a=0;a<t.length;++a)o[t.charAt(a)]*=e;return o.normalize()},o.toString=function(){return 1<=o.a?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,a){return e<t?t:a<e?a:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return n.color.make(o.r,o.b,o.g,o.a)},o.normalize()},n.color.extract=function(t,e){for(var a;(""==(a=t.css(e).toLowerCase())||"transparent"==a)&&(t=t.parent()).length&&!n.nodeName(t.get(0),"body"););return n.color.parse(a="rgba(0, 0, 0, 0)"==a?"transparent":a)},n.color.parse=function(t){var e,a=n.color.make;return(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?a(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)):(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))?a(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])):(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?a(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3])):(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))?a(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4])):(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?a(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)):(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?a(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)):"transparent"==(t=n.trim(t).toLowerCase())?a(255,255,255,0):a((e=i[t]||[0,0,0])[0],e[1],e[2])};var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(U){var m=Object.prototype.hasOwnProperty;function K(t,e){var a=e.children("."+t)[0];if(null==a&&((a=document.createElement("canvas")).className=t,U(a).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(e),!a.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");a=window.G_vmlCanvasManager.initElement(a)}this.element=a;t=this.context=a.getContext("2d"),a=window.devicePixelRatio||1,t=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;this.pixelRatio=a/t,this.resize(e.width(),e.height()),this.textContainer=null,this.text={},this._textCache={}}function i(w,k,t,e){var j=[],R={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},M=null,a=null,h=null,b=null,c=null,H=[],N=[],T={left:0,right:0,top:0,bottom:0},S=0,C=0,L={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},y=this;y.setData=u,y.setupGrid=z,y.draw=D,y.getPlaceholder=function(){return w},y.getCanvas=function(){return M.element},y.getPlotOffset=function(){return T},y.width=function(){return S},y.height=function(){return C},y.offset=function(){var t=h.offset();return t.left+=T.left,t.top+=T.top,t},y.getData=function(){return j},y.getAxes=function(){var a={};return U.each(H.concat(N),function(t,e){e&&(a[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),a},y.getXAxes=function(){return H},y.getYAxes=function(){return N},y.c2p=m,y.p2c=function(t){var e,a,i,o={};for(e=0;e<H.length;++e)if((a=H[e])&&a.used&&(i="x"+a.n,null==t[i]&&1==a.n&&(i="x"),null!=t[i])){o.left=a.p2c(t[i]);break}for(e=0;e<N.length;++e)if((a=N[e])&&a.used&&(i="y"+a.n,null==t[i]&&1==a.n&&(i="y"),null!=t[i])){o.top=a.p2c(t[i]);break}return o},y.getOptions=function(){return R},y.highlight=X,y.unhighlight=J,y.triggerRedrawOverlay=_,y.pointOffset=function(t){return{left:parseInt(H[q(t,"x")-1].p2c(+t.x)+T.left,10),top:parseInt(N[q(t,"y")-1].p2c(+t.y)+T.top,10)}},y.shutdown=p,y.destroy=function(){p(),w.removeData("plot").empty(),j=[],H=[],N=[],f=[],y=L=c=b=h=a=M=R=null},y.resize=function(){var t=w.width(),e=w.height();M.resize(t,e),a.resize(t,e)},y.hooks=L;for(var $={Canvas:K},i=0;i<e.length;++i){var o=e[i];o.init(y,$),o.options&&U.extend(!0,R,o.options)}U.extend(!0,R,t),t&&t.colors&&(R.colors=t.colors),null==R.xaxis.color&&(R.xaxis.color=U.color.parse(R.grid.color).scale("a",.22).toString()),null==R.yaxis.color&&(R.yaxis.color=U.color.parse(R.grid.color).scale("a",.22).toString()),null==R.xaxis.tickColor&&(R.xaxis.tickColor=R.grid.tickColor||R.xaxis.color),null==R.yaxis.tickColor&&(R.yaxis.tickColor=R.grid.tickColor||R.yaxis.color),null==R.grid.borderColor&&(R.grid.borderColor=R.grid.color),null==R.grid.tickColor&&(R.grid.tickColor=U.color.parse(R.grid.color).scale("a",.22).toString());var n,r,s,l,t=(t=w.css("font-size"))?+t.replace("px",""):13,d={style:w.css("font-style"),size:Math.round(.8*t),variant:w.css("font-variant"),weight:w.css("font-weight"),family:w.css("font-family")};for(s=R.xaxes.length||1,n=0;n<s;++n)(r=R.xaxes[n])&&!r.tickColor&&(r.tickColor=r.color),r=U.extend(!0,{},R.xaxis,r),(R.xaxes[n]=r).font&&(r.font=U.extend({},d,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(s=R.yaxes.length||1,n=0;n<s;++n)(r=R.yaxes[n])&&!r.tickColor&&(r.tickColor=r.color),r=U.extend(!0,{},R.yaxis,r),(R.yaxes[n]=r).font&&(r.font=U.extend({},d,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(R.xaxis.noTicks&&null==R.xaxis.ticks&&(R.xaxis.ticks=R.xaxis.noTicks),R.yaxis.noTicks&&null==R.yaxis.ticks&&(R.yaxis.ticks=R.yaxis.noTicks),R.x2axis&&(R.xaxes[1]=U.extend(!0,{},R.xaxis,R.x2axis),R.xaxes[1].position="top",null==R.x2axis.min&&(R.xaxes[1].min=null),null==R.x2axis.max)&&(R.xaxes[1].max=null),R.y2axis&&(R.yaxes[1]=U.extend(!0,{},R.yaxis,R.y2axis),R.yaxes[1].position="right",null==R.y2axis.min&&(R.yaxes[1].min=null),null==R.y2axis.max)&&(R.yaxes[1].max=null),R.grid.coloredAreas&&(R.grid.markings=R.grid.coloredAreas),R.grid.coloredAreasColor&&(R.grid.markingsColor=R.grid.coloredAreasColor),R.lines&&U.extend(!0,R.series.lines,R.lines),R.points&&U.extend(!0,R.series.points,R.points),R.bars&&U.extend(!0,R.series.bars,R.bars),null!=R.shadowSize&&(R.series.shadowSize=R.shadowSize),null!=R.highlightColor&&(R.series.highlightColor=R.highlightColor),n=0;n<R.xaxes.length;++n)B(H,n+1).options=R.xaxes[n];for(n=0;n<R.yaxes.length;++n)B(N,n+1).options=R.yaxes[n];for(l in L)R.hooks[l]&&R.hooks[l].length&&(L[l]=L[l].concat(R.hooks[l]));Y(L.processOptions,[R]),w.css("padding",0).children().filter(function(){return!U(this).hasClass("flot-overlay")&&!U(this).hasClass("flot-base")}).remove(),"static"==w.css("position")&&w.css("position","relative"),M=new K("flot-base",w),a=new K("flot-overlay",w),b=M.context,c=a.context,h=U(a.element).off();t=w.data("plot");function Y(t,e){e=[y].concat(e);for(var a=0;a<t.length;++a)t[a].apply(this,e)}function u(I){var t,e=(j=function(t){for(var e=[],a=0;a<t.length;++a){var i=U.extend(!0,{},R.series);null!=t[a].data?(i.data=t[a].data,delete t[a].data,U.extend(!0,i,t[a]),t[a].data=i.data):i.data=t[a],e.push(i)}return e}(I)).length,a=-1;for(t=0;t<j.length;++t){var i=j[t].color;null!=i&&(e--,"number"==typeof i)&&a<i&&(a=i)}e<=a&&(e=a+1);var o,n=[],r=R.colors,s=r.length,l=0;for(t=0;t<e;t++)o=U.color.parse(r[t%s]||"#666"),t%s==0&&t&&(l=0<=l?l<.5?-l-.2:0:-l),n[t]=o.scale("rgb",1+l);var c,h=0;for(t=0;t<j.length;++t){if(null==(c=j[t]).color?(c.color=n[h].toString(),++h):"number"==typeof c.color&&(c.color=n[c.color].toString()),null==c.lines.show){var d,u=!0;for(d in c)if(c[d]&&c[d].show){u=!1;break}u&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=B(H,q(c,"x")),c.yaxis=B(N,q(c,"y"))}var m,p,g,f,x,v,_,b,y,k,w,T,M,S,C=Number.POSITIVE_INFINITY,$=Number.NEGATIVE_INFINITY,z=Number.MAX_VALUE;function D(t,e,a){e<t.datamin&&e!=-z&&(t.datamin=e),a>t.datamax&&a!=z&&(t.datamax=a)}for(U.each(E(),function(t,e){e.datamin=C,e.datamax=$,e.used=!1}),m=0;m<j.length;++m)(x=j[m]).datapoints={points:[]},Y(L.processRawData,[x,x.data,x.datapoints]);for(m=0;m<j.length;++m)if(x=j[m],w=x.data,(T=x.datapoints.format)||((T=[]).push({x:!0,number:!0,required:!0}),T.push({y:!0,number:!0,required:!0}),(x.bars.show||x.lines.show&&x.lines.fill)&&(S=!!(x.bars.show&&x.bars.zero||x.lines.show&&x.lines.zero),T.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:S}),x.bars.horizontal)&&(delete T[T.length-1].y,T[T.length-1].x=!0),x.datapoints.format=T),null==x.datapoints.pointsize){x.datapoints.pointsize=T.length,_=x.datapoints.pointsize,v=x.datapoints.points;var O=x.lines.show&&x.lines.steps;for(x.xaxis.used=x.yaxis.used=!0,p=g=0;p<w.length;++p,g+=_){var F=null==(k=w[p]);if(!F)for(f=0;f<_;++f)b=k[f],(y=T[f])&&(y.number&&null!=b&&(b=+b,isNaN(b)?b=null:b==1/0?b=z:b==-1/0&&(b=-z)),null==b)&&(y.required&&(F=!0),null!=y.defaultValue)&&(b=y.defaultValue),v[g+f]=b;if(F)for(f=0;f<_;++f)null!=(b=v[g+f])&&!1!==(y=T[f]).autoscale&&(y.x&&D(x.xaxis,b,b),y.y)&&D(x.yaxis,b,b),v[g+f]=null;else if(O&&0<g&&null!=v[g-_]&&v[g-_]!=v[g]&&v[g-_+1]!=v[g+1]){for(f=0;f<_;++f)v[g+_+f]=v[g+f];v[g+1]=v[g-_+1],g+=_}}}for(m=0;m<j.length;++m)x=j[m],Y(L.processDatapoints,[x,x.datapoints]);for(m=0;m<j.length;++m){x=j[m],v=x.datapoints.points,_=x.datapoints.pointsize,T=x.datapoints.format;var W=C,A=C,P=$,G=$;for(p=0;p<v.length;p+=_)if(null!=v[p])for(f=0;f<_;++f)b=v[p+f],(y=T[f])&&!1!==y.autoscale&&b!=z&&b!=-z&&(y.x&&(b<W&&(W=b),P<b)&&(P=b),y.y)&&(b<A&&(A=b),G<b)&&(G=b);if(x.bars.show){switch(x.bars.align){case"left":M=0;break;case"right":M=-x.bars.barWidth;break;default:M=-x.bars.barWidth/2}x.bars.horizontal?(A+=M,G+=M+x.bars.barWidth):(W+=M,P+=M+x.bars.barWidth)}D(x.xaxis,W,P),D(x.yaxis,A,G)}U.each(E(),function(t,e){e.datamin==C&&(e.datamin=null),e.datamax==$&&(e.datamax=null)})}function q(t,e){t=t[e+"axis"];return t="number"!=typeof(t="object"==typeof t?t.n:t)?1:t}function E(){return U.grep(H.concat(N),function(t){return t})}function m(t){for(var e,a={},i=0;i<H.length;++i)(e=H[i])&&e.used&&(a["x"+e.n]=e.c2p(t.left));for(i=0;i<N.length;++i)(e=N[i])&&e.used&&(a["y"+e.n]=e.c2p(t.top));return void 0!==a.x1&&(a.x=a.x1),void 0!==a.y1&&(a.y=a.y1),a}function B(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==H?"x":"y",options:U.extend(!0,{},t==H?R.xaxis:R.yaxis)}),t[e-1]}function p(){x&&clearTimeout(x),h.off("mousemove",P),h.off("mouseleave",G),h.off("click auxclick",I),Y(L.shutdown,[h])}function z(){var t,e,a=E(),i=R.grid.show;for(e in T){var o=R.grid.margin||0;T[e]="number"==typeof o?o:o[e]||0}for(e in Y(L.processOffset,[T]),T)"object"==typeof R.grid.borderWidth?T[e]+=i?R.grid.borderWidth[e]:0:T[e]+=i?R.grid.borderWidth:0;if(U.each(a,function(t,e){var a,i=e.options,i=(e.show=null==i.show?e.used:i.show,e.reserveSpace=null==i.reserveSpace?e.show:i.reserveSpace,e),e=i.options,o=+(null!=e.min?e.min:i.datamin),n=+(null!=e.max?e.max:i.datamax),r=n-o;0==r?(a=0==n?1:.01,null==e.min&&(o-=a),null!=e.max&&null==e.min||(n+=a)):null!=(a=e.autoscaleMargin)&&(null==e.min&&(o-=r*a)<0&&null!=i.datamin&&0<=i.datamin&&(o=0),null==e.max)&&0<(n+=r*a)&&null!=i.datamax&&i.datamax<=0&&(n=0),i.min=o,i.max=n}),i){var n=U.grep(a,function(t){return t.show||t.reserveSpace});for(U.each(n,function(t,e){var a=e,i=a.options,o=(o="number"==typeof i.ticks&&0<i.ticks?i.ticks:.3*Math.sqrt("x"==a.direction?M.width:M.height),(a.max-a.min)/o),n=-Math.floor(Math.log(o)/Math.LN10),r=i.tickDecimals;null!=r&&r<n&&(n=r);var s,l=Math.pow(10,-n),c=o/l;if(c<1.5?u=1:c<3?(u=2,2.25<c&&(null==r||n+1<=r)&&(u=2.5,++n)):u=c<7.5?5:10,u*=l,null!=i.minTickSize&&u<i.minTickSize&&(u=i.minTickSize),a.delta=o,a.tickDecimals=Math.max(0,null!=r?r:n),a.tickSize=i.tickSize||u,"time"==i.mode&&!a.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");a.tickGenerator||(a.tickGenerator=function(t){for(var e,a,i,o=[],n=(a=t.min,(i=t.tickSize)*Math.floor(a/i)),r=0,s=Number.NaN;e=s,s=n+r*t.tickSize,o.push(s),++r,s<t.max&&s!=e;);return o},a.tickFormatter=function(t,e){var a=e.tickDecimals?Math.pow(10,e.tickDecimals):1,t=""+Math.round(t*a)/a;if(null!=e.tickDecimals){var i=t.indexOf("."),i=-1==i?0:t.length-i-1;if(i<e.tickDecimals)return(i?t:t+".")+(""+a).substr(1,e.tickDecimals-i)}return t}),"function"==typeof i.tickFormatter&&(a.tickFormatter=function(t,e){return""+i.tickFormatter(t,e)}),null!=i.alignTicksWithAxis&&(s=("x"==a.direction?H:N)[i.alignTicksWithAxis-1])&&s.used&&s!=a&&(0<(c=a.tickGenerator(a)).length&&(null==i.min&&(a.min=Math.min(a.min,c[0])),null==i.max)&&1<c.length&&(a.max=Math.max(a.max,c[c.length-1])),a.tickGenerator=function(t){for(var e,a=[],i=0;i<s.ticks.length;++i)e=(s.ticks[i].v-s.min)/(s.max-s.min),e=t.min+e*(t.max-t.min),a.push(e);return a},a.mode||null!=i.tickDecimals||(l=Math.max(0,1-Math.floor(Math.log(a.delta)/Math.LN10)),1<(o=a.tickGenerator(a)).length&&/\..*0$/.test((o[1]-o[0]).toFixed(l)))||(a.tickDecimals=l));var h,d,u,m=e,r=m.options.ticks,p=[];for(null==r||"number"==typeof r&&0<r?p=m.tickGenerator(m):r&&(p="function"==typeof r?r(m):r),m.ticks=[],h=0;h<p.length;++h){var g=null,f=p[h];"object"==typeof f?(d=+f[0],1<f.length&&(g=f[1])):d=+f,null==g&&(g=m.tickFormatter(d,m)),isNaN(d)||m.ticks.push({v:d,label:g})}u=(n=e).ticks,n.options.autoscaleMargin&&0<u.length&&(null==n.options.min&&(n.min=Math.min(n.min,u[0].v)),null==n.options.max)&&1<u.length&&(n.max=Math.max(n.max,u[u.length-1].v));for(var c=e,o=c.options,x=c.ticks||[],v=o.labelWidth||0,_=o.labelHeight||0,b=v||("x"==c.direction?Math.floor(M.width/(x.length||1)):null),a=c.direction+"Axis "+c.direction+c.n+"Axis",y="flot-"+c.direction+"-axis flot-"+c.direction+c.n+"-axis "+a,k=o.font||"flot-tick-label tickLabel",w=0;w<x.length;++w){var T=x[w];T.label&&(T=M.getTextInfo(y,T.label,k,null,b),v=Math.max(v,T.width),_=Math.max(_,T.height))}c.labelWidth=o.labelWidth||v,c.labelHeight=o.labelHeight||_}),t=n.length-1;0<=t;--t)!function(a){var t=a.labelWidth,e=a.labelHeight,i=a.options.position,o="x"===a.direction,n=a.options.tickLength,r=R.grid.axisMargin,s=R.grid.labelMargin,l=!0,c=!0,h=!0,d=!1;U.each(o?H:N,function(t,e){e&&(e.show||e.reserveSpace)&&(e===a?d=!0:e.options.position===i&&(d?c=!1:l=!1),d||(h=!1))}),c&&(r=0),null==n&&(n=h?"full":5),isNaN(+n)||(s+=+n),o?(e+=s,"bottom"==i?(T.bottom+=e+r,a.box={top:M.height-T.bottom,height:e}):(a.box={top:T.top+r,height:e},T.top+=e+r)):(t+=s,"left"==i?(a.box={left:T.left+r,width:t},T.left+=t+r):(T.right+=t+r,a.box={left:M.width-T.right,width:t})),a.position=i,a.tickLength=n,a.box.padding=s,a.innermost=l}(n[t]);var r,s=R.grid.minBorderMargin;if(null==s)for(r=s=0;r<j.length;++r)s=Math.max(s,2*(j[r].points.radius+j[r].points.lineWidth/2));var l={left:s,right:s,top:s,bottom:s};U.each(E(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(l.left=Math.max(l.left,e.labelWidth/2),l.right=Math.max(l.right,e.labelWidth/2)):(l.bottom=Math.max(l.bottom,e.labelHeight/2),l.top=Math.max(l.top,e.labelHeight/2)))}),T.left=Math.ceil(Math.max(l.left,T.left)),T.right=Math.ceil(Math.max(l.right,T.right)),T.top=Math.ceil(Math.max(l.top,T.top)),T.bottom=Math.ceil(Math.max(l.bottom,T.bottom)),U.each(n,function(t,e){"x"==(e=e).direction?(e.box.left=T.left-e.labelWidth/2,e.box.width=M.width-T.left-T.right+e.labelWidth):(e.box.top=T.top-e.labelHeight/2,e.box.height=M.height-T.bottom-T.top+e.labelHeight)})}if(S=M.width-T.left-T.right,C=M.height-T.bottom-T.top,U.each(a,function(t,e){function a(t){return t}var i,o,n,r;o=(e=e).options.transform||a,n=e.options.inverseTransform,r="x"==e.direction?(i=e.scale=S/Math.abs(o(e.max)-o(e.min)),Math.min(o(e.max),o(e.min))):(i=-(i=e.scale=C/Math.abs(o(e.max)-o(e.min))),Math.max(o(e.max),o(e.min))),e.p2c=o==a?function(t){return(t-r)*i}:function(t){return(o(t)-r)*i},e.c2p=n?function(t){return n(r+t/i)}:function(t){return r+t/i}}),i&&U.each(E(),function(t,e){var a,i,o,n,r,s=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",c="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,h=e.options.font||"flot-tick-label tickLabel";if(M.removeText(c),e.show&&0!=e.ticks.length)for(var d=0;d<e.ticks.length;++d)!(a=e.ticks[d]).label||a.v<e.min||a.v>e.max||("x"==e.direction?(n="center",i=T.left+e.p2c(a.v),"bottom"==e.position?o=s.top+s.padding:(o=s.top+s.height-s.padding,r="bottom")):(r="middle",o=T.top+e.p2c(a.v),"left"==e.position?(i=s.left+s.width-s.padding,n="right"):i=s.left+s.padding),M.addText(c,i,o,a.label,h,null,null,n,r))}),null!=R.legend.container?U(R.legend.container).html(""):w.find(".legend").remove(),R.legend.show){for(var c,h,d,u,m=[],p=[],g=!1,f=R.legend.labelFormatter,x=R.legend.labelBoxFormatter,v=0;v<j.length;++v)(c=j[v]).label&&(h=f?f(c.label,c):c.label,d=x?x(c,v):void 0,h)&&p.push({label:h,labelBox:d,color:c.color});R.legend.sorted&&("function"==typeof R.legend.sorted?p.sort(R.legend.sorted):"reverse"==R.legend.sorted?p.reverse():(u="descending"!=R.legend.sorted,p.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=u?1:-1})));for(var _,b,y,v=0;v<p.length;++v){var k=p[v];v%R.legend.noColumns==0&&(g&&m.push("</tr>"),m.push("<tr>"),g=!0),labelBoxDefault='<div style="border:1px solid '+R.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+k.color+';overflow:hidden"></div></div>',m.push('<td class="legendColorBox">'+(k.labelBox||labelBoxDefault)+'</td><td class="legendLabel">'+k.label+"</td>")}g&&m.push("</tr>"),0!=m.length&&(a='<table style="font-size:smaller;color:'+R.grid.color+'">'+m.join("")+"</table>",null!=R.legend.container?U(R.legend.container).html(a):(_="",b=R.legend.position,null==(y=R.legend.margin)[0]&&(y=[y,y]),"n"==b.charAt(0)?_+="top:"+(y[1]+T.top)+"px;":"s"==b.charAt(0)&&(_+="bottom:"+(y[1]+T.bottom)+"px;"),"e"==b.charAt(1)?_+="right:"+(y[0]+T.right)+"px;":"w"==b.charAt(1)&&(_+="left:"+(y[0]+T.left)+"px;"),b=U('<div class="legend">'+a.replace('style="','style="position:absolute;'+_+";")+"</div>").appendTo(w),0!=R.legend.backgroundOpacity&&(null==(y=R.legend.backgroundColor)&&((y=(y=R.grid.backgroundColor)&&"string"==typeof y?U.color.parse(y):U.color.extract(b,"background-color")).a=1,y=y.toString()),a=b.children(),U('<div style="position:absolute;width:'+a.width()+"px;height:"+a.height()+"px;"+_+"background-color:"+y+';"> </div>').prependTo(b).css("opacity",R.legend.backgroundOpacity))))}}function D(){M.clear(),Y(L.drawBackground,[b]);var t=R.grid;t.show&&t.backgroundColor&&(b.save(),b.translate(T.left,T.top),b.fillStyle=Q(R.grid.backgroundColor,C,0,"rgba(255, 255, 255, 0)"),b.fillRect(0,0,S,C),b.restore()),t.show&&!t.aboveData&&W();for(var e=0;e<j.length;++e){Y(L.drawSeries,[b,j[e]]),a=void 0;var a=j[e];if(a.lines.show){i=void 0;n=void 0;r=void 0;s=void 0;var i=a;var o=function(t,e,a,i,o){var n=t.points,r=t.pointsize,s=null,l=null;b.beginPath();for(var c=r;c<n.length;c+=r){var h=n[c-r],d=n[c-r+1],u=n[c],m=n[c+1];if(null!=h&&null!=u){if(d<=m&&d<o.min){if(m<o.min)continue;h=(o.min-d)/(m-d)*(u-h)+h,d=o.min}else if(m<=d&&m<o.min){if(d<o.min)continue;u=(o.min-d)/(m-d)*(u-h)+h,m=o.min}if(m<=d&&d>o.max){if(m>o.max)continue;h=(o.max-d)/(m-d)*(u-h)+h,d=o.max}else if(d<=m&&m>o.max){if(d>o.max)continue;u=(o.max-d)/(m-d)*(u-h)+h,m=o.max}if(h<=u&&h<i.min){if(u<i.min)continue;d=(i.min-h)/(u-h)*(m-d)+d,h=i.min}else if(u<=h&&u<i.min){if(h<i.min)continue;m=(i.min-h)/(u-h)*(m-d)+d,u=i.min}if(u<=h&&h>i.max){if(u>i.max)continue;d=(i.max-h)/(u-h)*(m-d)+d,h=i.max}else if(h<=u&&u>i.max){if(h>i.max)continue;m=(i.max-h)/(u-h)*(m-d)+d,u=i.max}h==s&&d==l||b.moveTo(i.p2c(h)+e,o.p2c(d)+a),s=u,l=m,b.lineTo(i.p2c(u)+e,o.p2c(m)+a)}}b.stroke()};b.save(),b.translate(T.left,T.top),b.lineJoin="round";var n=i.lines.lineWidth,r=i.shadowSize;0<n&&0<r&&(b.lineWidth=r,b.strokeStyle="rgba(0,0,0,0.1)",s=Math.PI/18,o(i.datapoints,Math.sin(s)*(n/2+r/2),Math.cos(s)*(n/2+r/2),i.xaxis,i.yaxis),b.lineWidth=r/2,o(i.datapoints,Math.sin(s)*(n/2+r/4),Math.cos(s)*(n/2+r/4),i.xaxis,i.yaxis));b.lineWidth=n,b.strokeStyle=i.color;var s=g(i.lines,i.color,0,C);s&&(b.fillStyle=s,function(t,e,a){for(var i=t.points,o=t.pointsize,n=Math.min(Math.max(0,a.min),a.max),r=0,s=!1,l=1,c=0,h=0;!(0<o&&r>i.length+o);){var d,u,m=i[(r+=o)-o],p=i[r-o+l],g=i[r],f=i[r+l];if(s){if(0<o&&null!=m&&null==g){h=r,o=-o,l=2;continue}if(o<0&&r==c+o){b.fill(),s=!1,l=1,r=c=h+(o=-o);continue}}if(null!=m&&null!=g){if(m<=g&&m<e.min){if(g<e.min)continue;p=(e.min-m)/(g-m)*(f-p)+p,m=e.min}else if(g<=m&&g<e.min){if(m<e.min)continue;f=(e.min-m)/(g-m)*(f-p)+p,g=e.min}if(g<=m&&m>e.max){if(g>e.max)continue;p=(e.max-m)/(g-m)*(f-p)+p,m=e.max}else if(m<=g&&g>e.max){if(m>e.max)continue;f=(e.max-m)/(g-m)*(f-p)+p,g=e.max}s||(b.beginPath(),b.moveTo(e.p2c(m),a.p2c(n)),s=!0),p>=a.max&&f>=a.max?(b.lineTo(e.p2c(m),a.p2c(a.max)),b.lineTo(e.p2c(g),a.p2c(a.max))):p<=a.min&&f<=a.min?(b.lineTo(e.p2c(m),a.p2c(a.min)),b.lineTo(e.p2c(g),a.p2c(a.min))):(d=m,u=g,p<=f&&p<a.min&&f>=a.min?(m=(a.min-p)/(f-p)*(g-m)+m,p=a.min):f<=p&&f<a.min&&p>=a.min&&(g=(a.min-p)/(f-p)*(g-m)+m,f=a.min),f<=p&&p>a.max&&f<=a.max?(m=(a.max-p)/(f-p)*(g-m)+m,p=a.max):p<=f&&f>a.max&&p<=a.max&&(g=(a.max-p)/(f-p)*(g-m)+m,f=a.max),m!=d&&b.lineTo(e.p2c(d),a.p2c(p)),b.lineTo(e.p2c(m),a.p2c(p)),b.lineTo(e.p2c(g),a.p2c(f)),g!=u&&(b.lineTo(e.p2c(g),a.p2c(f)),b.lineTo(e.p2c(u),a.p2c(f))))}}}(i.datapoints,i.xaxis,i.yaxis));0<n&&o(i.datapoints,0,0,i.xaxis,i.yaxis);b.restore()}if(a.bars.show&&!function(c){var t;switch(b.save(),b.translate(T.left,T.top),b.lineWidth=c.bars.lineWidth,b.strokeStyle=c.color,c.bars.align){case"left":t=0;break;case"right":t=-c.bars.barWidth;break;default:t=-c.bars.barWidth/2}var e=c.bars.fill?function(t,e){return g(c.bars,c.color,t,e)}:null;(function(t,e,a,i,o,n){for(var r=t.points,s=t.pointsize,l=0;l<r.length;l+=s)null!=r[l]&&A(r[l],r[l+1],r[l+2],e,a,i,o,n,b,c.bars.horizontal,c.bars.lineWidth)})(c.datapoints,t,t+c.bars.barWidth,e,c.xaxis,c.yaxis),b.restore()}(a),a.points.show){r=void 0;s=void 0;n=void 0;o=void 0;i=void 0;r=a;a=function(t,e,a,i,o,n,r,s){for(var l=t.datapoints.points,c=t.datapoints.pointsize,h=b.lineWidth,d=0;d<l.length;d+=c){var u=l[d],m=l[d+1],p=t.data.filter(function(t){return t[0]==u});null==u||u<n.min||u>n.max||m<r.min||m>r.max||(b.beginPath(),u=n.p2c(u),m=r.p2c(m)+i,"circle"==s?b.arc(u,m,e,0,o?Math.PI:2*Math.PI,!1):s(b,u,m,e,o,p[0]),b.closePath(),"function"==typeof a?a(b,p[0]):a&&(b.fillStyle=a,b.fill()),b.stroke(),b.lineWidth=h)}};b.save(),b.translate(T.left,T.top);s=r.points.lineWidth,n=r.shadowSize,o=r.points.radius,i=r.points.symbol;0==s&&(s=1e-4);0<s&&0<n&&(n=n/2,b.lineWidth=n,b.strokeStyle="rgba(0,0,0,0.1)",a(r,o,null,n+n/2,!0,r.xaxis,r.yaxis,i),b.strokeStyle="rgba(0,0,0,0.2)",a(r,o,null,n/2,!0,r.xaxis,r.yaxis,i));b.lineWidth=s,b.strokeStyle=r.color,a(r,o,g(r.points,r.color),0,!1,r.xaxis,r.yaxis,i),b.restore()}}Y(L.draw,[b]),t.show&&t.aboveData&&W(),M.render(),_()}function F(t,e){for(var a,i,o,n,r,s=E(),l=0;l<s.length;++l)if((a=s[l]).direction==e&&t[i=t[i=e+a.n+"axis"]||1!=a.n?i:e+"axis"]){n=t[i].from,r=t[i].to;break}return t[i]||(a=("x"==e?H:N)[0],n=t[e+"1"],r=t[e+"2"]),null!=n&&null!=r&&r<n&&(o=n,n=r,r=o),{from:n,to:r,axis:a}}function W(){b.save(),b.translate(T.left,T.top);var t,e,a=R.grid.markings;if(a)for("function"==typeof a&&((c=y.getAxes()).xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,a=a(c)),t=0;t<a.length;++t){var i,o,n,r=a[t],s=F(r,"x"),l=F(r,"y");null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),s.to<s.axis.min||s.from>s.axis.max||l.to<l.axis.min||l.from>l.axis.max||(s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),i=s.from===s.to,o=l.from===l.to,i&&o)||(s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),i||o?(n=(o=r.lineWidth||R.grid.markingsLineWidth)%2?.5:0,b.beginPath(),b.strokeStyle=r.color||R.grid.markingsColor,b.lineWidth=o,i?(b.moveTo(s.to+n,l.from),b.lineTo(s.to+n,l.to)):(b.moveTo(s.from,l.to+n),b.lineTo(s.to,l.to+n)),b.stroke()):(b.fillStyle=r.color||R.grid.markingsColor,b.fillRect(s.from,l.to,s.to-s.from,l.from-l.to)))}for(var c=E(),h=R.grid.borderWidth,d=0;d<c.length;++d){var u,m,p,g=c[d],f=g.box,x=g.tickLength;if(g.show&&0!=g.ticks.length){for(b.lineWidth=1,"x"==g.direction?(u=0,m="full"==x?"top"==g.position?0:C:f.top-T.top+("top"==g.position?f.height:0)):(m=0,u="full"==x?"left"==g.position?0:S:f.left-T.left+("left"==g.position?f.width:0)),g.innermost||(b.strokeStyle=g.options.color,b.beginPath(),_=p=0,"x"==g.direction?_=S+1:p=C+1,1==b.lineWidth&&("x"==g.direction?m=Math.floor(m)+.5:u=Math.floor(u)+.5),b.moveTo(u,m),b.lineTo(u+_,m+p),b.stroke()),b.strokeStyle=g.options.tickColor,b.beginPath(),t=0;t<g.ticks.length;++t){var v=g.ticks[t].v,_=p=0;isNaN(v)||v<g.min||v>g.max||"full"==x&&("object"==typeof h&&0<h[g.position]||0<h)&&(v==g.min||v==g.max)||("x"==g.direction?(u=g.p2c(v),p="full"==x?-C:x,"top"==g.position&&(p=-p)):(m=g.p2c(v),_="full"==x?-S:x,"left"==g.position&&(_=-_)),1==b.lineWidth&&("x"==g.direction?u=Math.floor(u)+.5:m=Math.floor(m)+.5),b.moveTo(u,m),b.lineTo(u+_,m+p))}b.stroke()}}h&&(e=R.grid.borderColor,"object"==typeof h||"object"==typeof e?("object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),0<(h="object"!=typeof h?{top:h,right:h,bottom:h,left:h}:h).top&&(b.strokeStyle=e.top,b.lineWidth=h.top,b.beginPath(),b.moveTo(0-h.left,0-h.top/2),b.lineTo(S,0-h.top/2),b.stroke()),0<h.right&&(b.strokeStyle=e.right,b.lineWidth=h.right,b.beginPath(),b.moveTo(S+h.right/2,0-h.top),b.lineTo(S+h.right/2,C),b.stroke()),0<h.bottom&&(b.strokeStyle=e.bottom,b.lineWidth=h.bottom,b.beginPath(),b.moveTo(S+h.right,C+h.bottom/2),b.lineTo(0,C+h.bottom/2),b.stroke()),0<h.left&&(b.strokeStyle=e.left,b.lineWidth=h.left,b.beginPath(),b.moveTo(0-h.left/2,C+h.bottom),b.lineTo(0-h.left/2,0),b.stroke())):(b.lineWidth=h,b.strokeStyle=R.grid.borderColor,b.strokeRect(-h/2,-h/2,S+h,C+h))),b.restore()}function A(t,e,a,i,o,n,r,s,l,c,h){var d,u,m,p,g,f,x,v,_;c?(g=!(v=f=x=!0),p=e+i,m=e+o,(u=t)<(d=a)&&(_=u,u=d,d=_,f=!(g=!0))):(v=!(g=f=x=!0),d=t+i,u=t+o,(p=e)<(m=a)&&(_=p,p=m,m=_,x=!(v=!0))),u<r.min||d>r.max||p<s.min||m>s.max||(d<r.min&&(d=r.min,g=!1),u>r.max&&(u=r.max,f=!1),m<s.min&&(m=s.min,v=!1),p>s.max&&(p=s.max,x=!1),d=r.p2c(d),m=s.p2c(m),u=r.p2c(u),p=s.p2c(p),n&&(l.fillStyle=n(m,p),l.fillRect(d,p,u-d,m-p)),0<h&&(g||f||x||v)&&(l.beginPath(),l.moveTo(d,m),g?l.lineTo(d,p):l.moveTo(d,p),x?l.lineTo(u,p):l.moveTo(u,p),f?l.lineTo(u,m):l.moveTo(u,m),v?l.lineTo(d,m):l.moveTo(d,m),l.stroke()))}function g(t,e,a,i){var o=t.fill;return o?"function"==typeof o?o:t.fillColor?Q(t.fillColor,a,i,e):((t=U.color.parse(e)).a="number"==typeof o?o:.4,t.normalize(),t.toString()):null}t&&(t.shutdown(),a.clear()),w.data("plot",y),u(k),z(),D(),R.grid.hoverable&&(h.on("mousemove",P),h.on("mouseleave",G)),R.grid.clickable&&h.on("click auxclick",I),Y(L.bindEvents,[h]);var f=[],x=null;function P(t){R.grid.hoverable&&v("plothover",t,function(t){return 0!=t.hoverable})}function G(t){R.grid.hoverable&&v("plothover",t,function(t){return!1})}function I(t){v("plotclick",t,function(t){return 0!=t.clickable})}function v(t,e,a){var i=h.offset(),o=e.pageX-i.left-T.left,n=e.pageY-i.top-T.top,r=m({left:o,top:n}),s=(r.pageX=e.pageX,r.pageY=e.pageY,function(t,e,a){for(var i,o=R.grid.mouseActiveRadius,n=o*o+1,r=null,s=j.length-1;0<=s;--s)if(a(j[s])){var l,c,h=j[s],d=h.xaxis,u=h.yaxis,m=h.datapoints.points,p=d.c2p(t),g=u.c2p(e),f=o/d.scale,x=o/u.scale,v=h.datapoints.pointsize;if(d.options.inverseTransform&&(f=Number.MAX_VALUE),u.options.inverseTransform&&(x=Number.MAX_VALUE),h.lines.show||h.points.show)for(i=0;i<m.length;i+=v){var _,b=m[i],y=m[i+1];null==b||f<b-p||b-p<-f||x<y-g||y-g<-x||(_=(_=Math.abs(d.p2c(b)-t))*_+(_=Math.abs(u.p2c(y)-e))*_)<n&&(n=_,r=[s,i/v])}if(h.bars.show&&!r){switch(h.bars.align){case"left":l=0;break;case"right":l=-h.bars.barWidth;break;default:l=-h.bars.barWidth/2}for(c=l+h.bars.barWidth,i=0;i<m.length;i+=v){var b=m[i],y=m[i+1],k=m[i+2];null!=b&&(j[s].bars.horizontal?p<=Math.max(k,b)&&p>=Math.min(k,b)&&y+l<=g&&g<=y+c:b+l<=p&&p<=b+c&&g>=Math.min(k,y)&&g<=Math.max(k,y))&&(r=[s,i/v])}}}return r?(s=r[0],i=r[1],v=j[s].datapoints.pointsize,{datapoint:j[s].datapoints.points.slice(i*v,(i+1)*v),dataIndex:i,series:j[s],seriesIndex:s}):null}(o,n,a));if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+i.left+T.left,10),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+i.top+T.top,10)),R.grid.autoHighlight){for(var l=0;l<f.length;++l){var c=f[l];c.auto!=t||s&&c.series==s.series&&c.point[0]==s.datapoint[0]&&c.point[1]==s.datapoint[1]||J(c.series,c.point)}s&&X(s.series,s.datapoint,t)}e.type=t,w.trigger(e,[r,s])}function _(){var t=R.interaction.redrawOverlayInterval;-1==t?O():x=x||setTimeout(O,t)}function O(){var t,e;for(x=null,c.save(),a.clear(),c.translate(T.left,T.top),t=0;t<f.length;++t)((e=f[t]).series.bars.show?function(t,e){var a,i="string"==typeof t.highlightColor?t.highlightColor:U.color.parse(t.color).scale("a",.5).toString(),o=i;switch(t.bars.align){case"left":a=0;break;case"right":a=-t.bars.barWidth;break;default:a=-t.bars.barWidth/2}c.lineWidth=t.bars.lineWidth,c.strokeStyle=i,A(e[0],e[1],e[2]||0,a,a+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,c,t.bars.horizontal,t.bars.lineWidth)}:function(t,e){var a,i=t.data.filter(function(t){return t[0]==e[0]}),o=e[0],n=e[1],r=t.xaxis,s=t.yaxis,l="string"==typeof t.highlightColor?t.highlightColor:U.color.parse(t.color).scale("a",.5).toString();o<r.min||o>r.max||n<s.min||n>s.max||(a=t.points.radius+t.points.lineWidth/2,c.lineWidth=a,c.strokeStyle=l,l=1.5*a,o=r.p2c(o),n=s.p2c(n),c.beginPath(),"circle"==t.points.symbol?c.arc(o,n,l,0,2*Math.PI,!1):t.points.symbol(c,o,n,l,!1,i[0],!0),c.closePath(),c.stroke())})(e.series,e.point);c.restore(),Y(L.drawOverlay,[c])}function X(t,e,a){"number"==typeof t&&(t=j[t]),"number"==typeof e&&(i=t.datapoints.pointsize,e=t.datapoints.points.slice(i*e,i*(e+1)));var i=V(t,e);-1==i?(f.push({series:t,point:e,auto:a}),_()):a||(f[i].auto=!1)}function J(t,e){var a;null==t&&null==e?(f=[],_()):("number"==typeof t&&(t=j[t]),"number"==typeof e&&(a=t.datapoints.pointsize,e=t.datapoints.points.slice(a*e,a*(e+1))),-1!=(a=V(t,e))&&(f.splice(a,1),_()))}function V(t,e){for(var a=0;a<f.length;++a){var i=f[a];if(i.series==t&&i.point[0]==e[0]&&i.point[1]==e[1])return a}return-1}function Q(t,e,a,i){if("string"==typeof t)return t;for(var o=b.createLinearGradient(0,a,0,e),n=0,r=t.colors.length;n<r;++n){var s,l=t.colors[n];"string"!=typeof l&&(s=U.color.parse(i),null!=l.brightness&&(s=s.scale("rgb",l.brightness)),null!=l.opacity&&(s.a*=l.opacity),l=s.toString()),o.addColorStop(n/(r-1),l)}return o}}U.fn.detach||(U.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),K.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var a=this.element,i=this.context,o=this.pixelRatio;this.width!=t&&(a.width=t*o,a.style.width=t+"px",this.width=t),this.height!=e&&(a.height=e*o,a.style.height=e+"px",this.height=e),i.restore(),i.save(),i.scale(o,o)},K.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},K.prototype.render=function(){var t,e=this._textCache;for(t in e)if(m.call(e,t)){var a,i=this.getTextLayer(t),o=e[t];for(a in i.hide(),o)if(m.call(o,a)){var n,r=o[a];for(n in r)if(m.call(r,n)){for(var s,l=r[n].positions,c=0;s=l[c];c++)s.active?s.rendered||(i.append(s.element),s.rendered=!0):(l.splice(c--,1),s.rendered&&s.element.detach());0==l.length&&delete r[n]}}i.show()}},K.prototype.getTextLayer=function(t){var e=this.text[t];return null==e&&(null==this.textContainer&&(this.textContainer=U("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),e=this.text[t]=U("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),e},K.prototype.getTextInfo=function(t,e,a,i,o){var n,r,s;return e=""+e,n="object"==typeof a?a.style+" "+a.variant+" "+a.weight+" "+a.size+"px/"+a.lineHeight+"px "+a.family:a,null==(s=(r=null==(r=(s=null==(s=this._textCache[t])?this._textCache[t]={}:s)[n])?s[n]={}:r)[e])&&(o=U("<div></div>").html(e).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t)),"object"==typeof a?o.css({font:n,color:a.color}):"string"==typeof a&&o.addClass(a),s=r[e]={width:o.outerWidth(!0),height:o.outerHeight(!0),element:o,positions:[]},o.detach()),s},K.prototype.addText=function(t,e,a,i,o,n,r,s,l){var t=this.getTextInfo(t,i,o,n,r),c=t.positions;"center"==s?e-=t.width/2:"right"==s&&(e-=t.width),"middle"==l?a-=t.height/2:"bottom"==l&&(a-=t.height);for(var h,d=0;h=c[d];d++)if(h.x==e&&h.y==a)return void(h.active=!0);h={active:!0,rendered:!1,element:c.length?t.element.clone():t.element,x:e,y:a},c.push(h),h.element.css({top:Math.round(a),left:Math.round(e),"text-align":s})},K.prototype.removeText=function(t,e,a,i,o,n){if(null==i){var r=this._textCache[t];if(null!=r)for(var s in r)if(m.call(r,s)){var l,c=r[s];for(l in c)if(m.call(c,l))for(var h=c[l].positions,d=0;u=h[d];d++)u.active=!1}}else for(var u,h=this.getTextInfo(t,i,o,n).positions,d=0;u=h[d];d++)u.x==e&&u.y==a&&(u.active=!1)},U.plot=function(t,e,a){return new i(U(t),e,a,U.plot.plugins)},U.plot.version="0.8.3",U.plot.plugins=[],U.fn.plot=function(t,e){return this.each(function(){U.plot(this,t,e)})}}(jQuery),function(a){function v(t,e){return e*Math.floor(t/e)}function r(t,e,a,i){if("function"==typeof t.strftime)return t.strftime(e);function o(t,e){return e=""+(null==e?"0":e),1==(t=""+t).length?e+t:t}var n=[],r=!1,s=t.getHours(),l=s<12;null==a&&(a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==i&&(i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);for(var c=12<s?s-12:0==s?12:s,h=0;h<e.length;++h){var d=e.charAt(h);if(r){switch(d){case"a":d=""+i[t.getDay()];break;case"b":d=""+a[t.getMonth()];break;case"d":d=o(t.getDate());break;case"e":d=o(t.getDate()," ");break;case"h":case"H":d=o(s);break;case"I":d=o(c);break;case"l":d=o(c," ");break;case"m":d=o(t.getMonth()+1);break;case"M":d=o(t.getMinutes());break;case"q":d=""+(Math.floor(t.getMonth()/3)+1);break;case"S":d=o(t.getSeconds());break;case"y":d=o(t.getFullYear()%100);break;case"Y":d=""+t.getFullYear();break;case"p":d=l?"am":"pm";break;case"P":d=l?"AM":"PM";break;case"w":d=""+t.getDay()}n.push(d),r=!1}else"%"==d?r=!0:n.push(d)}return n.join("")}function i(t){function e(t,e,a,i){t[e]=function(){return a[i].apply(a,arguments)}}for(var a={date:t},i=(null!=t.strftime&&e(a,"strftime",t,"strftime"),e(a,"getTime",t,"getTime"),e(a,"setTime",t,"setTime"),["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"]),o=0;o<i.length;o++)e(a,"get"+i[o],t,"getUTC"+i[o]),e(a,"set"+i[o],t,"setUTC"+i[o]);return a}function _(t,e){var a;return"browser"==e.timezone?new Date(t):e.timezone&&"utc"!=e.timezone&&"undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date?((a=new timezoneJS.Date).setTimezone(e.timezone),a.setTime(t),a):i(new Date(t))}var b={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},t=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],y=t.concat([[3,"month"],[6,"month"],[1,"year"]]),k=t.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:function(t){t.hooks.processOptions.push(function(t,e){a.each(t.getAxes(),function(t,e){var x=e.options;"time"==x.mode&&(e.tickGenerator=function(t){var e=[],a=_(t.min,x),i=0,o=x.tickSize&&"quarter"===x.tickSize[1]||x.minTickSize&&"quarter"===x.minTickSize[1]?k:y;null!=x.minTickSize&&(i="number"==typeof x.tickSize?x.tickSize:x.minTickSize[0]*b[x.minTickSize[1]]);for(var n=0;n<o.length-1&&!(t.delta<(o[n][0]*b[o[n][1]]+o[n+1][0]*b[o[n+1][1]])/2&&o[n][0]*b[o[n][1]]>=i);++n);var r,s,l=o[n][0],c=("year"==(h=o[n][1])&&(null!=x.minTickSize&&"year"==x.minTickSize[1]?l=Math.floor(x.minTickSize[0]):(r=Math.pow(10,Math.floor(Math.log(t.delta/b.year)/Math.LN10)),l=(s=t.delta/b.year/r)<1.5?1:s<3?2:s<7.5?5:10,l*=r),l<1)&&(l=1),t.tickSize=x.tickSize||[l,h],t.tickSize[0]),h=t.tickSize[1],d=c*b[h],u=("second"==h?a.setSeconds(v(a.getSeconds(),c)):"minute"==h?a.setMinutes(v(a.getMinutes(),c)):"hour"==h?a.setHours(v(a.getHours(),c)):"month"==h?a.setMonth(v(a.getMonth(),c)):"quarter"==h?a.setMonth(3*v(a.getMonth()/3,c)):"year"==h&&a.setFullYear(v(a.getFullYear(),c)),a.setMilliseconds(0),b.minute<=d&&a.setSeconds(0),b.hour<=d&&a.setMinutes(0),b.day<=d&&a.setHours(0),4*b.day<=d&&a.setDate(1),2*b.month<=d&&a.setMonth(v(a.getMonth(),3)),2*b.quarter<=d&&a.setMonth(v(a.getMonth(),6)),b.year<=d&&a.setMonth(0),0),m=Number.NaN;do{var p,g,f=m,m=a.getTime()}while(e.push(m),"month"==h||"quarter"==h?c<1?(a.setDate(1),p=a.getTime(),a.setMonth(a.getMonth()+("quarter"==h?3:1)),g=a.getTime(),a.setTime(m+u*b.hour+(g-p)*c),u=a.getHours(),a.setHours(0)):a.setMonth(a.getMonth()+c*("quarter"==h?3:1)):"year"==h?a.setFullYear(a.getFullYear()+c):a.setTime(m+d),m<t.max&&m!=f);return e},e.tickFormatter=function(t,e){var a,i,o,n,t=_(t,e.options);return null!=x.timeformat?r(t,x.timeformat,x.monthNames,x.dayNames):(a=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],i=e.tickSize[0]*b[e.tickSize[1]],e=e.max-e.min,o=x.twelveHourClock?" %p":"",n=x.twelveHourClock?"%I":"%H",r(t,i<b.minute?n+":%M:%S"+o:i<b.day?e<2*b.day?n+":%M"+o:"%b %d "+n+":%M"+o:i<b.month?"%b %d":a&&i<b.quarter||!a&&i<b.year?e<b.year?"%b":"%b %Y":a&&i<b.year?e<b.year?"Q%q":"Q%q %Y":"%Y",x.monthNames,x.dayNames))})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),a.plot.formatDate=r,a.plot.dateGenerator=_}(jQuery),function(g){g.plot.plugins.push({init:function(c){var r={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},e={},a=null;function i(t){r.active&&(d(t),c.getPlaceholder().trigger("plotselecting",[n()]))}function o(t){1!=t.which?2==t.which&&t.preventDefault():(document.body.focus(),void 0!==document.onselectstart&&null==e.onselectstart&&(e.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==e.ondrag&&(e.ondrag=document.ondrag,document.ondrag=function(){return!1}),h(r.first,t),r.active=!0,a=function(t){if(a=null,r.active)void 0!==document.onselectstart&&(document.onselectstart=e.onselectstart),void 0!==document.ondrag&&(document.ondrag=e.ondrag),r.active=!1,d(t),p()?s():(c.getPlaceholder().trigger("plotselecting",[null]),c.getPlaceholder().trigger("plotunselected",[]))},g(document).one("mouseup",a))}function n(){var i,o,n;return p()&&r.show?(i={},o=r.first,n=r.second,g.each(c.getAxes(),function(t,e){var a;e.used&&(a=e.c2p(o[e.direction]),e=e.c2p(n[e.direction]),i[t]={from:Math.min(a,e),to:Math.max(a,e)})}),i):null}function s(){var t=n();c.getPlaceholder().trigger("plotselected",[t]),t.xaxis&&t.yaxis&&c.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}function l(t,e,a){return e<t?t:a<e?a:e}function h(t,e){var a=c.getOptions(),i=c.getPlaceholder().offset(),o=c.getPlotOffset();t.x=l(0,e.pageX-i.left-o.left,c.width()),t.y=l(0,e.pageY-i.top-o.top,c.height()),"y"==a.selection.mode&&(t.x=t==r.first?0:c.width()),"x"==a.selection.mode&&(t.y=t==r.first?0:c.height())}function d(t){null!=t.pageX&&(h(r.second,t),p()?(r.show=!0,c.triggerRedrawOverlay()):u(!0))}function u(t){r.show&&(r.show=!1,r.active=!1,c.triggerRedrawOverlay(),t||c.getPlaceholder().trigger("plotunselected",[]))}function m(t,e){var a,i,o,n,r,s,l=c.getAxes();for(o in l)if((a=l[o]).direction==e&&t[i=t[i=e+a.n+"axis"]||1!=a.n?i:e+"axis"]){r=t[i].from,s=t[i].to;break}return t[i]||(a=("x"==e?c.getXAxes():c.getYAxes())[0],r=t[e+"1"],s=t[e+"2"]),null!=r&&null!=s&&s<r&&(n=r,r=s,s=n),{from:r,to:s,axis:a}}function p(){var t=c.getOptions().selection.minSize;return Math.abs(r.second.x-r.first.x)>=t&&Math.abs(r.second.y-r.first.y)>=t}c.clearSelection=u,c.setSelection=function(t,e){var a,i=c.getOptions();"y"==i.selection.mode?(r.first.x=0,r.second.x=c.width()):(a=m(t,"x"),r.first.x=a.axis.p2c(a.from),r.second.x=a.axis.p2c(a.to)),"x"==i.selection.mode?(r.first.y=0,r.second.y=c.height()):(a=m(t,"y"),r.first.y=a.axis.p2c(a.from),r.second.y=a.axis.p2c(a.to)),r.show=!0,c.triggerRedrawOverlay(),!e&&p()&&s()},c.getSelection=n,c.hooks.bindEvents.push(function(t,e){null!=t.getOptions().selection.mode&&(e.on("mousemove",i),e.on("mousedown",o))}),c.hooks.drawOverlay.push(function(t,e){var a,i,o;r.show&&p()&&(a=t.getPlotOffset(),t=t.getOptions(),e.save(),e.translate(a.left,a.top),a=g.color.parse(t.selection.color),e.strokeStyle=a.scale("a",.8).toString(),e.lineWidth=1,e.lineJoin=t.selection.shape,e.fillStyle=a.scale("a",.4).toString(),t=Math.min(r.first.x,r.second.x)+.5,a=Math.min(r.first.y,r.second.y)+.5,i=Math.abs(r.second.x-r.first.x)-1,o=Math.abs(r.second.y-r.first.y)-1,e.fillRect(t,a,i,o),e.strokeRect(t,a,i,o),e.restore())}),c.hooks.shutdown.push(function(t,e){e.off("mousemove",i),e.off("mousedown",o),a&&g(document).off("mouseup",a)})},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(r,s,l){var c,h=[],d=r.resize=r.extend(r.resize,{}),u=!1,a="setTimeout",m="resize",p=m+"-special-event",g="pendingDelay",i="activeDelay",o="throttleWindow";function f(t){!0===u&&(u=t||1);for(var e=h.length-1;0<=e;e--){var a,i,o,n=r(h[e]);n[0]==s||n.is(":visible")?(a=n.width(),i=n.height(),!(o=n.data(p))||a===o.w&&i===o.h||(n.trigger(m,[o.w=a,o.h=i]),u=t||!0)):((o=n.data(p)).w=0,o.h=0)}null!==c&&(u&&(null==t||t-u<1e3)?c=s.requestAnimationFrame(f):(c=setTimeout(f,d[g]),u=!1))}d[g]=200,d[i]=20,d[o]=!0,r.event.special[m]={setup:function(){if(!d[o]&&this[a])return!1;var t=r(this);h.push(this),t.data(p,{w:t.width(),h:t.height()}),1===h.length&&(c=l,f())},teardown:function(){if(!d[o]&&this[a])return!1;for(var t=r(this),e=h.length-1;0<=e;e--)if(h[e]==this){h.splice(e,1);break}t.removeData(p),h.length||((u?cancelAnimationFrame:clearTimeout)(c),c=null)},add:function(t){var n;return!(!d[o]&&this[a])&&("function"==typeof t?(n=t,e):(n=t.handler,void(t.handler=e)));function e(t,e,a){var i=r(this),o=i.data(p)||{};o.w=e!==l?e:i.width(),o.h=a!==l?a:i.height(),n.apply(this,arguments)}}},s.requestAnimationFrame||(s.requestAnimationFrame=s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||s.oRequestAnimationFrame||s.msRequestAnimationFrame||function(t,e){return s.setTimeout(function(){t((new Date).getTime())},d[i])}),s.cancelAnimationFrame||(s.cancelAnimationFrame=s.webkitCancelRequestAnimationFrame||s.mozCancelRequestAnimationFrame||s.oCancelRequestAnimationFrame||s.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this),jQuery.plot.plugins.push({init:function(a){function i(){var e,t=a.getPlaceholder();0!=t.width()&&0!=t.height()&&(e=this,(t=a.getOptions().resize).beforeFns.forEach(function(t){"function"==typeof t&&t.call(e,a)}),a.resize(),a.setupGrid(),a.draw(),t.afterFns.forEach(function(t){"function"==typeof t&&t.call(e,a)}))}a.hooks.bindEvents.push(function(t,e){t.getPlaceholder().on("resize",i)}),a.hooks.shutdown.push(function(t,e){t.getPlaceholder().off("resize",i)})},options:{resize:{beforeFns:[],afterFns:[]}},name:"resize",version:"1.0"}),jQuery.plot.plugins.push({init:function(a){var o={x:-1,y:-1,locked:!1};function i(t){o.locked||-1!=o.x&&(o.x=-1,a.triggerRedrawOverlay())}function n(t){var e;o.locked||(a.getSelection&&a.getSelection()?o.x=-1:(e=a.offset(),o.x=Math.max(0,Math.min(t.pageX-e.left,a.width())),o.y=Math.max(0,Math.min(t.pageY-e.top,a.height())),a.triggerRedrawOverlay()))}a.setCrosshair=function(t){t?(t=a.p2c(t),o.x=Math.max(0,Math.min(t.left,a.width())),o.y=Math.max(0,Math.min(t.top,a.height()))):o.x=-1,a.triggerRedrawOverlay()},a.clearCrosshair=function(){a.setCrosshair()},a.lockCrosshair=function(t){t&&a.setCrosshair(t),o.locked=!0},a.unlockCrosshair=function(){o.locked=!1},a.hooks.bindEvents.push(function(t,e){t.getOptions().crosshair.mode&&(e.on("mouseout",i),e.on("mousemove",n))}),a.hooks.drawOverlay.push(function(t,e){var a,i=t.getOptions().crosshair;i.mode&&(a=t.getPlotOffset(),e.save(),e.translate(a.left,a.top),-1!=o.x&&(e.strokeStyle=i.color,e.lineWidth=i.lineWidth,e.lineJoin="round",e.beginPath(),-1!=i.mode.indexOf("x")&&(e.moveTo(o.x,0),e.lineTo(o.x,t.height())),-1!=i.mode.indexOf("y")&&(e.moveTo(0,o.y),e.lineTo(t.width(),o.y)),e.stroke()),e.restore())}),a.hooks.shutdown.push(function(t,e){e.off("mouseout",i),e.off("mousemove",n)})},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"}),$.extend(!0,GTmetrix,{functions:{graph_report_history:function(G,r,I,O,t){t=t||"#history"===window.location.hash;var R,H,N,L=0,Y=0,q=$("#graph-notes-toggle").prop("checked"),E=[],T=[],B={},X={},J={},V=1,Q={},a=($graphTip=jQuery("<div>",{id:"graph-tip",class:"graph-tip-holder"}).appendTo(document.body),adding_note=!1,adding_note_update=!1,current_selecting=!1,page_has_lighthouse=!1,page_has_legacy=!1,graphs=[],$timingLabels={},timings_key_map={"Time to First Byte":"ttfb","First Contentful Paint":"first_contentful_paint","Largest Contentful Paint":"largest_contentful_paint","Time to Interactive":"interactive","Onload Time":"onload","Fully Loaded":"fully_loaded","Total Blocking Time":"total_blocking_time","Speed Index":"speed_index","Cumulative Layout Shift":"cumulative_layout_shift"},axis_cache={time:{},size:{},elems:{},score:{}},Object.keys(GTmetrix.vars.history_timings||{}).length||(GTmetrix.vars.history_timings={ttfb:1,first_contentful_paint:1,largest_contentful_paint:1,interactive:1,onload:1,fully_loaded:1,total_blocking_time:1,speed_index:1,cumulative_layout_shift:1}),GTmetrix.vars.timezone||(GTmetrix.vars.timezone="America/Vancouver"),!1);function U(t){if(!a||t){if(a=!0,t)for(var e in Y=L=0,graphs)graphs[e].plot.destroy(),it(graphs[e].name).empty(),z(graphs[e].name).html('<div class="graph-plot-spinner"><div class="spinner"><div></div><div></div><div></div><div></div></div>Loading history data.<br>Please wait a moment.</div>');$.ajax({url:r.graph+(t?"?max=1":""),type:"GET",dataType:"json",success:o,cache:!1})}else o()}function k(t){return GTmetrix.dates.format_display_date(t)+" "+GTmetrix.dates.format_display_time(t)}function A(t,e,a){var i,o;adding_note?(i=t,e=e,o=a,adding_note_update||p(i.data.graph.plot,e)&&w(null,o?o.datapoint[0]:1e3*Math.floor(e.x/1e3),e.pageX,e.pageY)):(i=t,(o=a)&&((e=graphs[0].aggregate_ranges[o.datapoint[0]])?(M(i),F(e.min,e.max)):i.ctrlKey||i.metaKey||2===i.which?window.open(H[o.datapoint[0]].report_url,"_blank"):window.location.href=H[o.datapoint[0]].report_url))}function m(t,e,a,i,o){$graphTip.css({top:a,left:e}).tooltipster({contentAsHTML:!0,interactive:!0,maxWidth:600,content:t,delay:[200,1e3],offsetX:-9,arrow:!1,position:"right",trigger:i?"hover":"custom",functionReady:function(t,e){e.find(".graph-tip-delete").on("click",function(t){var r;t.preventDefault(),(r=i.datapoint[0])&&H[r]&&GTmetrix.modal.show({title:"Delete this report?",text:"Are you sure you want to delete this report? This cannot be undone.",onConfirm:function(){var t,e=0;for(t in graphs){var a,i=graphs[t].series;for(a in i){var o,n=i[a].data;for(o in n)n[o][0]==r&&(n.splice(o,1),e++)}}return 0<e&&(C(),Z()),$.ajax({url:"/dashboard/reports_delete",type:"POST",dataType:"json",data:{report_slug:H[r].report_slug},cache:!1,success:function(t,e){t.success||alert("Error deleting report: "+t.message)}}),!0}})}),o&&e.find(".graph-aggregate-zoom").on("click",o,function(t){t.preventDefault(),C(),F(t.data.min,t.data.max)})}}),$graphTip.tooltipster("show"),i&&$graphTip.data({pointX:i.datapoint[0],pointY:i.datapoint[1]})}function w(o,t,e,a){g(),adding_note_update=!0,null!=o&&(t=s(o));var i=$("input[name=page_id]").val(),n='<button class="btn-small" id="graph-tip-buttons-save">Save</button>',n=(null!=o&&(n+=' <button class="btn-small" id="graph-tip-buttons-delete">Delete</button>'),'<div class="graph-tip-addnote clear"><div class="form-row"><label for="graph-tip-date">Date</label><input type="text" id="graph-tip-date" value=""></div><div class="form-row"><label for="graph-tip-note">Note</label><textarea id="graph-tip-note" rows="4" cols="40"></textarea></div><div class="form-buttons">'+(n+=' <button class="btn-small btn-secondary" id="graph-tip-buttons-cancel">Cancel</button>')+"</div></div>");C(),m(n,e,a),$("#graph-tip-date").datetimepicker({format:"Y/m/d H:i:s",scrollInput:!1}),GTmetrix.dates.set_annotate_calendar_min_max_ms(min_time_ms,max_time_ms),GTmetrix.dates.set_annotate_calendar_value(t),$("#graph-tip-note").val(c(o)),$("#graph-tip-buttons-save").on("click",function(){var a=GTmetrix.dates.get_annotate_calendar_value(),i=$("#graph-tip-note").val();$("input[name=page_id]").val();if(0===i.length)return GTmetrix.tooltip.error($("#graph-tip-note"),"Please enter a note"),!1;null==o||a!=s(o)||i!=c(o)?$.ajax({url:r.annotate,type:"POST",dataType:"json",cache:!1,data:{annotate_id:l(o),date:a,details:i},success:function(t){var e;t&&t.success?(null==o?(e=t.payload.annotate_id,o=E.length,E.push([a,e,i])):(E[o][0]=a,E[o][2]=i),E[o][2]=i,D(),Z()):alert(t.message)}}):D()}),$("#graph-tip-buttons-delete").on("click",function(){$.ajax({url:r.annotate,type:"POST",dataType:"json",cache:!1,data:{page_id:i,annotate_id:l(o),annotate_delete:1},success:function(t){t&&t.success?(E.splice(o,1),o=null,Z()):alert(t.message)}})}),$("#graph-tip-buttons-cancel").on("click",function(){D()})}function M(e,a,t){adding_note?(h=e,d=a,adding_note_update||(p(h.data.graph.plot,d)?f:g)()):(h=e,!(d=t)||current_selecting||J[d.datapoint[0]]?($(h.target).removeClass("graph-plot-hover-display"),$("#graph-tip").triggerHandler("mouseleave")):(t=h.data.graph,i=$graphTip.data("pointX"),o=$graphTip.data("pointY"),i!=d.datapoint[0]||o!=d.datapoint[1]?(C(),i=t.aggregate_ranges[d.datapoint[0]],o=d.datapoint[1],l=d.series.yaxis,c=d.series.label,(t=t.hover_formatter)&&(o=t(o,l,c)),n=i?"<h4>"+k(i.min)+" ... "+k(i.max)+"</h4>":"<h4>"+k(d.datapoint[0])+"</h4>",i?(r=d.series.data[d.dataIndex][2].range,s=r.errors&&r.errors.length||0,i.count-s&&(n+=`<p><label>${d.series.label}:</label> `+t(r.min,l,c)+" (min), "+o+" (avg), "+t(r.max,l,c)+" (max)</p>"),(t=r.alerts&&r.alerts.length||0)&&(n+=`<p class="graph-tip-perf-alert">${GTmetrix.utils.createIcon("alarm")}<strong>${t} Performance Alert${1!=t?"s":""} triggered in this period</strong></p>`),s&&(n+=`<p class="graph-tip-perf-error">${GTmetrix.utils.createIcon("x-symbol")}<strong>${s} Failed Report${1!=s?"s":""} in this period</strong></p>`),n+=`<p class="graph-tip-links"><a href="#" class="graph-aggregate-zoom">Zoom in (${i.count} reports)</a></p>`):(n+=`<p><label>${d.series.label}:</label> ${o}</p>`,H&&(l=H[d.datapoint[0]].report_slug,I&&B[l]&&B[l].alertsArray&&(c=1<B[l].alertsArray.length?"Multiple conditions triggered":B[l].alertsArray[0],n+=`<p class="graph-tip-perf-alert">${GTmetrix.utils.createIcon("alarm")}<strong>Perf. Alert: ${c}</strong></p>`),l!=G?(n+='<p class="graph-tip-links"><a href="'+H[d.datapoint[0]].report_url+'" title="View this report">View Report</a> | '+`<a href="/compare/${G}/${l}" title="Compare this report to the current report">Compare to</a>`,I&&(n+=' | <a href="#" class="graph-tip-delete" title="Delete this report">Delete</a>'),n+="</p>"):n+='<p class="graph-tip-links">(Currently viewing this report)</p>')),m(n,d.pageX-6,d.pageY-5,d,i)):($(h.target).addClass("graph-plot-hover-display"),$("#graph-tip").triggerHandler("mouseenter"))));var i,o,n,r,s,l,c,h,d,u="clearCrosshair";e.data.graph&&(u=p(e.data.graph.plot,a)?"setCrosshair":"clearCrosshair"),graphs.forEach(function(t){e.data.graph&&t.name!==e.data.graph.name&&t.plot&&t.plot[u](a)})}function p(t,e){var a=t.offset();return e&&e.pageX>=a.left&&e.pageX<=a.left+t.width()&&e.pageY>=a.top&&e.pageY<=a.top+t.height()}function S(t){current_selecting&&(current_selecting=!1,$(document).off("keydown.flotSelection"))}function P(e){var t;current_selecting||(C(),current_selecting=!0,(t=$(document)).off("keydown.flotSelection"),t.on("keydown.flotSelection",function(t){27===t.which&&e.data.graph.plot.clearSelection()}))}function C(){$graphTip.hasClass("tooltipstered")&&$graphTip.tooltipster("destroy"),$graphTip.removeData("pointX"),$graphTip.removeData("pointY")}function K(t,e,a){return a&&"Cumulative Layout Shift"==a?Number(t.toFixed(2)):(a=e?e.tickDecimals:1,a=Math.max(a,1),t.toFixed(a)+"s")}function et(t,e,a){e=e?e.tickDecimals:1;return t.toFixed(e)+"%"}function at(t,e,a){var i;return a&&"Requests"==a?Math.round(t):(a=Math.ceil(Math.log(t)/Math.log(10)))<=3?t.toFixed(0)+"B":a<=6?(i=6-a,(t/Math.pow(2,10)).toFixed(i=i<0?0:i)+"KB"):a<=9?(i=9-a,(t/Math.pow(2,20)).toFixed(i=i<0?0:i)+"MB"):void 0}function z(t){return $("#performance-"+t+"-graph")}function it(t){return $("#performance-"+t+"-legend")}function s(t){return null==t?"":E[t][0]}function l(t){return null==t?null:E[t][1]}function c(t){return null==t?"":E[t][2]}function ot(){adding_note=!1,$(".graph-controls .add-note-button").each(function(t){$(this).removeClass("add-note-button-disabled"),$(this).off(),$(this).on("click",function(t){t.preventDefault(),nt($(this).closest(".graph-container"),!1)})})}function nt(t,e){adding_note&&adding_note_update!=e&&D(),adding_note=!0,adding_note_update=e,t.find(".graph-plot").removeClass("graph-plot-hover-display"),adding_note_update||(f(),$(".graph-controls .add-note-button").each(function(t){$(this).addClass("add-note-button-disabled"),$(this).off(),$(this).on("click",function(t){t.preventDefault(),D()})}))}function f(){$(".graph-plot").each(function(t){$(this).addClass("add-note-crosshairs")})}function g(){$(".add-note-crosshairs").each(function(t){$(this).removeClass("add-note-crosshairs")})}function D(){g(),C(),adding_note=!1,ot()}function o(r){if(r){GTmetrix.cache.view_range={min:0,max:0},r.graphs=[],graphs=r.graphs,R=r.config,J={},page_has_lighthouse=r.page_has_lighthouse,page_has_legacy=r.page_has_legacy;var a=[{name:"time",label:page_has_lighthouse?["Time to First Byte","First Contentful Paint","Largest Contentful Paint","Onload Time","Time to Interactive","Fully Loaded","Total Blocking Time","Speed Index","Cumulative Layout Shift"]:["Time to First Byte","First Contentful Paint","Onload Time","Fully Loaded"]},{name:"size",label:["HTML Size","Total Page Size","Requests"]},{name:"score",label:page_has_lighthouse&&page_has_legacy?["GTmetrix Grade","Performance Score","Structure Score","PageSpeed Score","YSlow Score"]:page_has_legacy?["PageSpeed Score","YSlow Score"]:["GTmetrix Grade","Performance Score","Structure Score"]}];for(i in page_has_lighthouse||page_has_legacy||$("#performance-score-graph").parent(".graph-container").addClass("graph-container-hidden"),a)for(j in graphs[i]=new Object,graphs[i].series=[],graphs[i].name=a[i].name,a[i].label)graphs[i].series[j]=new Object,graphs[i].series[j].data=[],graphs[i].series[j].label=a[i].label[j];page_has_lighthouse&&(graphs[0].series[8].yaxis=2),graphs[1].series[2].yaxis=2;var s=parseInt(R.timestamp_offset);let o=["type","expires","report_slug","gtmetrix_score","performance_score","structure_score","pagespeed_score","yslow_score","ttfb","first_contentful_paint","largest_contentful_paint","onload","interactive","fully_loaded","total_blocking_time","speed_index","cumulative_layout_shift","requests","total_size","html_size"],n=["type","expires","report_error_slug","alert_log_slug","error"];var l,c,h=new Object,d=Object.keys(r.data_index).sort(function(t,e){return parseInt(t)-parseInt(e)});R.cta_tooltip&&3<=d.length&&(T=d[0],(M=d[1])-T<=(T=.05*(d[d.length-1]-T)))&&(l=M-T),d.forEach(function(t){let a=r.data_index[t];var i=1e3*(parseInt(t)+s);0==t&&null!=l&&(i=1e3*(parseInt(l)+s)),h[i]={};let e=o;(e="error"===a[0]?n:e).forEach(function(t,e){h[i][t]=a[e]}),h[i].created=i,h[i].report_slug&&(h[i].report_url=R.base_url+h[i].report_slug+"/")}),r.data_index=h;let t;for(i in r.data_index){var u,m=r.data_index[i];"report"==m.type&&(t=m);for(u of o){var p=-1,g=-1,f=m.created,x=m[u];"error"==m.type&&(x=t?t[u]:0),"ttfb"!=u&&"first_contentful_paint"!=u&&"largest_contentful_paint"!=u&&"interactive"!=u&&"onload"!=u&&"fully_loaded"!=u&&"total_blocking_time"!=u&&"speed_index"!=u&&"cumulative_layout_shift"!=u||(p=0,"ttfb"==u?g=0:"first_contentful_paint"==u?g=1:"largest_contentful_paint"==u&&page_has_lighthouse?g=2:"onload"==u?g=page_has_lighthouse?3:2:"interactive"==u&&page_has_lighthouse?g=4:"fully_loaded"==u?g=page_has_lighthouse?5:3:"total_blocking_time"==u&&page_has_lighthouse?g=6:"speed_index"==u&&page_has_lighthouse?g=7:"cumulative_layout_shift"==u&&page_has_lighthouse&&(g=8)),"requests"!=u&&"html_size"!=u&&"total_size"!=u||(p=1,"html_size"==u?g=0:"total_size"==u?g=1:"requests"==u&&(g=2)),!page_has_lighthouse||"gtmetrix_score"!=u&&"performance_score"!=u&&"structure_score"!=u||(p=2,"gtmetrix_score"==u?g=0:"performance_score"==u?g=1:"structure_score"==u&&(g=2)),!page_has_legacy||"pagespeed_score"!=u&&"yslow_score"!=u||(p=2,"pagespeed_score"==u?g=page_has_lighthouse?3:0:"yslow_score"==u&&(g=page_has_lighthouse?4:1)),0<=p&&0<=g&&(f=[f,x,{slug:"report"===m.type?m.report_slug:m.report_error_slug,type:m.type}],r.graphs[p].series[g].data.push(f))}}for(i in graphs)for(j in graphs[i].series)graphs[i].series[j].data.sort(),graphs[i].series[j].data.reverse();for(c in GTmetrix.dates.init("#date-first","#date-last"),min_time_ms=null,max_time_ms=null,graphs){var v,_=graphs[c].series;for(v in _){var b,y=_[v].data;y.length&&(b=y[y.length-1][0],y=y[0][0],(!min_time_ms||b<min_time_ms)&&(min_time_ms=b),!max_time_ms||y>max_time_ms)&&(max_time_ms=y)}}if(GTmetrix.dates.set_min_max_ms(min_time_ms,max_time_ms),GTmetrix.dates.set_view_range_ms(min_time_ms,max_time_ms),R.cta_tooltip&&"load_more"==R.cta_tooltip&&($(".graph-load-more").gtShow(),$(".graph-load-more .btn").one("click",function(){$(".graph-load-more").gtHide(),U(!0)})),H=r.data_index,!O){if(E=r.annotations,I)for(var k of r.alerts_perf)B[k[1]]={alertSlug:k[0],reportSlug:k[1],time:1e3*k[2],alertsArray:k[3]};for(var w of r.errors)X[w[0]]={reportSlug:w[0],time:1e3*w[1],error:w[2]}}let e=o.indexOf("report_slug");Object.keys(H).some(function(t){if(H[t][e]==G)return N=H[t].created,!0}),L=1}if($(".graph-container").filter(":visible").length&&L&&!Y){var t,T,M={mode:"x",lineWidth:2,color:"rgba(100, 100, 100, 0.4)"},e={time:{options:{y2axis:{min:0,tickFormatter:null,tickDecimals:2},crosshair:M,resize:{afterFns:[function(t){for(var e in $(".graph-annotation-icon").remove(),graphs)ct(graphs[e])}]}},formatter:K},size:{options:{yaxis:{tickFormatter:at},y2axis:{min:0,tickDecimals:0,tickFormatter:null},crosshair:M},formatter:at},score:{options:{yaxis:{max:100,tickDecimals:0,tickFormatter:et},y2axis:{reserveSpace:!0},crosshair:M},formatter:et}};for(t in graphs){var o=graphs[t],n=o.name,S=(F=D=z=C=S=void 0,o),C=e[n].options,z=e[n].formatter,o=function(t,e,a,i,o,n,r){if(!J[n[0]]){var s=n[2].count,s=(s=s,Object.keys(Q).length<=2?1<s?2:1:1==s?1:s<V?2:3);if(2==s?(i+=r?1:.75,t.lineWidth+=r?1:.75):3==s&&(i+=r?3:1.75,t.lineWidth+=r?2:.5),n[2].currentReport&&!o){if(r)return;t.save(),t.strokeStyle=$.color.parse(t.strokeStyle).scale("a",.5).toString(),t.lineWidth=t.lineWidth+2.5,t.arc(e,a,1.5*i,0,2*Math.PI,!1),t.closePath(),t.stroke(),t.restore(),t.beginPath()}t.arc(e,a,i,0,o?Math.PI:2*Math.PI,!1)}},n=function(t,e){let a="#ffffff";q&&e[2]&&e[2].range&&(e[2].range.errors&&e[2].range.errors.length?a="#cecece":e[2].range.alerts&&e[2].range.alerts.length&&(a="#d59124")),t.fillStyle=$.color.parse(a).toString(),t.fill()},D=it(S.name),F=(D={lines:{show:!0},points:{show:!0,symbol:o,fill:n},grid:{hoverable:!0,clickable:!0,autoHighlight:!0},xaxis:{mode:"time",timezone:GTmetrix.vars.timezone},yaxis:{tickFormatter:K,labelWidth:40},y2axis:{labelWidth:20},legend:{container:D,noColumns:5},selection:{mode:"x"}},"time"==S.name&&(D.legend.labelFormatter=function(t,e){return'<span class="'+("legend-group-toggle"+((e.data.length?1:0)?"":" legend-group-toggle-inactive"))+'" data-series-key="'+timings_key_map[t]+'">'+t+"</span>"},D.legend.labelBoxFormatter=function(t,e){return'<div class="'+("legend-group-toggle"+((t.data.length?1:0)?"":" legend-group-toggle-inactive"))+'" style="border:1px solid #ccc;padding:1px"><div data-series-key="'+timings_key_map[t.label]+'" style="width:4px;height:0;border:5px solid '+t.color+';overflow:hidden"></div></div>'}),{});$.extend(!0,F,D,C),S.options=F,S.hover_formatter=z}GTmetrix.dates.calendar_first&&GTmetrix.dates.calendar_last&&(T=function(t){var e=GTmetrix.dates.get_view_range_ms(!0),a=GTmetrix.cache.view_range;e.min===a.min&&e.max===a.max||tt(0,{xaxis:{from:(GTmetrix.cache.view_range=e).min,to:e.max}})},GTmetrix.dates.calendar_first().datetimepicker({onChangeDateTime:T}),GTmetrix.dates.calendar_last().datetimepicker({onChangeDateTime:T})),I&&ot();try{if(tt(0,{xaxis:{from:min_time_ms,to:max_time_ms}}),Y=1,!rt){var W,A=function(t){var e;t.preventDefault(),"span"==t.target.tagName.toLowerCase()?e=$(t.target).data("series-key"):"td"==t.target.tagName.toLowerCase()?e=$(t.target).find("span").data("series-key"):"div"!=t.target.tagName.toLowerCase()||t.target.id||(e=$(t.target).data("series-key")),null!=e&&(GTmetrix.vars.history_timings[e]?delete GTmetrix.vars.history_timings[e]:GTmetrix.vars.history_timings[e]=1,$.ajax({url:"/dashboard/timings_history_settings",type:"POST",data:GTmetrix.vars.history_timings,dataType:"json",cache:!1}),Z())};for(W in graphs)if("time"===graphs[W].name)for(var P in $("#performance-time-legend").on("click.flot-legend-handler",A),graphs[W].series){P=timings_key_map[graphs[W].series[P].label];$timingLabels[P]=$('#performance-time-legend .legend-group-toggle[data-series-key="'+P+'"]')}rt=1}}catch(t){console.error(t),Y=0}}document.body.dispatchEvent(new Event("onHistoryGraphsLoaded"))}$(".report-tabs").on("tabs-activate",function(t,e){e.panel[0]&&"history"===e.panel[0].id&&U(),C()}),t&&U(),$(window).on("resize",function(t){window.matchMedia("(min-width: 840px)").matches&&(o(),Y)&&$(this).off(t)});var rt=0;function Z(){var t=GTmetrix.dates.get_view_range_ms();tt(0,{xaxis:{from:t.min,to:t.max}})}function st(t){var e=GTmetrix.dates.get_view_range_ms(),a=e.max-e.min,t=t*Math.floor(.5*a/1e3)*1e3;lt(e.min+t,e.max+t,a)}function F(t,e){var a=.1*(e-t);tt(0,{xaxis:{from:t-=a,to:e+=a}})}function lt(t,e,a){t=Math.max(min_time_ms,Math.min(t,e-a)),e=Math.min(max_time_ms,Math.max(e,t+a)),tt(0,{xaxis:{from:t=Math.max(min_time_ms,Math.min(t,e-a)),to:e}})}function W(t,e,a,i){var o,n,r;for(r in t){var s,l=t[r].data;for(s in l){var c=l[s][0],h=l[s][1];null!==c&&null!==h&&(!(c<e||a<c)||-1===e&&-1===a)&&(h<(o=void 0===o?h:o)&&(o=h),(n=void 0===n?h:n)<h)&&(n=h)}}var d={min:o-=.25*o,max:n*=1.25};return 0==o&&0==n&&axis_cache[i].y?d=$.extend(!0,{},axis_cache[i].y):i&&(axis_cache[i].y=d),d}function tt(t,e){if(S(),L){adding_note&&D(),C();var a,i,o,n,r=Math.max(1e3*Math.floor(e.xaxis.from/1e3),min_time_ms),s=Math.min(1e3*Math.floor(e.xaxis.to/1e3),max_time_ms),l=s-r,c=(l<3e4&&(s=r+3e4),2592e5<l?"%b %d":"%b %d %I:%M%P");for(o in J={},graphs){var h,d,u=graphs[o],m=z(u.name),p=(y=u.name,$("#performance-"+y+"-controls"),m.off(),function(t,n,r,e){for(var a=(r-n)/(e-80)*16,i=0;i<t[0].data.length;i++){var o=t[0].data[i][0];n<=o&&o<=r&&0}for(var d=[],s=0;s<t.length;s++){var l={data:[],label:t[s].label};t[s].yaxis&&(l.yaxis=t[s].yaxis),d.push(l)}var c=[],h=null,u=null,m=0,p=null,g=null,f={};function x(t,e,a,i,o,n){if(1<=a){for(var r=1e3*Math.floor((t+e)/2/1e3),s=0;s<i.length;s++){var l=null!=n[s]?n[s]:0,c=a-l,h={count:c,range:o[s]};V<c&&(V=c),c&&(Q[c]=++Q[c]||1),t<=N&&N<=e&&(h.currentReport=1),l=l<c?i[s]/c:null,d[s].data.push([r,l,h]),h.count-h.range.errors.length<1&&(J[r]||=1)}1<a&&(f[r]={min:t,max:e,count:a})}}for(var v,i=0;i<t[0].data.length;i++){if(((o=t[0].data[i][0])<(v=v||o)-a||i+1==t[0].data.length&&R.cta_tooltip)&&(x(p,g,m,h,u,c),h=null,m=0,c=[],v=o),null==h){for(h=[],u=[],s=0;s<t.length;s++){h.push(t[s].data[i][1]),null==t[s].data[i][1]&&(c[s]=1);var _=t[s].data[i][2].slug,b=_&&B[_]&&B[_].reportSlug,_=_&&X[_]&&X[_].reportSlug,b={min:t[s].data[i][1]||1/0,max:t[s].data[i][1]||-1/0,alerts:b?[b]:[],errors:_?[_]:[]};u.push(b)}g=p=o}else{for(s=0;s<t.length;s++){var y=t[s].data[i][1],y=(null==y?c[s]?c[s]+=1:c[s]=1:(h[s]+=y,y<=u[s].min&&(u[s].min=y),y>=u[s].max&&(u[s].max=y)),t[s].data[i][2].slug);y&&B[y]&&B[y].reportSlug&&u[s].alerts.push(B[y].reportSlug),y&&X[y]&&X[y].reportSlug&&u[s].errors.push(y)}o<p?p=o:g<o&&(g=o)}m++}return 1<=m&&(R.cta_tooltip&&i==t[0].data.length&&(J[p]=1),x(p,g,m,h,u,c)),d.forEach(function(t,e){var a=t.data.filter(function(t){return t[0]>=n&&t[0]<=r}),i=t.data.filter(function(t){return t[0]<n}),o=t.data.filter(function(t){return t[0]>r});i.length&&a.push(i[0]),o.length&&a.unshift(o[o.length-1]),t.data=a}),{series:d,ranges:f}}(u.series,r,s,m.width()));if(1==o){T=[];for(var g of p.series[0].data){let t=g[2].range.alerts,e=g[2].range.errors,a=B[t[0]],i=X[e[0]],o=g[0];a?(a.time=g[0],a.type="alert",1<g[2].count&&t.length&&(h=p.ranges[o],(a=$.extend(!0,{},a)).aggData={alertCount:t.length,reportCount:g[2].count,errorCount:g[2].range.errors.length,min:h.min,max:h.max}),T.push(a)):i&&(i.time=g[0],i.type="error",1<g[2].count&&e.length&&(h=p.ranges[o],(i=$.extend(!0,{},i)).aggData={alertCount:0,reportCount:g[2].count,errorCount:g[2].range.errors.length,min:h.min,max:h.max}),T.push(i))}}p.series.some(function(t){if(t.data.length)return d={min:t.data[t.data.length-1][0],max:t.data[0][0]},!0}),"time"===u.name&&(p.series=p.series.map(function(t){return GTmetrix.vars.history_timings[timings_key_map[t.label]]||(t.data=[]),t})),d?axis_cache[u.name].x=d:d=axis_cache[u.name].x,u.viewable={min:r<d.min?d.min:r,max:s>d.max?d.max:s};var f,x,v,_,b,y={xaxis:{min:u.viewable.min,max:u.viewable.max,timeformat:c}},k=("time"===u.name||"score"===u.name?(f=(x=W(p.series,r,s,u.name)).min,b=x.max,"score"===u.name&&100<b&&(b=100),y.yaxis={min:f=f<1?0:f,max:b,timeformat:c}):"size"===u.name&&((f=[]).size=[],f.elements=[],x=W(p.series.slice(2,3),r,s,"elems"),f.elements.min=x.min,f.elements.max=x.max,x=W(p.series.slice(0,2),r,s,"size"),f.size.min=x.min,f.size.max=x.max,y.yaxis={min:f.size.min,max:f.size.max},y.y2axis={min:f.elements.min,max:f.elements.max}),"time"===u.name?u.options.colors=page_has_lighthouse?["#8a98c1","#2ebbf6","#417be7","#a85c84","#b06dc9","#b22f69","#6c467a","#f466a6","#4cc29d"]:["#8a98c1","#2ebbf6","#a85c84","#b22f69"]:"size"===u.name&&(u.options.colors=["#cb4b4b","#3c9adc","#52c866"]),u.aggregate_ranges=p.ranges,u.plot=$.plot(m,p.series,$.extend(!0,{},u.options,y)),$(".graph-controls-pan li").each(function(t){$(this).removeClass("pan-disabled"),$(this).off()}),r==min_time_ms||r<=d.min?(v=1,$(".graph-controls-pan .pan-left").each(function(t){$(this).addClass("pan-disabled")})):$(".graph-controls-pan .pan-left").each(function(t){$(this).on("click",function(t){t.preventDefault(),st(-1)})}),s==max_time_ms||s>=d.max?(_=1,$(".graph-controls-pan .pan-right").each(function(t){$(this).addClass("pan-disabled")})):$(".graph-controls-pan .pan-right").each(function(t){$(this).on("click",function(t){t.preventDefault(),st(1)})}),R.cta_tooltip&&v&&_&&u.plot.getYAxes()[0].tickSize&&(b=u.plot.getYAxes()[0].box.height-2*u.plot.getYAxes()[0].box.padding,y="load_more"==R.cta_tooltip?GTmetrix.utils.createIcon("chevron-thin","icon-left"):"<span></span><span></span><span></span>",m.append('<div class="cta-history-leftbar" style="height:'+b+'px">'+y+"</div>")),a=u.aggregate_ranges[r]?u.aggregate_ranges[r].min:r,i=u.aggregate_ranges[s]?u.aggregate_ranges[s].max:s,{"1d":1,"1w":7,"1m":30,"3m":91,"6m":183,"1y":365});function w(t,e){e<=max_time_ms-min_time_ms?(t.on("click",{durationMs:e},function(t){var e;t.preventDefault(),t=t.data.durationMs,lt((e=(e=i)||GTmetrix.dates.get_view_range_ms().max)-t,e,t)}),Math.abs(e-l)<2592e5&&t.addClass("zoom-selected")):t.addClass("zoom-disabled")}$(".graph-controls-zoom li").each(function(t){$(this).removeClass("zoom-selected zoom-disabled"),$(this).off()}),$(".graph-controls-zoom li").each(function(t){var e=$(this).text();e="All"==e?max_time_ms-min_time_ms:24*k[e]*60*60*1e3,w($(this),e)}),m.on("plotclick",{graph:u},A),m.on("plothover",{graph:u},M),m.on("plotselecting",{graph:u},P),m.on("plotunselected",{graph:u},S),m.on("plotselected",{graph:u},tt)}for(n of graphs)ct(n);$(".cta-history-leftbar").length&&(e=$(".cta-history-leftbar-tooltip-"+R.cta_tooltip).clone(),$(".cta-history-leftbar").tooltipster({contentAsHTML:!0,content:e,theme:"tooltip-info",interactive:!0,maxWidth:425,delay:[200,1e3],position:"right",trigger:"hover",functionReady:function(t,e){"load_more"==R.cta_tooltip&&e.find(".js-graph-load-more").one("click",function(t){t.preventDefault(),$(".graph-load-more").gtHide(),U(!0)})}})),GTmetrix.dates.set_view_range_ms(a,i)}}function ct(t){if(!O&&q){var e,s=t.plot,l=z(t.name),a=t.viewable,c=s.getCanvas().getContext("2d"),h=s.offset().top-l.offset().top,d=s.height(),u={contentAsHTML:!0,interactive:!0,maxWidth:400,delay:[200,1e3],arrow:!1,position:"bottom",trigger:"hover",functionReady:function(t,e){e.find(".graph-aggregate-zoom").on("click",function(t){t.preventDefault(),C(),t.target&&t.target.dataset.min&&t.target.dataset.max&&F(Number(t.target.dataset.min),Number(t.target.dataset.max))})}};for(e of T){var{type:m,reportSlug:p,time:g,alertsArray:f,aggData:x,error:v}=e,_=!!X[p];let o="error",n="x-symbol",r="#9b9b9b";if(g>=a.min&&g<=a.max){let t=s.pointOffset({x:g,y:0}),e=t.left,a=e,i="";if(x)i+=`<h4 class="graph-tip-title">${k(x.min)} ... ${k(x.max)}</h4>`,n=x.alertCount?"alarm":"x-symbol",r=x.errorCount?"#9b9b9b":"#b4991d",x.alertCount&&(o=x.errorCount?"alarm-error":"alarm",i+=`<p class="graph-tip-perf-alert"><strong>${x.alertCount} Performance Alert${1!=x.alertCount?"s":""} triggered in this period</strong></p>`),x.errorCount&&(i+=`<p class="graph-tip-perf-error"><strong>${x.errorCount} Failed Report${1!=x.errorCount?"s":""} in this period</strong></p>`),i+=`<p><a href="#" class="graph-aggregate-zoom" data-min="${x.min}" data-max="${x.max}">Zoom in (${x.reportCount} reports)</a></p>`;else if("alert"==m){o=_?"alarm-error":"alarm",n="alarm",r=_?"#9b9b9b":"#b4991d";var x=_?"Failed Report - Alert triggered":"Performance Alert triggered";if(i+=`<h4 class="graph-tip-title">${k(g)}</h4><p class="graph-tip-perf-${_?"error":"alert"}"><strong>${x}</strong></p>`,f&&f.length){i+="<ul>";for(var b of f)i+=`<li>${b}</li>`;i+="</ul>"}_&&p===GTmetrix.vars.report_error_slug||p&&p===G?i+="<p>(Currently viewing this Report)</p>":(x=_?R.base_url_error:R.base_url,i+=`<p><a href="${x+p+"/"}">View ${_?"Error":"Report"}</a></p>`)}else"error"==m&&(i=i+`<h4 class="graph-tip-title">${k(g)}</h4><p class="graph-tip-perf-error"><strong>Failed Report</strong></p>`+`<ul><li>${v}</li></ul>`,p&&GTmetrix.vars.report_error_slug&&p===GTmetrix.vars.report_error_slug?i+="<p>(Currently viewing this Report)</p>":i+=`<p><a href="${R.base_url_error+p+"/"}">View Error</a></p>`);u.content=i;$(`<div class="graph-annotation-icon graph-annotation-${o}" style="left:${a}px;">${GTmetrix.utils.createIcon(n)}</div>`).appendTo(l).tooltipster(u);c.beginPath(),c.lineWidth=1,c.strokeStyle=$.color.parse(r).toString(),c.moveTo(e,h),c.lineTo(e,h+d),c.stroke()}}for(let t=0;t<E.length;t++){var i,o,n,r=E[t][0],y=E[t][2];r>=a.min&&r<=a.max&&(n=o=(i=s.pointOffset({x:r,y:0})).left,r="<h4>"+k(r)+"</h4><p>"+GTmetrix.utils.escapeHTML(y)+"</p>",u.content=r,y=$(`<div class="graph-annotation-icon graph-annotation-user" style="left:${n}px;">${GTmetrix.utils.createIcon("speech-bubble","icon-comment")}</div>`).appendTo(l).tooltipster(u),I&&y.on("click",{annotate_index:t,left:i.left},function(t){var e=$(this).offset();nt($(this).closest(".graph-container"),!0),w(t.data.annotate_index,null,e.left-20,e.top+20)}),c.beginPath(),c.lineWidth=1,c.strokeStyle=$.color.parse("#a1c6e6").toString(),c.moveTo(o,h),c.lineTo(o,h+d),c.stroke())}}}$("#graph-notes-toggle").on("change",function(t){q=this.checked,$.ajax({url:"/dashboard/timings_history_settings",type:"POST",data:{disable_annotations:q?0:1},dataType:"json",cache:!1}),Z()})}},dates:{ms_in_a_day:864e5,calendar_first:null,calendar_last:null,no_calendar_view_range_min:null,no_calendar_view_range_max:null,init:function(t,e){t&&$(t).length&&e&&$(e).length&&(this.calendar_first=function(){return $(t)},this.calendar_last=function(){return $(e)},this.calendar_first().datetimepicker({format:"Y/m/d",onShow:function(t){var e=GTmetrix.dates.calendar_last();this.setOptions({maxDate:!!e.val()&&e.val()})},closeOnDateSelect:!0,scrollInput:!1,timepicker:!1}),this.calendar_last().datetimepicker({format:"Y/m/d",onShow:function(t){var e=GTmetrix.dates.calendar_first();this.setOptions({minDate:!!e.val()&&e.val()})},closeOnDateSelect:!0,scrollInput:!1,timepicker:!1}))},ms_to_local_date:function(t){t=new timezoneJS.Date(t,GTmetrix.vars.timezone);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},local_date_to_ms:function(t,e){var a;return t instanceof jQuery&&(a=t.selector,t=t.data("xdsoft_datetimepicker").data("xdsoft_datetime").getCurrentTime()),e&&("#date-first"===a?(t.setHours(0),t.setMinutes(0),t.setSeconds(0)):"#date-last"===a&&(t.setHours(23),t.setMinutes(59),t.setSeconds(59),t.setMilliseconds(999))),new timezoneJS.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),GTmetrix.vars.timezone).getTime()},set_min_max_ms:function(t,e){this.calendar_first&&this.calendar_last?(this.calendar_first().datetimepicker({minDate:this.ms_to_local_date(t)}),this.calendar_last().datetimepicker({maxDate:this.ms_to_local_date(e)})):(this.no_calendar_view_range_min=t,this.no_calendar_view_range_min=e)},get_view_range_ms:function(t){var e,t=this.calendar_first&&this.calendar_last?(e=this.local_date_to_ms(this.calendar_first(),t),this.local_date_to_ms(this.calendar_last(),t)):(e=this.no_calendar_view_range_min,this.no_calendar_view_range_max);return{min:e,max:t}},set_view_range_ms:function(t,e){this.calendar_first&&this.calendar_last?(this.calendar_first().datetimepicker({value:this.ms_to_local_date(t)}),this.calendar_last().datetimepicker({value:this.ms_to_local_date(e)})):(this.no_calendar_view_range_min=t,this.no_calendar_view_range_min=e)},set_annotate_calendar_min_max_ms:function(t,e){$("#graph-tip-date").datetimepicker({minDate:this.ms_to_local_date(t),maxDate:this.ms_to_local_date(e)})},get_annotate_calendar_value:function(){return this.local_date_to_ms($("#graph-tip-date"))},set_annotate_calendar_value:function(t){$("#graph-tip-date").datetimepicker({value:this.ms_to_local_date(t)})},format_display_date:function(t){t=new timezoneJS.Date(t,GTmetrix.vars.timezone);return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]+", "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},format_display_time:function(t){var t=new timezoneJS.Date(t,GTmetrix.vars.timezone),e=t.getHours(),t=t.getMinutes();return(e<10?"0":"")+e+":"+(t<10?"0":"")+t}}});